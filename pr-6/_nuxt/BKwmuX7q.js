const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B7ZsNCFf.js","./error-404.Envp5M3U.css","./B0nhcZ-f.js","./error-500.DIywm0Qo.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ch(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ze={},Xi=[],On=()=>{},Ib=()=>!1,Oo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rh=t=>t.startsWith("onUpdate:"),wt=Object.assign,Ph=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ab=Object.prototype.hasOwnProperty,Ke=(t,e)=>Ab.call(t,e),ve=Array.isArray,Zi=t=>No(t)==="[object Map]",$l=t=>No(t)==="[object Set]",Zf=t=>No(t)==="[object Date]",Ae=t=>typeof t=="function",at=t=>typeof t=="string",En=t=>typeof t=="symbol",Je=t=>t!==null&&typeof t=="object",ay=t=>(Je(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),ly=Object.prototype.toString,No=t=>ly.call(t),kb=t=>No(t).slice(8,-1),cy=t=>No(t)==="[object Object]",xh=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,er=Ch(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ul=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Sb=/-(\w)/g,yn=Ul(t=>t.replace(Sb,(e,n)=>n?n.toUpperCase():"")),Cb=/\B([A-Z])/g,Qs=Ul(t=>t.replace(Cb,"-$1").toLowerCase()),jl=Ul(t=>t.charAt(0).toUpperCase()+t.slice(1)),Uc=Ul(t=>t?`on${jl(t)}`:""),Os=(t,e)=>!Object.is(t,e),Ma=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},bu=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Xa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},uy=t=>{const e=at(t)?Number(t):NaN;return isNaN(e)?t:e};let ep;const Bl=()=>ep||(ep=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function At(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=at(s)?Mb(s):At(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(at(t)||Je(t))return t}const Rb=/;(?![^(]*\))/g,Pb=/:([^]+)/,xb=/\/\*[^]*?\*\//g;function Mb(t){const e={};return t.replace(xb,"").split(Rb).forEach(n=>{if(n){const s=n.split(Pb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ee(t){let e="";if(at(t))e=t;else if(ve(t))for(let n=0;n<t.length;n++){const s=Ee(t[n]);s&&(e+=s+" ")}else if(Je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Db(t){if(!t)return null;let{class:e,style:n}=t;return e&&!at(e)&&(t.class=Ee(e)),n&&(t.style=At(n)),t}const Ob="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nb=Ch(Ob);function hy(t){return!!t||t===""}function Vb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=zl(t[s],e[s]);return n}function zl(t,e){if(t===e)return!0;let n=Zf(t),s=Zf(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=En(t),s=En(e),n||s)return t===e;if(n=ve(t),s=ve(e),n||s)return n&&s?Vb(t,e):!1;if(n=Je(t),s=Je(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!zl(t[o],e[o]))return!1}}return String(t)===String(e)}function Lb(t,e){return t.findIndex(n=>zl(n,e))}const dy=t=>!!(t&&t.__v_isRef===!0),Q=t=>at(t)?t:t==null?"":ve(t)||Je(t)&&(t.toString===ly||!Ae(t.toString))?dy(t)?Q(t.value):JSON.stringify(t,fy,2):String(t),fy=(t,e)=>dy(e)?fy(t,e.value):Zi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[jc(s,r)+" =>"]=i,n),{})}:$l(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>jc(n))}:En(e)?jc(e):Je(e)&&!ve(e)&&!cy(e)?String(e):e,jc=(t,e="")=>{var n;return En(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class py{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!e&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ut;try{return Ut=this,e()}finally{Ut=n}}}on(){++this._on===1&&(this.prevScope=Ut,Ut=this)}off(){this._on>0&&--this._on===0&&(Ut=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Mh(t){return new py(t)}function Dh(){return Ut}function Fb(t,e=!1){Ut&&Ut.cleanups.push(t)}let et;const Bc=new WeakSet;class my{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bc.has(this)&&(Bc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tp(this),_y(this);const e=et,n=Tn;et=this,Tn=!0;try{return this.fn()}finally{vy(this),et=e,Tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vh(e);this.deps=this.depsTail=void 0,tp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Tu(this)&&this.run()}get dirty(){return Tu(this)}}let gy=0,no,so;function yy(t,e=!1){if(t.flags|=8,e){t.next=so,so=t;return}t.next=no,no=t}function Oh(){gy++}function Nh(){if(--gy>0)return;if(so){let e=so;for(so=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;no;){let e=no;for(no=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function _y(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vy(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Vh(s),$b(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Tu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(wy(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function wy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===yo)||(t.globalVersion=yo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Tu(t))))return;t.flags|=2;const e=t.dep,n=et,s=Tn;et=t,Tn=!0;try{_y(t);const i=t.fn(t._value);(e.version===0||Os(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{et=n,Tn=s,vy(t),t.flags&=-3}}function Vh(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Vh(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function $b(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Tn=!0;const by=[];function ss(){by.push(Tn),Tn=!1}function is(){const t=by.pop();Tn=t===void 0?!0:t}function tp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=et;et=void 0;try{e()}finally{et=n}}}let yo=0;class Ub{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Lh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!et||!Tn||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new Ub(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,Ty(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=s)}return n}trigger(e){this.version++,yo++,this.notify(e)}notify(e){Oh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Nh()}}}function Ty(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ty(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Za=new WeakMap,mi=Symbol(""),Eu=Symbol(""),_o=Symbol("");function Bt(t,e,n){if(Tn&&et){let s=Za.get(t);s||Za.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Lh),i.map=s,i.key=n),i.track()}}function Qn(t,e,n,s,i,r){const o=Za.get(t);if(!o){yo++;return}const a=c=>{c&&c.trigger()};if(Oh(),e==="clear")o.forEach(a);else{const c=ve(t),u=c&&xh(n);if(c&&n==="length"){const h=Number(s);o.forEach((d,p)=>{(p==="length"||p===_o||!En(p)&&p>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(_o)),e){case"add":c?u&&a(o.get("length")):(a(o.get(mi)),Zi(t)&&a(o.get(Eu)));break;case"delete":c||(a(o.get(mi)),Zi(t)&&a(o.get(Eu)));break;case"set":Zi(t)&&a(o.get(mi));break}}Nh()}function jb(t,e){const n=Za.get(t);return n&&n.get(e)}function Fi(t){const e=Ve(t);return e===t?e:(Bt(e,"iterate",_o),mn(t)?e:e.map(Pt))}function Hl(t){return Bt(t=Ve(t),"iterate",_o),t}const Bb={__proto__:null,[Symbol.iterator](){return zc(this,Symbol.iterator,Pt)},concat(...t){return Fi(this).concat(...t.map(e=>ve(e)?Fi(e):e))},entries(){return zc(this,"entries",t=>(t[1]=Pt(t[1]),t))},every(t,e){return qn(this,"every",t,e,void 0,arguments)},filter(t,e){return qn(this,"filter",t,e,n=>n.map(Pt),arguments)},find(t,e){return qn(this,"find",t,e,Pt,arguments)},findIndex(t,e){return qn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qn(this,"findLast",t,e,Pt,arguments)},findLastIndex(t,e){return qn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hc(this,"includes",t)},indexOf(...t){return Hc(this,"indexOf",t)},join(t){return Fi(this).join(t)},lastIndexOf(...t){return Hc(this,"lastIndexOf",t)},map(t,e){return qn(this,"map",t,e,void 0,arguments)},pop(){return Hr(this,"pop")},push(...t){return Hr(this,"push",t)},reduce(t,...e){return np(this,"reduce",t,e)},reduceRight(t,...e){return np(this,"reduceRight",t,e)},shift(){return Hr(this,"shift")},some(t,e){return qn(this,"some",t,e,void 0,arguments)},splice(...t){return Hr(this,"splice",t)},toReversed(){return Fi(this).toReversed()},toSorted(t){return Fi(this).toSorted(t)},toSpliced(...t){return Fi(this).toSpliced(...t)},unshift(...t){return Hr(this,"unshift",t)},values(){return zc(this,"values",Pt)}};function zc(t,e,n){const s=Hl(t),i=s[e]();return s!==t&&!mn(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const zb=Array.prototype;function qn(t,e,n,s,i,r){const o=Hl(t),a=o!==t&&!mn(t),c=o[e];if(c!==zb[e]){const d=c.apply(t,r);return a?Pt(d):d}let u=n;o!==t&&(a?u=function(d,p){return n.call(this,Pt(d),p,t)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,t)}));const h=c.call(o,u,s);return a&&i?i(h):h}function np(t,e,n,s){const i=Hl(t);let r=n;return i!==t&&(mn(t)?n.length>3&&(r=function(o,a,c){return n.call(this,o,a,c,t)}):r=function(o,a,c){return n.call(this,o,Pt(a),c,t)}),i[e](r,...s)}function Hc(t,e,n){const s=Ve(t);Bt(s,"iterate",_o);const i=s[e](...n);return(i===-1||i===!1)&&Uh(n[0])?(n[0]=Ve(n[0]),s[e](...n)):i}function Hr(t,e,n=[]){ss(),Oh();const s=Ve(t)[e].apply(t,n);return Nh(),is(),s}const Hb=Ch("__proto__,__v_isRef,__isVue"),Ey=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(En));function Wb(t){En(t)||(t=String(t));const e=Ve(this);return Bt(e,"has",t),e.hasOwnProperty(t)}class Iy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?tT:Cy:r?Sy:ky).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ve(e);if(!i){let c;if(o&&(c=Bb[n]))return c;if(n==="hasOwnProperty")return Wb}const a=Reflect.get(e,n,ot(e)?e:s);return(En(n)?Ey.has(n):Hb(n))||(i||Bt(e,"get",n),r)?a:ot(a)?o&&xh(n)?a:a.value:Je(a)?i?vo(a):_n(a):a}}class Ay extends Iy{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=rs(r);if(!mn(s)&&!rs(s)&&(r=Ve(r),s=Ve(s)),!ve(e)&&ot(r)&&!ot(s))return c?!1:(r.value=s,!0)}const o=ve(e)&&xh(n)?Number(n)<e.length:Ke(e,n),a=Reflect.set(e,n,s,ot(e)?e:i);return e===Ve(i)&&(o?Os(s,r)&&Qn(e,"set",n,s):Qn(e,"add",n,s)),a}deleteProperty(e,n){const s=Ke(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Qn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!En(n)||!Ey.has(n))&&Bt(e,"has",n),s}ownKeys(e){return Bt(e,"iterate",ve(e)?"length":mi),Reflect.ownKeys(e)}}class qb extends Iy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Kb=new Ay,Gb=new qb,Qb=new Ay(!0);const Iu=t=>t,ma=t=>Reflect.getPrototypeOf(t);function Yb(t,e,n){return function(...s){const i=this.__v_raw,r=Ve(i),o=Zi(r),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...s),h=n?Iu:e?el:Pt;return!e&&Bt(r,"iterate",c?Eu:mi),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function ga(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Jb(t,e){const n={get(i){const r=this.__v_raw,o=Ve(r),a=Ve(i);t||(Os(i,a)&&Bt(o,"get",i),Bt(o,"get",a));const{has:c}=ma(o),u=e?Iu:t?el:Pt;if(c.call(o,i))return u(r.get(i));if(c.call(o,a))return u(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Bt(Ve(i),"iterate",mi),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Ve(r),a=Ve(i);return t||(Os(i,a)&&Bt(o,"has",i),Bt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,c=Ve(a),u=e?Iu:t?el:Pt;return!t&&Bt(c,"iterate",mi),a.forEach((h,d)=>i.call(r,u(h),u(d),o))}};return wt(n,t?{add:ga("add"),set:ga("set"),delete:ga("delete"),clear:ga("clear")}:{add(i){!e&&!mn(i)&&!rs(i)&&(i=Ve(i));const r=Ve(this);return ma(r).has.call(r,i)||(r.add(i),Qn(r,"add",i,i)),this},set(i,r){!e&&!mn(r)&&!rs(r)&&(r=Ve(r));const o=Ve(this),{has:a,get:c}=ma(o);let u=a.call(o,i);u||(i=Ve(i),u=a.call(o,i));const h=c.call(o,i);return o.set(i,r),u?Os(r,h)&&Qn(o,"set",i,r):Qn(o,"add",i,r),this},delete(i){const r=Ve(this),{has:o,get:a}=ma(r);let c=o.call(r,i);c||(i=Ve(i),c=o.call(r,i)),a&&a.call(r,i);const u=r.delete(i);return c&&Qn(r,"delete",i,void 0),u},clear(){const i=Ve(this),r=i.size!==0,o=i.clear();return r&&Qn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Yb(i,t,e)}),n}function Fh(t,e){const n=Jb(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ke(n,i)&&i in s?n:s,i,r)}const Xb={get:Fh(!1,!1)},Zb={get:Fh(!1,!0)},eT={get:Fh(!0,!1)};const ky=new WeakMap,Sy=new WeakMap,Cy=new WeakMap,tT=new WeakMap;function nT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sT(t){return t.__v_skip||!Object.isExtensible(t)?0:nT(kb(t))}function _n(t){return rs(t)?t:$h(t,!1,Kb,Xb,ky)}function Qi(t){return $h(t,!1,Qb,Zb,Sy)}function vo(t){return $h(t,!0,Gb,eT,Cy)}function $h(t,e,n,s,i){if(!Je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=sT(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function es(t){return rs(t)?es(t.__v_raw):!!(t&&t.__v_isReactive)}function rs(t){return!!(t&&t.__v_isReadonly)}function mn(t){return!!(t&&t.__v_isShallow)}function Uh(t){return t?!!t.__v_raw:!1}function Ve(t){const e=t&&t.__v_raw;return e?Ve(e):t}function jh(t){return!Ke(t,"__v_skip")&&Object.isExtensible(t)&&bu(t,"__v_skip",!0),t}const Pt=t=>Je(t)?_n(t):t,el=t=>Je(t)?vo(t):t;function ot(t){return t?t.__v_isRef===!0:!1}function X(t){return Ry(t,!1)}function Au(t){return Ry(t,!0)}function Ry(t,e){return ot(t)?t:new iT(t,e)}class iT{constructor(e,n){this.dep=new Lh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ve(e),this._value=n?e:Pt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||mn(e)||rs(e);e=s?e:Ve(e),Os(e,n)&&(this._rawValue=e,this._value=s?e:Pt(e),this.dep.trigger())}}function me(t){return ot(t)?t.value:t}function rT(t){return Ae(t)?t():me(t)}const oT={get:(t,e,n)=>e==="__v_raw"?t:me(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ot(i)&&!ot(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Py(t){return es(t)?t:new Proxy(t,oT)}function aT(t){const e=ve(t)?new Array(t.length):{};for(const n in t)e[n]=My(t,n);return e}class lT{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return jb(Ve(this._object),this._key)}}class cT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xy(t,e,n){return ot(t)?t:Ae(t)?new cT(t):Je(t)&&arguments.length>1?My(t,e,n):X(t)}function My(t,e,n){const s=t[e];return ot(s)?s:new lT(t,e,n)}class uT{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Lh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return yy(this,!0),!0}get value(){const e=this.dep.track();return wy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hT(t,e,n=!1){let s,i;return Ae(t)?s=t:(s=t.get,i=t.set),new uT(s,i,n)}const ya={},tl=new WeakMap;let ci;function dT(t,e=!1,n=ci){if(n){let s=tl.get(n);s||tl.set(n,s=[]),s.push(t)}}function fT(t,e,n=Ze){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:c}=n,u=T=>i?T:mn(T)||i===!1||i===0?Yn(T,1):Yn(T);let h,d,p,g,v=!1,E=!1;if(ot(t)?(d=()=>t.value,v=mn(t)):es(t)?(d=()=>u(t),v=!0):ve(t)?(E=!0,v=t.some(T=>es(T)||mn(T)),d=()=>t.map(T=>{if(ot(T))return T.value;if(es(T))return u(T);if(Ae(T))return c?c(T,2):T()})):Ae(t)?e?d=c?()=>c(t,2):t:d=()=>{if(p){ss();try{p()}finally{is()}}const T=ci;ci=h;try{return c?c(t,3,[g]):t(g)}finally{ci=T}}:d=On,e&&i){const T=d,P=i===!0?1/0:i;d=()=>Yn(T(),P)}const D=Dh(),L=()=>{h.stop(),D&&D.active&&Ph(D.effects,h)};if(r&&e){const T=e;e=(...P)=>{T(...P),L()}}let $=E?new Array(t.length).fill(ya):ya;const C=T=>{if(!(!(h.flags&1)||!h.dirty&&!T))if(e){const P=h.run();if(i||v||(E?P.some((F,k)=>Os(F,$[k])):Os(P,$))){p&&p();const F=ci;ci=h;try{const k=[P,$===ya?void 0:E&&$[0]===ya?[]:$,g];$=P,c?c(e,3,k):e(...k)}finally{ci=F}}}else h.run()};return a&&a(C),h=new my(d),h.scheduler=o?()=>o(C,!1):C,g=T=>dT(T,!1,h),p=h.onStop=()=>{const T=tl.get(h);if(T){if(c)c(T,4);else for(const P of T)P();tl.delete(h)}},e?s?C(!0):$=h.run():o?o(C.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function Yn(t,e=1/0,n){if(e<=0||!Je(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ot(t))Yn(t.value,e,n);else if(ve(t))for(let s=0;s<t.length;s++)Yn(t[s],e,n);else if($l(t)||Zi(t))t.forEach(s=>{Yn(s,e,n)});else if(cy(t)){for(const s in t)Yn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Yn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(t,e,n,s){try{return s?t(...s):t()}catch(i){Tr(i,e,n)}}function In(t,e,n,s){if(Ae(t)){const i=Vo(t,e,n,s);return i&&ay(i)&&i.catch(r=>{Tr(r,e,n)}),i}if(ve(t)){const i=[];for(let r=0;r<t.length;r++)i.push(In(t[r],e,n,s));return i}}function Tr(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ze;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,c,u)===!1)return}a=a.parent}if(r){ss(),Vo(r,null,10,[t,c,u]),is();return}}pT(t,n,i,s,o)}function pT(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Yt=[];let Rn=-1;const tr=[];let Is=null,Hi=0;const Dy=Promise.resolve();let nl=null;function os(t){const e=nl||Dy;return t?e.then(this?t.bind(this):t):e}function mT(t){let e=Rn+1,n=Yt.length;for(;e<n;){const s=e+n>>>1,i=Yt[s],r=wo(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Bh(t){if(!(t.flags&1)){const e=wo(t),n=Yt[Yt.length-1];!n||!(t.flags&2)&&e>=wo(n)?Yt.push(t):Yt.splice(mT(e),0,t),t.flags|=1,Oy()}}function Oy(){nl||(nl=Dy.then(Ny))}function ku(t){ve(t)?tr.push(...t):Is&&t.id===-1?Is.splice(Hi+1,0,t):t.flags&1||(tr.push(t),t.flags|=1),Oy()}function sp(t,e,n=Rn+1){for(;n<Yt.length;n++){const s=Yt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Yt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function sl(t){if(tr.length){const e=[...new Set(tr)].sort((n,s)=>wo(n)-wo(s));if(tr.length=0,Is){Is.push(...e);return}for(Is=e,Hi=0;Hi<Is.length;Hi++){const n=Is[Hi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Is=null,Hi=0}}const wo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ny(t){try{for(Rn=0;Rn<Yt.length;Rn++){const e=Yt[Rn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Rn<Yt.length;Rn++){const e=Yt[Rn];e&&(e.flags&=-2)}Rn=-1,Yt.length=0,sl(),nl=null,(Yt.length||tr.length)&&Ny()}}let Dt=null,Vy=null;function il(t){const e=Dt;return Dt=t,Vy=t&&t.type.__scopeId||null,e}function zh(t,e=Dt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&_p(-1);const r=il(e);let o;try{o=t(...i)}finally{il(r),s._d&&_p(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function dn(t,e){if(Dt===null)return t;const n=Gl(Dt),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,c=Ze]=e[i];r&&(Ae(r)&&(r={mounted:r,updated:r}),r.deep&&Yn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Pn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(ss(),In(c,n,8,[t.el,a,t,e]),is())}}const Ly=Symbol("_vte"),gT=t=>t.__isTeleport,io=t=>t&&(t.disabled||t.disabled===""),ip=t=>t&&(t.defer||t.defer===""),rp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,op=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Su=(t,e)=>{const n=t&&t.to;return at(n)?e?e(n):null:n},Fy={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,c,u){const{mc:h,pc:d,pbc:p,o:{insert:g,querySelector:v,createText:E,createComment:D}}=u,L=io(e.props);let{shapeFlag:$,children:C,dynamicChildren:T}=e;if(t==null){const P=e.el=E(""),F=e.anchor=E("");g(P,n,s),g(F,n,s);const k=(y,I)=>{$&16&&(i&&i.isCE&&(i.ce._teleportTarget=y),h(C,y,I,i,r,o,a,c))},w=()=>{const y=e.target=Su(e.props,v),I=Uy(y,e,E,g);y&&(o!=="svg"&&rp(y)?o="svg":o!=="mathml"&&op(y)&&(o="mathml"),L||(k(y,I),Da(e,!1)))};L&&(k(n,F),Da(e,!0)),ip(e.props)?(e.el.__isMounted=!1,Qt(()=>{w(),delete e.el.__isMounted},r)):w()}else{if(ip(e.props)&&t.el.__isMounted===!1){Qt(()=>{Fy.process(t,e,n,s,i,r,o,a,c,u)},r);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,F=e.target=t.target,k=e.targetAnchor=t.targetAnchor,w=io(t.props),y=w?n:F,I=w?P:k;if(o==="svg"||rp(F)?o="svg":(o==="mathml"||op(F))&&(o="mathml"),T?(p(t.dynamicChildren,T,y,i,r,o,a),Yh(t,e,!0)):c||d(t,e,y,I,i,r,o,a,!1),L)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_a(e,n,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=Su(e.props,v);x&&_a(e,x,null,u,0)}else w&&_a(e,F,k,u,1);Da(e,L)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:c,targetStart:u,targetAnchor:h,target:d,props:p}=t;if(d&&(i(u),i(h)),r&&i(c),o&16){const g=r||!io(p);for(let v=0;v<a.length;v++){const E=a[v];s(E,e,n,g,!!E.dynamicChildren)}}},move:_a,hydrate:yT};function _a(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:h}=t,d=r===2;if(d&&s(o,e,n),(!d||io(h))&&c&16)for(let p=0;p<u.length;p++)i(u[p],e,n,2);d&&s(a,e,n)}function yT(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:u,createText:h}},d){const p=e.target=Su(e.props,c);if(p){const g=io(e.props),v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(g)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=v,e.targetAnchor=v&&o(v);else{e.anchor=o(t);let E=v;for(;E;){if(E&&E.nodeType===8){if(E.data==="teleport start anchor")e.targetStart=E;else if(E.data==="teleport anchor"){e.targetAnchor=E,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}E=o(E)}e.targetAnchor||Uy(p,e,h,u),d(v&&o(v),e,p,n,s,i,r)}Da(e,g)}return e.anchor&&o(e.anchor)}const $y=Fy;function Da(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Uy(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Ly]=r,t&&(s(i,t),s(r,t)),r}const $i=Symbol("_leaveCb"),va=Symbol("_enterCb");function _T(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tn(()=>{t.isMounted=!0}),qh(()=>{t.isUnmounting=!0}),t}const un=[Function,Array],vT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un};function wT(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Cu(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:v,onLeaveCancelled:E,onBeforeAppear:D,onAppear:L,onAfterAppear:$,onAppearCancelled:C}=e,T=String(t.key),P=wT(n,t),F=(y,I)=>{y&&In(y,s,9,I)},k=(y,I)=>{const x=I[1];F(y,I),ve(y)?y.every(R=>R.length<=1)&&x():y.length<=1&&x()},w={mode:o,persisted:a,beforeEnter(y){let I=c;if(!n.isMounted)if(r)I=D||c;else return;y[$i]&&y[$i](!0);const x=P[T];x&&Jn(t,x)&&x.el[$i]&&x.el[$i](),F(I,[y])},enter(y){let I=u,x=h,R=d;if(!n.isMounted)if(r)I=L||u,x=$||h,R=C||d;else return;let S=!1;const ye=y[va]=Se=>{S||(S=!0,Se?F(R,[y]):F(x,[y]),w.delayedLeave&&w.delayedLeave(),y[va]=void 0)};I?k(I,[y,ye]):ye()},leave(y,I){const x=String(t.key);if(y[va]&&y[va](!0),n.isUnmounting)return I();F(p,[y]);let R=!1;const S=y[$i]=ye=>{R||(R=!0,I(),ye?F(E,[y]):F(v,[y]),y[$i]=void 0,P[x]===t&&delete P[x])};P[x]=t,g?k(g,[y,S]):S()},clone(y){return Cu(y,e,n,s)}};return w}function bo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function jy(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===pe?(o.patchFlag&128&&i++,s=s.concat(jy(o.children,e,a))):(e||o.type!==an)&&s.push(a!=null?Ti(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ct(t,e){return Ae(t)?wt({name:t.name},e,{setup:t}):t}function Hh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function nr(t,e,n,s,i=!1){if(ve(t)){t.forEach((v,E)=>nr(v,e&&(ve(e)?e[E]:e),n,s,i));return}if(gi(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&nr(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Gl(s.component):s.el,o=i?null:r,{i:a,r:c}=t,u=e&&e.r,h=a.refs===Ze?a.refs={}:a.refs,d=a.setupState,p=Ve(d),g=d===Ze?()=>!1:v=>Ke(p,v);if(u!=null&&u!==c&&(at(u)?(h[u]=null,g(u)&&(d[u]=null)):ot(u)&&(u.value=null)),Ae(c))Vo(c,a,12,[o,h]);else{const v=at(c),E=ot(c);if(v||E){const D=()=>{if(t.f){const L=v?g(c)?d[c]:h[c]:c.value;i?ve(L)&&Ph(L,r):ve(L)?L.includes(r)||L.push(r):v?(h[c]=[r],g(c)&&(d[c]=h[c])):(c.value=[r],t.k&&(h[t.k]=c.value))}else v?(h[c]=o,g(c)&&(d[c]=o)):E&&(c.value=o,t.k&&(h[t.k]=o))};o?(D.id=-1,Qt(D,n)):D()}}}let ap=!1;const Ui=()=>{ap||(console.error("Hydration completed but contains mismatches."),ap=!0)},bT=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",TT=t=>t.namespaceURI.includes("MathML"),wa=t=>{if(t.nodeType===1){if(bT(t))return"svg";if(TT(t))return"mathml"}},Yi=t=>t.nodeType===8;function ET(t){const{mt:e,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:c,createComment:u}}=t,h=(C,T)=>{if(!T.hasChildNodes()){n(null,C,T),sl(),T._vnode=C;return}d(T.firstChild,C,null,null,null),sl(),T._vnode=C},d=(C,T,P,F,k,w=!1)=>{w=w||!!T.dynamicChildren;const y=Yi(C)&&C.data==="[",I=()=>E(C,T,P,F,k,y),{type:x,ref:R,shapeFlag:S,patchFlag:ye}=T;let Se=C.nodeType;T.el=C,ye===-2&&(w=!1,T.dynamicChildren=null);let ie=null;switch(x){case _i:Se!==3?T.children===""?(c(T.el=i(""),o(C),C),ie=C):ie=I():(C.data!==T.children&&(Ui(),C.data=T.children),ie=r(C));break;case an:$(C)?(ie=r(C),L(T.el=C.content.firstChild,C,P)):Se!==8||y?ie=I():ie=r(C);break;case oo:if(y&&(C=r(C),Se=C.nodeType),Se===1||Se===3){ie=C;const ue=!T.children.length;for(let le=0;le<T.staticCount;le++)ue&&(T.children+=ie.nodeType===1?ie.outerHTML:ie.data),le===T.staticCount-1&&(T.anchor=ie),ie=r(ie);return y?r(ie):ie}else I();break;case pe:y?ie=v(C,T,P,F,k,w):ie=I();break;default:if(S&1)(Se!==1||T.type.toLowerCase()!==C.tagName.toLowerCase())&&!$(C)?ie=I():ie=p(C,T,P,F,k,w);else if(S&6){T.slotScopeIds=k;const ue=o(C);if(y?ie=D(C):Yi(C)&&C.data==="teleport start"?ie=D(C,C.data,"teleport end"):ie=r(C),e(T,ue,null,P,F,wa(ue),w),gi(T)&&!T.type.__asyncResolved){let le;y?(le=ze(pe),le.anchor=ie?ie.previousSibling:ue.lastChild):le=C.nodeType===3?fi(""):ze("div"),le.el=C,T.component.subTree=le}}else S&64?Se!==8?ie=I():ie=T.type.hydrate(C,T,P,F,k,w,t,g):S&128&&(ie=T.type.hydrate(C,T,P,F,wa(o(C)),k,w,t,d))}return R!=null&&nr(R,null,F,T),ie},p=(C,T,P,F,k,w)=>{w=w||!!T.dynamicChildren;const{type:y,props:I,patchFlag:x,shapeFlag:R,dirs:S,transition:ye}=T,Se=y==="input"||y==="option";if(Se||x!==-1){S&&Pn(T,null,P,"created");let ie=!1;if($(C)){ie=c_(null,ye)&&P&&P.vnode.props&&P.vnode.props.appear;const le=C.content.firstChild;if(ie){const Fe=le.getAttribute("class");Fe&&(le.$cls=Fe),ye.beforeEnter(le)}L(le,C,P),T.el=C=le}if(R&16&&!(I&&(I.innerHTML||I.textContent))){let le=g(C.firstChild,T,C,P,F,k,w);for(;le;){ba(C,1)||Ui();const Fe=le;le=le.nextSibling,a(Fe)}}else if(R&8){let le=T.children;le[0]===`
`&&(C.tagName==="PRE"||C.tagName==="TEXTAREA")&&(le=le.slice(1)),C.textContent!==le&&(ba(C,0)||Ui(),C.textContent=T.children)}if(I){if(Se||!w||x&48){const le=C.tagName.includes("-");for(const Fe in I)(Se&&(Fe.endsWith("value")||Fe==="indeterminate")||Oo(Fe)&&!er(Fe)||Fe[0]==="."||le)&&s(C,Fe,null,I[Fe],void 0,P)}else if(I.onClick)s(C,"onClick",null,I.onClick,void 0,P);else if(x&4&&es(I.style))for(const le in I.style)I.style[le]}let ue;(ue=I&&I.onVnodeBeforeMount)&&hn(ue,P,T),S&&Pn(T,null,P,"beforeMount"),((ue=I&&I.onVnodeMounted)||S||ie)&&m_(()=>{ue&&hn(ue,P,T),ie&&ye.enter(C),S&&Pn(T,null,P,"mounted")},F)}return C.nextSibling},g=(C,T,P,F,k,w,y)=>{y=y||!!T.dynamicChildren;const I=T.children,x=I.length;for(let R=0;R<x;R++){const S=y?I[R]:I[R]=sn(I[R]),ye=S.type===_i;C?(ye&&!y&&R+1<x&&sn(I[R+1]).type===_i&&(c(i(C.data.slice(S.children.length)),P,r(C)),C.data=S.children),C=d(C,S,F,k,w,y)):ye&&!S.children?c(S.el=i(""),P):(ba(P,1)||Ui(),n(null,S,P,null,F,k,wa(P),w))}return C},v=(C,T,P,F,k,w)=>{const{slotScopeIds:y}=T;y&&(k=k?k.concat(y):y);const I=o(C),x=g(r(C),T,I,P,F,k,w);return x&&Yi(x)&&x.data==="]"?r(T.anchor=x):(Ui(),c(T.anchor=u("]"),I,x),x)},E=(C,T,P,F,k,w)=>{if(ba(C.parentElement,1)||Ui(),T.el=null,w){const x=D(C);for(;;){const R=r(C);if(R&&R!==x)a(R);else break}}const y=r(C),I=o(C);return a(C),n(null,T,I,y,P,F,wa(I),k),P&&(P.vnode.el=T.el,Kl(P,T.el)),y},D=(C,T="[",P="]")=>{let F=0;for(;C;)if(C=r(C),C&&Yi(C)&&(C.data===T&&F++,C.data===P)){if(F===0)return r(C);F--}return C},L=(C,T,P)=>{const F=T.parentNode;F&&F.replaceChild(C,T);let k=P;for(;k;)k.vnode.el===T&&(k.vnode.el=k.subTree.el=C),k=k.parent},$=C=>C.nodeType===1&&C.tagName==="TEMPLATE";return[h,d]}const lp="data-allow-mismatch",IT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ba(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(lp);)t=t.parentElement;const n=t&&t.getAttribute(lp);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return e===0&&s.includes("children")?!0:s.includes(IT[e])}}Bl().requestIdleCallback;Bl().cancelIdleCallback;function AT(t,e){if(Yi(t)&&t.data==="["){let n=1,s=t.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(Yi(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else e(t)}const gi=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Ru(t){Ae(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:c}=t;let u=null,h,d=0;const p=()=>(d++,u=null,g()),g=()=>{let v;return u||(v=u=e().catch(E=>{if(E=E instanceof Error?E:new Error(String(E)),c)return new Promise((D,L)=>{c(E,()=>D(p()),()=>L(E),d+1)});throw E}).then(E=>v!==u&&u?u:(E&&(E.__esModule||E[Symbol.toStringTag]==="Module")&&(E=E.default),h=E,E)))};return ct({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(v,E,D){let L=!1;(E.bu||(E.bu=[])).push(()=>L=!0);const $=()=>{L||D()},C=r?()=>{const T=r($,P=>AT(v,P));T&&(E.bum||(E.bum=[])).push(T)}:$;h?C():g().then(()=>!E.isUnmounted&&C())},get __asyncResolved(){return h},setup(){const v=xt;if(Hh(v),h)return()=>Wc(h,v);const E=C=>{u=null,Tr(C,v,13,!s)};if(a&&v.suspense||hr)return g().then(C=>()=>Wc(C,v)).catch(C=>(E(C),()=>s?ze(s,{error:C}):null));const D=X(!1),L=X(),$=X(!!i);return i&&setTimeout(()=>{$.value=!1},i),o!=null&&setTimeout(()=>{if(!D.value&&!L.value){const C=new Error(`Async component timed out after ${o}ms.`);E(C),L.value=C}},o),g().then(()=>{D.value=!0,v.parent&&Wh(v.parent.vnode)&&v.parent.update()}).catch(C=>{E(C),L.value=C}),()=>{if(D.value&&h)return Wc(h,v);if(L.value&&s)return ze(s,{error:L.value});if(n&&!$.value)return ze(n)}}})}function Wc(t,e){const{ref:n,props:s,children:i,ce:r}=e.vnode,o=ze(t,s,i);return o.ref=n,o.ce=r,delete e.vnode.ce,o}const Wh=t=>t.type.__isKeepAlive;function By(t,e){Hy(t,"a",e)}function zy(t,e){Hy(t,"da",e)}function Hy(t,e,n=xt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Wl(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Wh(i.parent.vnode)&&kT(s,e,n,i),i=i.parent}}function kT(t,e,n,s){const i=Wl(e,t,s,!0);kn(()=>{Ph(s[e],i)},n)}function Wl(t,e,n=xt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ss();const a=$o(n),c=In(e,n,t,o);return a(),is(),c});return s?i.unshift(r):i.push(r),r}}const fs=t=>(e,n=xt)=>{(!hr||t==="sp")&&Wl(t,(...s)=>e(...s),n)},ST=fs("bm"),tn=fs("m"),CT=fs("bu"),Wy=fs("u"),qh=fs("bum"),kn=fs("um"),RT=fs("sp"),PT=fs("rtg"),xT=fs("rtc");function qy(t,e=xt){Wl("ec",t,e)}const Ky="components";function MT(t,e){return Qy(Ky,t,!0,e)||t}const Gy=Symbol.for("v-ndc");function DT(t){return at(t)?Qy(Ky,t,!1)||t:t||Gy}function Qy(t,e,n=!0,s=!1){const i=Dt||xt;if(i){const r=i.type;{const a=I1(r,!1);if(a&&(a===e||a===yn(e)||a===jl(yn(e))))return r}const o=cp(i[t]||r[t],e)||cp(i.appContext[t],e);return!o&&s?r:o}}function cp(t,e){return t&&(t[e]||t[yn(e)]||t[jl(yn(e))])}function Oe(t,e,n,s){let i;const r=n,o=ve(t);if(o||at(t)){const a=o&&es(t);let c=!1,u=!1;a&&(c=!mn(t),u=rs(t),t=Hl(t)),i=new Array(t.length);for(let h=0,d=t.length;h<d;h++)i[h]=e(c?u?el(Pt(t[h])):Pt(t[h]):t[h],h,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Je(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const h=a[c];i[c]=e(t[h],h,c,r)}}else i=[];return i}function OT(t,e,n={},s,i){if(Dt.ce||Dt.parent&&gi(Dt.parent)&&Dt.parent.ce)return j(),it(pe,null,[ze("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),j();const o=r&&Yy(r(n)),a=n.key||o&&o.key,c=it(pe,{key:(a&&!En(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return r&&r._c&&(r._d=!0),c}function Yy(t){return t.some(e=>ur(e)?!(e.type===an||e.type===pe&&!Yy(e.children)):!0)?t:null}const Pu=t=>t?w_(t)?Gl(t):Pu(t.parent):null,ro=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pu(t.parent),$root:t=>Pu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xy(t),$forceUpdate:t=>t.f||(t.f=()=>{Bh(t.update)}),$nextTick:t=>t.n||(t.n=os.bind(t.proxy)),$watch:t=>t1.bind(t)}),qc=(t,e)=>t!==Ze&&!t.__isScriptSetup&&Ke(t,e),NT={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(qc(s,e))return o[e]=1,s[e];if(i!==Ze&&Ke(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Ke(u,e))return o[e]=3,r[e];if(n!==Ze&&Ke(n,e))return o[e]=4,n[e];xu&&(o[e]=0)}}const h=ro[e];let d,p;if(h)return e==="$attrs"&&Bt(t.attrs,"get",""),h(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ze&&Ke(n,e))return o[e]=4,n[e];if(p=c.config.globalProperties,Ke(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return qc(i,e)?(i[e]=n,!0):s!==Ze&&Ke(s,e)?(s[e]=n,!0):Ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ze&&Ke(t,o)||qc(e,o)||(a=r[0])&&Ke(a,o)||Ke(s,o)||Ke(ro,o)||Ke(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function up(t){return ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let xu=!0;function VT(t){const e=Xy(t),n=t.proxy,s=t.ctx;xu=!1,e.beforeCreate&&hp(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:c,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:v,activated:E,deactivated:D,beforeDestroy:L,beforeUnmount:$,destroyed:C,unmounted:T,render:P,renderTracked:F,renderTriggered:k,errorCaptured:w,serverPrefetch:y,expose:I,inheritAttrs:x,components:R,directives:S,filters:ye}=e;if(u&&LT(u,s,null),o)for(const ue in o){const le=o[ue];Ae(le)&&(s[ue]=le.bind(n))}if(i){const ue=i.call(n,n);Je(ue)&&(t.data=_n(ue))}if(xu=!0,r)for(const ue in r){const le=r[ue],Fe=Ae(le)?le.bind(n,n):Ae(le.get)?le.get.bind(n,n):On,Wt=!Ae(le)&&Ae(le.set)?le.set.bind(n):On,Nt=Le({get:Fe,set:Wt});Object.defineProperty(s,ue,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:He=>Nt.value=He})}if(a)for(const ue in a)Jy(a[ue],s,n,ue);if(c){const ue=Ae(c)?c.call(n):c;Reflect.ownKeys(ue).forEach(le=>{Kh(le,ue[le])})}h&&hp(h,t,"c");function ie(ue,le){ve(le)?le.forEach(Fe=>ue(Fe.bind(n))):le&&ue(le.bind(n))}if(ie(ST,d),ie(tn,p),ie(CT,g),ie(Wy,v),ie(By,E),ie(zy,D),ie(qy,w),ie(xT,F),ie(PT,k),ie(qh,$),ie(kn,T),ie(RT,y),ve(I))if(I.length){const ue=t.exposed||(t.exposed={});I.forEach(le=>{Object.defineProperty(ue,le,{get:()=>n[le],set:Fe=>n[le]=Fe,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===On&&(t.render=P),x!=null&&(t.inheritAttrs=x),R&&(t.components=R),S&&(t.directives=S),y&&Hh(t)}function LT(t,e,n=On){ve(t)&&(t=Mu(t));for(const s in t){const i=t[s];let r;Je(i)?"default"in i?r=ts(i.from||s,i.default,!0):r=ts(i.from||s):r=ts(i),ot(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function hp(t,e,n){In(ve(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Jy(t,e,n,s){let i=s.includes(".")?h_(n,s):()=>n[s];if(at(t)){const r=e[t];Ae(r)&&on(i,r)}else if(Ae(t))on(i,t.bind(n));else if(Je(t))if(ve(t))t.forEach(r=>Jy(r,e,n,s));else{const r=Ae(t.handler)?t.handler.bind(n):e[t.handler];Ae(r)&&on(i,r,t)}}function Xy(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let c;return a?c=a:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(u=>rl(c,u,o,!0)),rl(c,e,o)),Je(e)&&r.set(e,c),c}function rl(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&rl(t,r,n,!0),i&&i.forEach(o=>rl(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=FT[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const FT={data:dp,props:fp,emits:fp,methods:Jr,computed:Jr,beforeCreate:Gt,created:Gt,beforeMount:Gt,mounted:Gt,beforeUpdate:Gt,updated:Gt,beforeDestroy:Gt,beforeUnmount:Gt,destroyed:Gt,unmounted:Gt,activated:Gt,deactivated:Gt,errorCaptured:Gt,serverPrefetch:Gt,components:Jr,directives:Jr,watch:UT,provide:dp,inject:$T};function dp(t,e){return e?t?function(){return wt(Ae(t)?t.call(this,this):t,Ae(e)?e.call(this,this):e)}:e:t}function $T(t,e){return Jr(Mu(t),Mu(e))}function Mu(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Gt(t,e){return t?[...new Set([].concat(t,e))]:e}function Jr(t,e){return t?wt(Object.create(null),t,e):e}function fp(t,e){return t?ve(t)&&ve(e)?[...new Set([...t,...e])]:wt(Object.create(null),up(t),up(e??{})):e}function UT(t,e){if(!t)return e;if(!e)return t;const n=wt(Object.create(null),t);for(const s in e)n[s]=Gt(t[s],e[s]);return n}function Zy(){return{app:null,config:{isNativeTag:Ib,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jT=0;function BT(t,e){return function(s,i=null){Ae(s)||(s=wt({},s)),i!=null&&!Je(i)&&(i=null);const r=Zy(),o=new WeakSet,a=[];let c=!1;const u=r.app={_uid:jT++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:k1,get config(){return r.config},set config(h){},use(h,...d){return o.has(h)||(h&&Ae(h.install)?(o.add(h),h.install(u,...d)):Ae(h)&&(o.add(h),h(u,...d))),u},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),u},component(h,d){return d?(r.components[h]=d,u):r.components[h]},directive(h,d){return d?(r.directives[h]=d,u):r.directives[h]},mount(h,d,p){if(!c){const g=u._ceVNode||ze(s,i);return g.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(g,h):t(g,h,p),c=!0,u._container=h,h.__vue_app__=u,Gl(g.component)}},onUnmount(h){a.push(h)},unmount(){c&&(In(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return r.provides[h]=d,u},runWithContext(h){const d=yi;yi=u;try{return h()}finally{yi=d}}};return u}}let yi=null;function Kh(t,e){if(xt){let n=xt.provides;const s=xt.parent&&xt.parent.provides;s===n&&(n=xt.provides=Object.create(s)),n[t]=e}}function ts(t,e,n=!1){const s=Fo();if(s||yi){let i=yi?yi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ae(e)?e.call(s&&s.proxy):e}}function Lo(){return!!(Fo()||yi)}const e_={},t_=()=>Object.create(e_),n_=t=>Object.getPrototypeOf(t)===e_;function zT(t,e,n,s=!1){const i={},r=t_();t.propsDefaults=Object.create(null),s_(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Qi(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function HT(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Ve(i),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(ql(t.emitsOptions,p))continue;const g=e[p];if(c)if(Ke(r,p))g!==r[p]&&(r[p]=g,u=!0);else{const v=yn(p);i[v]=Du(c,a,v,g,t,!1)}else g!==r[p]&&(r[p]=g,u=!0)}}}else{s_(t,e,i,r)&&(u=!0);let h;for(const d in a)(!e||!Ke(e,d)&&((h=Qs(d))===d||!Ke(e,h)))&&(c?n&&(n[d]!==void 0||n[h]!==void 0)&&(i[d]=Du(c,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Ke(e,d))&&(delete r[d],u=!0)}u&&Qn(t.attrs,"set","")}function s_(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(er(c))continue;const u=e[c];let h;i&&Ke(i,h=yn(c))?!r||!r.includes(h)?n[h]=u:(a||(a={}))[h]=u:ql(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(r){const c=Ve(n),u=a||Ze;for(let h=0;h<r.length;h++){const d=r[h];n[d]=Du(i,c,d,u[d],t,!Ke(u,d))}}return o}function Du(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Ke(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ae(c)){const{propsDefaults:u}=i;if(n in u)s=u[n];else{const h=$o(i);s=u[n]=c.call(null,e),h()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Qs(n))&&(s=!0))}return s}const WT=new WeakMap;function i_(t,e,n=!1){const s=n?WT:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let c=!1;if(!Ae(t)){const h=d=>{c=!0;const[p,g]=i_(d,e,!0);wt(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!c)return Je(t)&&s.set(t,Xi),Xi;if(ve(r))for(let h=0;h<r.length;h++){const d=yn(r[h]);pp(d)&&(o[d]=Ze)}else if(r)for(const h in r){const d=yn(h);if(pp(d)){const p=r[h],g=o[d]=ve(p)||Ae(p)?{type:p}:wt({},p),v=g.type;let E=!1,D=!0;if(ve(v))for(let L=0;L<v.length;++L){const $=v[L],C=Ae($)&&$.name;if(C==="Boolean"){E=!0;break}else C==="String"&&(D=!1)}else E=Ae(v)&&v.name==="Boolean";g[0]=E,g[1]=D,(E||Ke(g,"default"))&&a.push(d)}}const u=[o,a];return Je(t)&&s.set(t,u),u}function pp(t){return t[0]!=="$"&&!er(t)}const Gh=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",Qh=t=>ve(t)?t.map(sn):[sn(t)],qT=(t,e,n)=>{if(e._n)return e;const s=zh((...i)=>Qh(e(...i)),n);return s._c=!1,s},r_=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Gh(i))continue;const r=t[i];if(Ae(r))e[i]=qT(i,r,s);else if(r!=null){const o=Qh(r);e[i]=()=>o}}},o_=(t,e)=>{const n=Qh(e);t.slots.default=()=>n},a_=(t,e,n)=>{for(const s in e)(n||!Gh(s))&&(t[s]=e[s])},KT=(t,e,n)=>{const s=t.slots=t_();if(t.vnode.shapeFlag&32){const i=e.__;i&&bu(s,"__",i,!0);const r=e._;r?(a_(s,e,n),n&&bu(s,"_",r,!0)):r_(e,s)}else e&&o_(t,e)},GT=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ze;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:a_(i,e,n):(r=!e.$stable,r_(e,i)),o=e}else e&&(o_(t,e),o={default:1});if(r)for(const a in i)!Gh(a)&&o[a]==null&&delete i[a]},Qt=m_;function QT(t){return l_(t)}function YT(t){return l_(t,ET)}function l_(t,e){const n=Bl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:c,setText:u,setElementText:h,parentNode:d,nextSibling:p,setScopeId:g=On,insertStaticContent:v}=t,E=(M,O,B,Y=null,G=null,J=null,re=void 0,te=null,ee=!!O.dynamicChildren)=>{if(M===O)return;M&&!Jn(M,O)&&(Y=V(M),He(M,G,J,!0),M=null),O.patchFlag===-2&&(ee=!1,O.dynamicChildren=null);const{type:Z,ref:fe,shapeFlag:oe}=O;switch(Z){case _i:D(M,O,B,Y);break;case an:L(M,O,B,Y);break;case oo:M==null&&$(O,B,Y,re);break;case pe:R(M,O,B,Y,G,J,re,te,ee);break;default:oe&1?P(M,O,B,Y,G,J,re,te,ee):oe&6?S(M,O,B,Y,G,J,re,te,ee):(oe&64||oe&128)&&Z.process(M,O,B,Y,G,J,re,te,ee,se)}fe!=null&&G?nr(fe,M&&M.ref,J,O||M,!O):fe==null&&M&&M.ref!=null&&nr(M.ref,null,J,M,!0)},D=(M,O,B,Y)=>{if(M==null)s(O.el=a(O.children),B,Y);else{const G=O.el=M.el;O.children!==M.children&&u(G,O.children)}},L=(M,O,B,Y)=>{M==null?s(O.el=c(O.children||""),B,Y):O.el=M.el},$=(M,O,B,Y)=>{[M.el,M.anchor]=v(M.children,O,B,Y,M.el,M.anchor)},C=({el:M,anchor:O},B,Y)=>{let G;for(;M&&M!==O;)G=p(M),s(M,B,Y),M=G;s(O,B,Y)},T=({el:M,anchor:O})=>{let B;for(;M&&M!==O;)B=p(M),i(M),M=B;i(O)},P=(M,O,B,Y,G,J,re,te,ee)=>{O.type==="svg"?re="svg":O.type==="math"&&(re="mathml"),M==null?F(O,B,Y,G,J,re,te,ee):y(M,O,G,J,re,te,ee)},F=(M,O,B,Y,G,J,re,te)=>{let ee,Z;const{props:fe,shapeFlag:oe,transition:de,dirs:he}=M;if(ee=M.el=o(M.type,J,fe&&fe.is,fe),oe&8?h(ee,M.children):oe&16&&w(M.children,ee,null,Y,G,Kc(M,J),re,te),he&&Pn(M,null,Y,"created"),k(ee,M,M.scopeId,re,Y),fe){for(const Be in fe)Be!=="value"&&!er(Be)&&r(ee,Be,null,fe[Be],J,Y);"value"in fe&&r(ee,"value",null,fe.value,J),(Z=fe.onVnodeBeforeMount)&&hn(Z,Y,M)}he&&Pn(M,null,Y,"beforeMount");const be=c_(G,de);be&&de.beforeEnter(ee),s(ee,O,B),((Z=fe&&fe.onVnodeMounted)||be||he)&&Qt(()=>{Z&&hn(Z,Y,M),be&&de.enter(ee),he&&Pn(M,null,Y,"mounted")},G)},k=(M,O,B,Y,G)=>{if(B&&g(M,B),Y)for(let J=0;J<Y.length;J++)g(M,Y[J]);if(G){let J=G.subTree;if(O===J||f_(J.type)&&(J.ssContent===O||J.ssFallback===O)){const re=G.vnode;k(M,re,re.scopeId,re.slotScopeIds,G.parent)}}},w=(M,O,B,Y,G,J,re,te,ee=0)=>{for(let Z=ee;Z<M.length;Z++){const fe=M[Z]=te?As(M[Z]):sn(M[Z]);E(null,fe,O,B,Y,G,J,re,te)}},y=(M,O,B,Y,G,J,re)=>{const te=O.el=M.el;let{patchFlag:ee,dynamicChildren:Z,dirs:fe}=O;ee|=M.patchFlag&16;const oe=M.props||Ze,de=O.props||Ze;let he;if(B&&si(B,!1),(he=de.onVnodeBeforeUpdate)&&hn(he,B,O,M),fe&&Pn(O,M,B,"beforeUpdate"),B&&si(B,!0),(oe.innerHTML&&de.innerHTML==null||oe.textContent&&de.textContent==null)&&h(te,""),Z?I(M.dynamicChildren,Z,te,B,Y,Kc(O,G),J):re||le(M,O,te,null,B,Y,Kc(O,G),J,!1),ee>0){if(ee&16)x(te,oe,de,B,G);else if(ee&2&&oe.class!==de.class&&r(te,"class",null,de.class,G),ee&4&&r(te,"style",oe.style,de.style,G),ee&8){const be=O.dynamicProps;for(let Be=0;Be<be.length;Be++){const Ue=be[Be],kt=oe[Ue],Et=de[Ue];(Et!==kt||Ue==="value")&&r(te,Ue,kt,Et,G,B)}}ee&1&&M.children!==O.children&&h(te,O.children)}else!re&&Z==null&&x(te,oe,de,B,G);((he=de.onVnodeUpdated)||fe)&&Qt(()=>{he&&hn(he,B,O,M),fe&&Pn(O,M,B,"updated")},Y)},I=(M,O,B,Y,G,J,re)=>{for(let te=0;te<O.length;te++){const ee=M[te],Z=O[te],fe=ee.el&&(ee.type===pe||!Jn(ee,Z)||ee.shapeFlag&198)?d(ee.el):B;E(ee,Z,fe,null,Y,G,J,re,!0)}},x=(M,O,B,Y,G)=>{if(O!==B){if(O!==Ze)for(const J in O)!er(J)&&!(J in B)&&r(M,J,O[J],null,G,Y);for(const J in B){if(er(J))continue;const re=B[J],te=O[J];re!==te&&J!=="value"&&r(M,J,te,re,G,Y)}"value"in B&&r(M,"value",O.value,B.value,G)}},R=(M,O,B,Y,G,J,re,te,ee)=>{const Z=O.el=M?M.el:a(""),fe=O.anchor=M?M.anchor:a("");let{patchFlag:oe,dynamicChildren:de,slotScopeIds:he}=O;he&&(te=te?te.concat(he):he),M==null?(s(Z,B,Y),s(fe,B,Y),w(O.children||[],B,fe,G,J,re,te,ee)):oe>0&&oe&64&&de&&M.dynamicChildren?(I(M.dynamicChildren,de,B,G,J,re,te),(O.key!=null||G&&O===G.subTree)&&Yh(M,O,!0)):le(M,O,B,fe,G,J,re,te,ee)},S=(M,O,B,Y,G,J,re,te,ee)=>{O.slotScopeIds=te,M==null?O.shapeFlag&512?G.ctx.activate(O,B,Y,re,ee):ye(O,B,Y,G,J,re,ee):Se(M,O,ee)},ye=(M,O,B,Y,G,J,re)=>{const te=M.component=v1(M,Y,G);if(Wh(M)&&(te.ctx.renderer=se),w1(te,!1,re),te.asyncDep){if(G&&G.registerDep(te,ie,re),!M.el){const ee=te.subTree=ze(an);L(null,ee,O,B),M.placeholder=ee.el}}else ie(te,M,O,B,G,J,re)},Se=(M,O,B)=>{const Y=O.component=M.component;if(a1(M,O,B))if(Y.asyncDep&&!Y.asyncResolved){ue(Y,O,B);return}else Y.next=O,Y.update();else O.el=M.el,Y.vnode=O},ie=(M,O,B,Y,G,J,re)=>{const te=()=>{if(M.isMounted){let{next:oe,bu:de,u:he,parent:be,vnode:Be}=M;{const Vt=u_(M);if(Vt){oe&&(oe.el=Be.el,ue(M,oe,re)),Vt.asyncDep.then(()=>{M.isUnmounted||te()});return}}let Ue=oe,kt;si(M,!1),oe?(oe.el=Be.el,ue(M,oe,re)):oe=Be,de&&Ma(de),(kt=oe.props&&oe.props.onVnodeBeforeUpdate)&&hn(kt,be,oe,Be),si(M,!0);const Et=Gc(M),St=M.subTree;M.subTree=Et,E(St,Et,d(St.el),V(St),M,G,J),oe.el=Et.el,Ue===null&&Kl(M,Et.el),he&&Qt(he,G),(kt=oe.props&&oe.props.onVnodeUpdated)&&Qt(()=>hn(kt,be,oe,Be),G)}else{let oe;const{el:de,props:he}=O,{bm:be,m:Be,parent:Ue,root:kt,type:Et}=M,St=gi(O);if(si(M,!1),be&&Ma(be),!St&&(oe=he&&he.onVnodeBeforeMount)&&hn(oe,Ue,O),si(M,!0),de&&Qe){const Vt=()=>{M.subTree=Gc(M),Qe(de,M.subTree,M,G,null)};St&&Et.__asyncHydrate?Et.__asyncHydrate(de,M,Vt):Vt()}else{kt.ce&&kt.ce._def.shadowRoot!==!1&&kt.ce._injectChildStyle(Et);const Vt=M.subTree=Gc(M);E(null,Vt,B,Y,M,G,J),O.el=Vt.el}if(Be&&Qt(Be,G),!St&&(oe=he&&he.onVnodeMounted)){const Vt=O;Qt(()=>hn(oe,Ue,Vt),G)}(O.shapeFlag&256||Ue&&gi(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&M.a&&Qt(M.a,G),M.isMounted=!0,O=B=Y=null}};M.scope.on();const ee=M.effect=new my(te);M.scope.off();const Z=M.update=ee.run.bind(ee),fe=M.job=ee.runIfDirty.bind(ee);fe.i=M,fe.id=M.uid,ee.scheduler=()=>Bh(fe),si(M,!0),Z()},ue=(M,O,B)=>{O.component=M;const Y=M.vnode.props;M.vnode=O,M.next=null,HT(M,O.props,Y,B),GT(M,O.children,B),ss(),sp(M),is()},le=(M,O,B,Y,G,J,re,te,ee=!1)=>{const Z=M&&M.children,fe=M?M.shapeFlag:0,oe=O.children,{patchFlag:de,shapeFlag:he}=O;if(de>0){if(de&128){Wt(Z,oe,B,Y,G,J,re,te,ee);return}else if(de&256){Fe(Z,oe,B,Y,G,J,re,te,ee);return}}he&8?(fe&16&&N(Z,G,J),oe!==Z&&h(B,oe)):fe&16?he&16?Wt(Z,oe,B,Y,G,J,re,te,ee):N(Z,G,J,!0):(fe&8&&h(B,""),he&16&&w(oe,B,Y,G,J,re,te,ee))},Fe=(M,O,B,Y,G,J,re,te,ee)=>{M=M||Xi,O=O||Xi;const Z=M.length,fe=O.length,oe=Math.min(Z,fe);let de;for(de=0;de<oe;de++){const he=O[de]=ee?As(O[de]):sn(O[de]);E(M[de],he,B,null,G,J,re,te,ee)}Z>fe?N(M,G,J,!0,!1,oe):w(O,B,Y,G,J,re,te,ee,oe)},Wt=(M,O,B,Y,G,J,re,te,ee)=>{let Z=0;const fe=O.length;let oe=M.length-1,de=fe-1;for(;Z<=oe&&Z<=de;){const he=M[Z],be=O[Z]=ee?As(O[Z]):sn(O[Z]);if(Jn(he,be))E(he,be,B,null,G,J,re,te,ee);else break;Z++}for(;Z<=oe&&Z<=de;){const he=M[oe],be=O[de]=ee?As(O[de]):sn(O[de]);if(Jn(he,be))E(he,be,B,null,G,J,re,te,ee);else break;oe--,de--}if(Z>oe){if(Z<=de){const he=de+1,be=he<fe?O[he].el:Y;for(;Z<=de;)E(null,O[Z]=ee?As(O[Z]):sn(O[Z]),B,be,G,J,re,te,ee),Z++}}else if(Z>de)for(;Z<=oe;)He(M[Z],G,J,!0),Z++;else{const he=Z,be=Z,Be=new Map;for(Z=be;Z<=de;Z++){const qt=O[Z]=ee?As(O[Z]):sn(O[Z]);qt.key!=null&&Be.set(qt.key,Z)}let Ue,kt=0;const Et=de-be+1;let St=!1,Vt=0;const ms=new Array(Et);for(Z=0;Z<Et;Z++)ms[Z]=0;for(Z=he;Z<=oe;Z++){const qt=M[Z];if(kt>=Et){He(qt,G,J,!0);continue}let cn;if(qt.key!=null)cn=Be.get(qt.key);else for(Ue=be;Ue<=de;Ue++)if(ms[Ue-be]===0&&Jn(qt,O[Ue])){cn=Ue;break}cn===void 0?He(qt,G,J,!0):(ms[cn-be]=Z+1,cn>=Vt?Vt=cn:St=!0,E(qt,O[cn],B,null,G,J,re,te,ee),kt++)}const Mi=St?JT(ms):Xi;for(Ue=Mi.length-1,Z=Et-1;Z>=0;Z--){const qt=be+Z,cn=O[qt],Di=O[qt+1],xr=qt+1<fe?Di.el||Di.placeholder:Y;ms[Z]===0?E(null,cn,B,xr,G,J,re,te,ee):St&&(Ue<0||Z!==Mi[Ue]?Nt(cn,B,xr,2):Ue--)}}},Nt=(M,O,B,Y,G=null)=>{const{el:J,type:re,transition:te,children:ee,shapeFlag:Z}=M;if(Z&6){Nt(M.component.subTree,O,B,Y);return}if(Z&128){M.suspense.move(O,B,Y);return}if(Z&64){re.move(M,O,B,se);return}if(re===pe){s(J,O,B);for(let oe=0;oe<ee.length;oe++)Nt(ee[oe],O,B,Y);s(M.anchor,O,B);return}if(re===oo){C(M,O,B);return}if(Y!==2&&Z&1&&te)if(Y===0)te.beforeEnter(J),s(J,O,B),Qt(()=>te.enter(J),G);else{const{leave:oe,delayLeave:de,afterLeave:he}=te,be=()=>{M.ctx.isUnmounted?i(J):s(J,O,B)},Be=()=>{oe(J,()=>{be(),he&&he()})};de?de(J,be,Be):Be()}else s(J,O,B)},He=(M,O,B,Y=!1,G=!1)=>{const{type:J,props:re,ref:te,children:ee,dynamicChildren:Z,shapeFlag:fe,patchFlag:oe,dirs:de,cacheIndex:he}=M;if(oe===-2&&(G=!1),te!=null&&(ss(),nr(te,null,B,M,!0),is()),he!=null&&(O.renderCache[he]=void 0),fe&256){O.ctx.deactivate(M);return}const be=fe&1&&de,Be=!gi(M);let Ue;if(Be&&(Ue=re&&re.onVnodeBeforeUnmount)&&hn(Ue,O,M),fe&6)_e(M.component,B,Y);else{if(fe&128){M.suspense.unmount(B,Y);return}be&&Pn(M,null,O,"beforeUnmount"),fe&64?M.type.remove(M,O,B,se,Y):Z&&!Z.hasOnce&&(J!==pe||oe>0&&oe&64)?N(Z,O,B,!1,!0):(J===pe&&oe&384||!G&&fe&16)&&N(ee,O,B),Y&&We(M)}(Be&&(Ue=re&&re.onVnodeUnmounted)||be)&&Qt(()=>{Ue&&hn(Ue,O,M),be&&Pn(M,null,O,"unmounted")},B)},We=M=>{const{type:O,el:B,anchor:Y,transition:G}=M;if(O===pe){Ne(B,Y);return}if(O===oo){T(M);return}const J=()=>{i(B),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(M.shapeFlag&1&&G&&!G.persisted){const{leave:re,delayLeave:te}=G,ee=()=>re(B,J);te?te(M.el,J,ee):ee()}else J()},Ne=(M,O)=>{let B;for(;M!==O;)B=p(M),i(M),M=B;i(O)},_e=(M,O,B)=>{const{bum:Y,scope:G,job:J,subTree:re,um:te,m:ee,a:Z,parent:fe,slots:{__:oe}}=M;mp(ee),mp(Z),Y&&Ma(Y),fe&&ve(oe)&&oe.forEach(de=>{fe.renderCache[de]=void 0}),G.stop(),J&&(J.flags|=8,He(re,M,O,B)),te&&Qt(te,O),Qt(()=>{M.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},N=(M,O,B,Y=!1,G=!1,J=0)=>{for(let re=J;re<M.length;re++)He(M[re],O,B,Y,G)},V=M=>{if(M.shapeFlag&6)return V(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const O=p(M.anchor||M.el),B=O&&O[Ly];return B?p(B):O};let z=!1;const we=(M,O,B)=>{M==null?O._vnode&&He(O._vnode,null,null,!0):E(O._vnode||null,M,O,null,null,null,B),O._vnode=M,z||(z=!0,sp(),sl(),z=!1)},se={p:E,um:He,m:Nt,r:We,mt:ye,mc:w,pc:le,pbc:I,n:V,o:t};let $e,Qe;return e&&([$e,Qe]=e(se)),{render:we,hydrate:$e,createApp:BT(we,$e)}}function Kc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function si({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function c_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yh(t,e,n=!1){const s=t.children,i=e.children;if(ve(s)&&ve(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=As(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Yh(o,a)),a.type===_i&&(a.el=o.el),a.type===an&&!a.el&&(a.el=o.el)}}function JT(t){const e=t.slice(),n=[0];let s,i,r,o,a;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(i=n[n.length-1],t[i]<u){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<u?r=a+1:o=a;u<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function u_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:u_(e)}function mp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const XT=Symbol.for("v-scx"),ZT=()=>ts(XT);function e1(t,e){return Jh(t,null,e)}function on(t,e,n){return Jh(t,e,n)}function Jh(t,e,n=Ze){const{immediate:s,deep:i,flush:r,once:o}=n,a=wt({},n),c=e&&s||!e&&r!=="post";let u;if(hr){if(r==="sync"){const g=ZT();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=On,g.resume=On,g.pause=On,g}}const h=xt;a.call=(g,v,E)=>In(g,h,v,E);let d=!1;r==="post"?a.scheduler=g=>{Qt(g,h&&h.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(g,v)=>{v?g():Bh(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const p=fT(t,e,a);return hr&&(u?u.push(p):c&&p()),p}function t1(t,e,n){const s=this.proxy,i=at(t)?t.includes(".")?h_(s,t):()=>s[t]:t.bind(s,s);let r;Ae(e)?r=e:(r=e.handler,n=e);const o=$o(this),a=Jh(i,r.bind(s),n);return o(),a}function h_(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const n1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yn(e)}Modifiers`]||t[`${Qs(e)}Modifiers`];function s1(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ze;let i=n;const r=e.startsWith("update:"),o=r&&n1(s,e.slice(7));o&&(o.trim&&(i=n.map(h=>at(h)?h.trim():h)),o.number&&(i=n.map(Xa)));let a,c=s[a=Uc(e)]||s[a=Uc(yn(e))];!c&&r&&(c=s[a=Uc(Qs(e))]),c&&In(c,t,6,i);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,In(u,t,6,i)}}function d_(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!Ae(t)){const c=u=>{const h=d_(u,e,!0);h&&(a=!0,wt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!a?(Je(t)&&s.set(t,null),null):(ve(r)?r.forEach(c=>o[c]=null):wt(o,r),Je(t)&&s.set(t,o),o)}function ql(t,e){return!t||!Oo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ke(t,e[0].toLowerCase()+e.slice(1))||Ke(t,Qs(e))||Ke(t,e))}function Gc(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:c,render:u,renderCache:h,props:d,data:p,setupState:g,ctx:v,inheritAttrs:E}=t,D=il(t);let L,$;try{if(n.shapeFlag&4){const T=i||s,P=T;L=sn(u.call(P,T,h,d,g,p,v)),$=a}else{const T=e;L=sn(T.length>1?T(d,{attrs:a,slots:o,emit:c}):T(d,null)),$=e.props?a:r1(a)}}catch(T){ao.length=0,Tr(T,t,1),L=ze(an)}let C=L;if($&&E!==!1){const T=Object.keys($),{shapeFlag:P}=C;T.length&&P&7&&(r&&T.some(Rh)&&($=o1($,r)),C=Ti(C,$,!1,!0))}return n.dirs&&(C=Ti(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&bo(C,n.transition),L=C,il(D),L}function i1(t,e=!0){let n;for(let s=0;s<t.length;s++){const i=t[s];if(ur(i)){if(i.type!==an||i.children==="v-if"){if(n)return;n=i}}else return}return n}const r1=t=>{let e;for(const n in t)(n==="class"||n==="style"||Oo(n))&&((e||(e={}))[n]=t[n]);return e},o1=(t,e)=>{const n={};for(const s in t)(!Rh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function a1(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?gp(s,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(o[p]!==s[p]&&!ql(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?gp(s,o,u):!0:!!o;return!1}function gp(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!ql(n,r))return!0}return!1}function Kl({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const f_=t=>t.__isSuspense;let Ou=0;const l1={name:"Suspense",__isSuspense:!0,process(t,e,n,s,i,r,o,a,c,u){if(t==null)u1(e,n,s,i,r,o,a,c,u);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}h1(t,e,n,s,i,o,a,c,u)}},hydrate:d1,normalize:f1},c1=l1;function To(t,e){const n=t.props&&t.props[e];Ae(n)&&n()}function u1(t,e,n,s,i,r,o,a,c){const{p:u,o:{createElement:h}}=c,d=h("div"),p=t.suspense=p_(t,i,s,e,d,n,r,o,a,c);u(null,p.pendingBranch=t.ssContent,d,null,s,p,r,o),p.deps>0?(To(t,"onPending"),To(t,"onFallback"),u(null,t.ssFallback,e,n,s,null,r,o),sr(p,t.ssFallback)):p.resolve(!1,!0)}function h1(t,e,n,s,i,r,o,a,{p:c,um:u,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:v,pendingBranch:E,isInFallback:D,isHydrating:L}=d;if(E)d.pendingBranch=p,Jn(p,E)?(c(E,p,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():D&&(L||(c(v,g,n,s,i,null,r,o,a),sr(d,g)))):(d.pendingId=Ou++,L?(d.isHydrating=!1,d.activeBranch=E):u(E,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),D?(c(null,p,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():(c(v,g,n,s,i,null,r,o,a),sr(d,g))):v&&Jn(p,v)?(c(v,p,n,s,i,d,r,o,a),d.resolve(!0)):(c(null,p,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0&&d.resolve()));else if(v&&Jn(p,v))c(v,p,n,s,i,d,r,o,a),sr(d,p);else if(To(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Ou++,c(null,p,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:$,pendingId:C}=d;$>0?setTimeout(()=>{d.pendingId===C&&d.fallback(g)},$):$===0&&d.fallback(g)}}function p_(t,e,n,s,i,r,o,a,c,u,h=!1){const{p:d,m:p,um:g,n:v,o:{parentNode:E,remove:D}}=u;let L;const $=p1(t);$&&e&&e.pendingBranch&&(L=e.pendingId,e.deps++);const C=t.props?uy(t.props.timeout):void 0,T=r,P={vnode:t,parent:e,parentComponent:n,namespace:o,container:s,hiddenContainer:i,deps:0,pendingId:Ou++,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(F=!1,k=!1){const{vnode:w,activeBranch:y,pendingBranch:I,pendingId:x,effects:R,parentComponent:S,container:ye}=P;let Se=!1;P.isHydrating?P.isHydrating=!1:F||(Se=y&&I.transition&&I.transition.mode==="out-in",Se&&(y.transition.afterLeave=()=>{x===P.pendingId&&(p(I,ye,r===T?v(y):r,0),ku(R))}),y&&(E(y.el)===ye&&(r=v(y)),g(y,S,P,!0)),Se||p(I,ye,r,0)),sr(P,I),P.pendingBranch=null,P.isInFallback=!1;let ie=P.parent,ue=!1;for(;ie;){if(ie.pendingBranch){ie.effects.push(...R),ue=!0;break}ie=ie.parent}!ue&&!Se&&ku(R),P.effects=[],$&&e&&e.pendingBranch&&L===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),To(w,"onResolve")},fallback(F){if(!P.pendingBranch)return;const{vnode:k,activeBranch:w,parentComponent:y,container:I,namespace:x}=P;To(k,"onFallback");const R=v(w),S=()=>{P.isInFallback&&(d(null,F,I,R,y,null,x,a,c),sr(P,F))},ye=F.transition&&F.transition.mode==="out-in";ye&&(w.transition.afterLeave=S),P.isInFallback=!0,g(w,y,null,!0),ye||S()},move(F,k,w){P.activeBranch&&p(P.activeBranch,F,k,w),P.container=F},next(){return P.activeBranch&&v(P.activeBranch)},registerDep(F,k,w){const y=!!P.pendingBranch;y&&P.deps++;const I=F.vnode.el;F.asyncDep.catch(x=>{Tr(x,F,0)}).then(x=>{if(F.isUnmounted||P.isUnmounted||P.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:R}=F;Vu(F,x),I&&(R.el=I);const S=!I&&F.subTree.el;k(F,R,E(I||F.subTree.el),I?null:v(F.subTree),P,o,w),S&&D(S),Kl(F,R.el),y&&--P.deps===0&&P.resolve()})},unmount(F,k){P.isUnmounted=!0,P.activeBranch&&g(P.activeBranch,n,F,k),P.pendingBranch&&g(P.pendingBranch,n,F,k)}};return P}function d1(t,e,n,s,i,r,o,a,c){const u=e.suspense=p_(e,s,n,t.parentNode,document.createElement("div"),null,i,r,o,a,!0),h=c(t,u.pendingBranch=e.ssContent,n,u,r,o);return u.deps===0&&u.resolve(!1,!0),h}function f1(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=yp(s?n.default:n),t.ssFallback=s?yp(n.fallback):ze(an)}function yp(t){let e;if(Ae(t)){const n=cr&&t._c;n&&(t._d=!1,j()),t=t(),n&&(t._d=!0,e=Zt,g_())}return ve(t)&&(t=i1(t)),t=sn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function m_(t,e){e&&e.pendingBranch?ve(t)?e.effects.push(...t):e.effects.push(t):ku(t)}function sr(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,Kl(s,i))}function p1(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const pe=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),oo=Symbol.for("v-stc"),ao=[];let Zt=null;function j(t=!1){ao.push(Zt=t?null:[])}function g_(){ao.pop(),Zt=ao[ao.length-1]||null}let cr=1;function _p(t,e=!1){cr+=t,t<0&&Zt&&e&&(Zt.hasOnce=!0)}function y_(t){return t.dynamicChildren=cr>0?Zt||Xi:null,g_(),cr>0&&Zt&&Zt.push(t),t}function W(t,e,n,s,i,r){return y_(_(t,e,n,s,i,r,!0))}function it(t,e,n,s,i){return y_(ze(t,e,n,s,i,!0))}function ur(t){return t?t.__v_isVNode===!0:!1}function Jn(t,e){return t.type===e.type&&t.key===e.key}const __=({key:t})=>t??null,Oa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||ot(t)||Ae(t)?{i:Dt,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,s=0,i=null,r=t===pe?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&__(e),ref:e&&Oa(e),scopeId:Vy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Dt};return a?(Xh(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=at(n)?8:16),cr>0&&!o&&Zt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Zt.push(c),c}const ze=m1;function m1(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Gy)&&(t=an),ur(t)){const a=Ti(t,e,!0);return n&&Xh(a,n),cr>0&&!r&&Zt&&(a.shapeFlag&6?Zt[Zt.indexOf(t)]=a:Zt.push(a)),a.patchFlag=-2,a}if(A1(t)&&(t=t.__vccOpts),e){e=v_(e);let{class:a,style:c}=e;a&&!at(a)&&(e.class=Ee(a)),Je(c)&&(Uh(c)&&!ve(c)&&(c=wt({},c)),e.style=At(c))}const o=at(t)?1:f_(t)?128:gT(t)?64:Je(t)?4:Ae(t)?2:0;return _(t,e,n,s,i,o,r,!0)}function v_(t){return t?Uh(t)||n_(t)?wt({},t):t:null}function Ti(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:c}=t,u=e?g1(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&__(u),ref:e&&e.ref?n&&r?ve(r)?r.concat(Oa(e)):[r,Oa(e)]:Oa(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ti(t.ssContent),ssFallback:t.ssFallback&&Ti(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&bo(h,c.clone(h)),h}function fi(t=" ",e=0){return ze(_i,null,t,e)}function fn(t,e){const n=ze(oo,null,t);return n.staticCount=e,n}function Ye(t="",e=!1){return e?(j(),it(an,null,t)):ze(an,null,t)}function sn(t){return t==null||typeof t=="boolean"?ze(an):ve(t)?ze(pe,null,t.slice()):ur(t)?As(t):ze(_i,null,String(t))}function As(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ti(t)}function Xh(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ve(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Xh(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!n_(e)?e._ctx=Dt:i===3&&Dt&&(Dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:Dt},n=32):(e=String(e),s&64?(n=16,e=[fi(e)]):n=8);t.children=e,t.shapeFlag|=n}function g1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ee([e.class,s.class]));else if(i==="style")e.style=At([e.style,s.style]);else if(Oo(i)){const r=e[i],o=s[i];o&&r!==o&&!(ve(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function hn(t,e,n,s=null){In(t,e,7,[n,s])}const y1=Zy();let _1=0;function v1(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||y1,r={uid:_1++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new py(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:i_(s,i),emitsOptions:d_(s,i),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:s.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=s1.bind(null,r),t.ce&&t.ce(r),r}let xt=null;const Fo=()=>xt||Dt;let ol,Nu;{const t=Bl(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ol=e("__VUE_INSTANCE_SETTERS__",n=>xt=n),Nu=e("__VUE_SSR_SETTERS__",n=>hr=n)}const $o=t=>{const e=xt;return ol(t),t.scope.on(),()=>{t.scope.off(),ol(e)}},vp=()=>{xt&&xt.scope.off(),ol(null)};function w_(t){return t.vnode.shapeFlag&4}let hr=!1;function w1(t,e=!1,n=!1){e&&Nu(e);const{props:s,children:i}=t.vnode,r=w_(t);zT(t,s,r,e),KT(t,i,n||e);const o=r?b1(t,e):void 0;return e&&Nu(!1),o}function b1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,NT);const{setup:s}=n;if(s){ss();const i=t.setupContext=s.length>1?E1(t):null,r=$o(t),o=Vo(s,t,0,[t.props,i]),a=ay(o);if(is(),r(),(a||t.sp)&&!gi(t)&&Hh(t),a){if(o.then(vp,vp),e)return o.then(c=>{Vu(t,c)}).catch(c=>{Tr(c,t,0)});t.asyncDep=o}else Vu(t,o)}else b_(t)}function Vu(t,e,n){Ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Je(e)&&(t.setupState=Py(e)),b_(t)}function b_(t,e,n){const s=t.type;t.render||(t.render=s.render||On);{const i=$o(t);ss();try{VT(t)}finally{is(),i()}}}const T1={get(t,e){return Bt(t,"get",""),t[e]}};function E1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,T1),slots:t.slots,emit:t.emit,expose:e}}function Gl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Py(jh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ro)return ro[n](t)},has(e,n){return n in e||n in ro}})):t.proxy}function I1(t,e=!0){return Ae(t)?t.displayName||t.name:t.name||e&&t.__name}function A1(t){return Ae(t)&&"__vccOpts"in t}const Le=(t,e)=>hT(t,e,hr);function Lu(t,e,n){const s=arguments.length;return s===2?Je(e)&&!ve(e)?ur(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ur(n)&&(n=[n]),ze(t,e,n))}const k1="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fu;const wp=typeof window<"u"&&window.trustedTypes;if(wp)try{Fu=wp.createPolicy("vue",{createHTML:t=>t})}catch{}const T_=Fu?t=>Fu.createHTML(t):t=>t,S1="http://www.w3.org/2000/svg",C1="http://www.w3.org/1998/Math/MathML",Gn=typeof document<"u"?document:null,bp=Gn&&Gn.createElement("template"),R1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Gn.createElementNS(S1,t):e==="mathml"?Gn.createElementNS(C1,t):n?Gn.createElement(t,{is:n}):Gn.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{bp.innerHTML=T_(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=bp.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vs="transition",Wr="animation",dr=Symbol("_vtc"),E_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},P1=wt({},vT,E_),ii=(t,e=[])=>{ve(t)?t.forEach(n=>n(...e)):t&&t(...e)},Tp=t=>t?ve(t)?t.some(e=>e.length>1):t.length>1:!1;function x1(t){const e={};for(const R in t)R in E_||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,v=M1(i),E=v&&v[0],D=v&&v[1],{onBeforeEnter:L,onEnter:$,onEnterCancelled:C,onLeave:T,onLeaveCancelled:P,onBeforeAppear:F=L,onAppear:k=$,onAppearCancelled:w=C}=e,y=(R,S,ye,Se)=>{R._enterCancelled=Se,Ts(R,S?h:a),Ts(R,S?u:o),ye&&ye()},I=(R,S)=>{R._isLeaving=!1,Ts(R,d),Ts(R,g),Ts(R,p),S&&S()},x=R=>(S,ye)=>{const Se=R?k:$,ie=()=>y(S,R,ye);ii(Se,[S,ie]),Ep(()=>{Ts(S,R?c:r),Cn(S,R?h:a),Tp(Se)||Ip(S,s,E,ie)})};return wt(e,{onBeforeEnter(R){ii(L,[R]),Cn(R,r),Cn(R,o)},onBeforeAppear(R){ii(F,[R]),Cn(R,c),Cn(R,u)},onEnter:x(!1),onAppear:x(!0),onLeave(R,S){R._isLeaving=!0;const ye=()=>I(R,S);Cn(R,d),R._enterCancelled?(Cn(R,p),$u()):($u(),Cn(R,p)),Ep(()=>{R._isLeaving&&(Ts(R,d),Cn(R,g),Tp(T)||Ip(R,s,D,ye))}),ii(T,[R,ye])},onEnterCancelled(R){y(R,!1,void 0,!0),ii(C,[R])},onAppearCancelled(R){y(R,!0,void 0,!0),ii(w,[R])},onLeaveCancelled(R){I(R),ii(P,[R])}})}function M1(t){if(t==null)return null;if(Je(t))return[Qc(t.enter),Qc(t.leave)];{const e=Qc(t);return[e,e]}}function Qc(t){return uy(t)}function Cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[dr]||(t[dr]=new Set)).add(e)}function Ts(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[dr];n&&(n.delete(e),n.size||(t[dr]=void 0))}function Ep(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let D1=0;function Ip(t,e,n,s){const i=t._endId=++D1,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=I_(t,e);if(!o)return s();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,p),r()},p=g=>{g.target===t&&++h>=c&&d()};setTimeout(()=>{h<c&&d()},a+1),t.addEventListener(u,p)}function I_(t,e){const n=window.getComputedStyle(t),s=v=>(n[v]||"").split(", "),i=s(`${vs}Delay`),r=s(`${vs}Duration`),o=Ap(i,r),a=s(`${Wr}Delay`),c=s(`${Wr}Duration`),u=Ap(a,c);let h=null,d=0,p=0;e===vs?o>0&&(h=vs,d=o,p=r.length):e===Wr?u>0&&(h=Wr,d=u,p=c.length):(d=Math.max(o,u),h=d>0?o>u?vs:Wr:null,p=h?h===vs?r.length:c.length:0);const g=h===vs&&/\b(transform|all)(,|$)/.test(s(`${vs}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:g}}function Ap(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>kp(n)+kp(t[s])))}function kp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function $u(){return document.body.offsetHeight}function O1(t,e,n){const s=t[dr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Sp=Symbol("_vod"),N1=Symbol("_vsh"),V1=Symbol(""),L1=/(^|;)\s*display\s*:/;function F1(t,e,n){const s=t.style,i=at(n);let r=!1;if(n&&!i){if(e)if(at(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Na(s,a,"")}else for(const o in e)n[o]==null&&Na(s,o,"");for(const o in n)o==="display"&&(r=!0),Na(s,o,n[o])}else if(i){if(e!==n){const o=s[V1];o&&(n+=";"+o),s.cssText=n,r=L1.test(n)}}else e&&t.removeAttribute("style");Sp in t&&(t[Sp]=r?s.display:"",t[N1]&&(s.display="none"))}const Cp=/\s*!important$/;function Na(t,e,n){if(ve(n))n.forEach(s=>Na(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=$1(t,e);Cp.test(n)?t.setProperty(Qs(s),n.replace(Cp,""),"important"):t[s]=n}}const Rp=["Webkit","Moz","ms"],Yc={};function $1(t,e){const n=Yc[e];if(n)return n;let s=yn(e);if(s!=="filter"&&s in t)return Yc[e]=s;s=jl(s);for(let i=0;i<Rp.length;i++){const r=Rp[i]+s;if(r in t)return Yc[e]=r}return e}const Pp="http://www.w3.org/1999/xlink";function xp(t,e,n,s,i,r=Nb(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Pp,e.slice(6,e.length)):t.setAttributeNS(Pp,e,n):n==null||r&&!hy(n)?t.removeAttribute(e):t.setAttribute(e,r?"":En(n)?String(n):n)}function Mp(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?T_(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=hy(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function hi(t,e,n,s){t.addEventListener(e,n,s)}function U1(t,e,n,s){t.removeEventListener(e,n,s)}const Dp=Symbol("_vei");function j1(t,e,n,s,i=null){const r=t[Dp]||(t[Dp]={}),o=r[e];if(s&&o)o.value=s;else{const[a,c]=B1(e);if(s){const u=r[e]=W1(s,i);hi(t,a,u,c)}else o&&(U1(t,a,o,c),r[e]=void 0)}}const Op=/(?:Once|Passive|Capture)$/;function B1(t){let e;if(Op.test(t)){e={};let s;for(;s=t.match(Op);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qs(t.slice(2)),e]}let Jc=0;const z1=Promise.resolve(),H1=()=>Jc||(z1.then(()=>Jc=0),Jc=Date.now());function W1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;In(q1(s,n.value),e,5,[s])};return n.value=t,n.attached=H1(),n}function q1(t,e){if(ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Np=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,K1=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?O1(t,s,o):e==="style"?F1(t,n,s):Oo(e)?Rh(e)||j1(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):G1(t,e,s,o))?(Mp(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&xp(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!at(s))?Mp(t,yn(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),xp(t,e,s,o))};function G1(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Np(e)&&Ae(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Np(e)&&at(n)?!1:e in t}const A_=new WeakMap,k_=new WeakMap,al=Symbol("_moveCb"),Vp=Symbol("_enterCb"),Q1=t=>(delete t.props.mode,t),Y1=Q1({name:"TransitionGroup",props:wt({},P1,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Fo(),s=_T();let i,r;return Wy(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!tE(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(X1),i.forEach(Z1);const a=i.filter(eE);$u(),a.forEach(c=>{const u=c.el,h=u.style;Cn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const d=u[al]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",d),u[al]=null,Ts(u,o))};u.addEventListener("transitionend",d)}),i=[]}),()=>{const o=Ve(t),a=x1(o);let c=o.tag||pe;if(i=[],r)for(let u=0;u<r.length;u++){const h=r[u];h.el&&h.el instanceof Element&&(i.push(h),bo(h,Cu(h,a,s,n)),A_.set(h,h.el.getBoundingClientRect()))}r=e.default?jy(e.default()):[];for(let u=0;u<r.length;u++){const h=r[u];h.key!=null&&bo(h,Cu(h,a,s,n))}return ze(c,null,r)}}}),J1=Y1;function X1(t){const e=t.el;e[al]&&e[al](),e[Vp]&&e[Vp]()}function Z1(t){k_.set(t,t.el.getBoundingClientRect())}function eE(t){const e=A_.get(t),n=k_.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function tE(t,e,n){const s=t.cloneNode(),i=t[dr];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=I_(s);return r.removeChild(s),o}const ll=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ve(e)?n=>Ma(e,n):e};function nE(t){t.target.composing=!0}function Lp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ir=Symbol("_assign"),vi={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ir]=ll(i);const r=s||i.props&&i.props.type==="number";hi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Xa(a)),t[ir](a)}),n&&hi(t,"change",()=>{t.value=t.value.trim()}),e||(hi(t,"compositionstart",nE),hi(t,"compositionend",Lp),hi(t,"change",Lp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ir]=ll(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Xa(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},Eo={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=$l(e);hi(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xa(cl(o)):cl(o));t[ir](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,os(()=>{t._assigning=!1})}),t[ir]=ll(s)},mounted(t,{value:e}){Fp(t,e)},beforeUpdate(t,e,n){t[ir]=ll(n)},updated(t,{value:e}){t._assigning||Fp(t,e)}};function Fp(t,e){const n=t.multiple,s=ve(e);if(!(n&&!s&&!$l(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=cl(o);if(n)if(s){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Lb(e,a)>-1}else o.selected=e.has(a);else if(zl(cl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function cl(t){return"_value"in t?t._value:t.value}const sE=["ctrl","shift","alt","meta"],iE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>sE.some(n=>t[`${n}Key`]&&!e.includes(n))},qe=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=iE[e[o]];if(a&&a(i,e))return}return t(i,...r)})},rE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ul=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Qs(i.key);if(e.some(o=>o===r||rE[o]===r))return t(i)})},S_=wt({patchProp:K1},R1);let lo,$p=!1;function oE(){return lo||(lo=QT(S_))}function aE(){return lo=$p?lo:YT(S_),$p=!0,lo}const lE=(...t)=>{const e=oE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=R_(s);if(!i)return;const r=e._component;!Ae(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,C_(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},cE=(...t)=>{const e=aE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=R_(s);if(i)return n(i,!0,C_(i))},e};function C_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function R_(t){return at(t)?document.querySelector(t):t}const uE=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,hE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,dE=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function fE(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){pE(t);return}return e}function pE(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function hl(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!dE.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(uE.test(t)||hE.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,fE)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}const mE=/#/g,gE=/&/g,yE=/\//g,_E=/=/g,Zh=/\+/g,vE=/%5e/gi,wE=/%60/gi,bE=/%7c/gi,TE=/%20/gi;function EE(t){return encodeURI(""+t).replace(bE,"|")}function Uu(t){return EE(typeof t=="string"?t:JSON.stringify(t)).replace(Zh,"%2B").replace(TE,"+").replace(mE,"%23").replace(gE,"%26").replace(wE,"`").replace(vE,"^").replace(yE,"%2F")}function Xc(t){return Uu(t).replace(_E,"%3D")}function dl(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function IE(t){return dl(t.replace(Zh," "))}function AE(t){return dl(t.replace(Zh," "))}function ed(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const i=IE(s[1]);if(i==="__proto__"||i==="constructor")continue;const r=AE(s[2]||"");e[i]===void 0?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]}return e}function kE(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Xc(t)}=${Uu(n)}`).join("&"):`${Xc(t)}=${Uu(e)}`:Xc(t)}function P_(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>kE(e,t[e])).filter(Boolean).join("&")}const SE=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,CE=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,RE=/^([/\\]\s*){2,}[^/\\]/,PE=/^[\s\0]*(blob|data|javascript|vbscript):$/i,xE=/\/$|\/\?|\/#/,ME=/^\.?\//;function Er(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?SE.test(t):CE.test(t)||(e.acceptRelative?RE.test(t):!1)}function DE(t){return!!t&&PE.test(t)}function ju(t="",e){return e?xE.test(t):t.endsWith("/")}function td(t="",e){if(!e)return(ju(t)?t.slice(0,-1):t)||"/";if(!ju(t,!0))return t||"/";let n=t,s="";const i=t.indexOf("#");i!==-1&&(n=t.slice(0,i),s=t.slice(i));const[r,...o]=n.split("?");return((r.endsWith("/")?r.slice(0,-1):r)||"/")+(o.length>0?`?${o.join("?")}`:"")+s}function Bu(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(ju(t,!0))return t||"/";let n=t,s="";const i=t.indexOf("#");if(i!==-1&&(n=t.slice(0,i),s=t.slice(i),!n))return s;const[r,...o]=n.split("?");return r+"/"+(o.length>0?`?${o.join("?")}`:"")+s}function OE(t=""){return t.startsWith("/")}function Up(t=""){return OE(t)?t:"/"+t}function NE(t,e){if(M_(e)||Er(t))return t;const n=td(e);return t.startsWith(n)?t:Ql(n,t)}function VE(t,e){if(M_(e))return t;const n=td(e);if(!t.startsWith(n))return t;const s=t.slice(n.length);return s[0]==="/"?s:"/"+s}function x_(t,e){const n=N_(t),s={...ed(n.search),...e};return n.search=P_(s),V_(n)}function M_(t){return!t||t==="/"}function LE(t){return t&&t!=="/"}function Ql(t,...e){let n=t||"";for(const s of e.filter(i=>LE(i)))if(n){const i=s.replace(ME,"");n=Bu(n)+i}else n=s;return n}function D_(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),s=[];let i=0;for(const o of n)if(!(!o||o==="/")){for(const[a,c]of o.split(e).entries())if(!(!c||c===".")){if(c===".."){if(s.length===1&&Er(s[0]))continue;s.pop(),i--;continue}if(a===1&&s[s.length-1]?.endsWith(":/")){s[s.length-1]+="/"+c;continue}s.push(c),i++}}let r=s.join("/");return i>=0?n[0]?.startsWith("/")&&!r.startsWith("/")?r="/"+r:n[0]?.startsWith("./")&&!r.startsWith("./")&&(r="./"+r):r="../".repeat(-1*i)+r,n[n.length-1]?.endsWith("/")&&!r.endsWith("/")&&(r+="/"),r}function FE(t,e,n={}){return n.trailingSlash||(t=Bu(t),e=Bu(e)),n.leadingSlash||(t=Up(t),e=Up(e)),n.encoding||(t=dl(t),e=dl(e)),t===e}const O_=Symbol.for("ufo:protocolRelative");function N_(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!Er(t,{acceptRelative:!0}))return jp(t);const[,s="",i,r=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=r.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:h}=jp(a);return{protocol:s.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:u,hash:h,[O_]:!s}}function jp(t=""){const[e="",n="",s=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:s}}function V_(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",s=t.hash||"",i=t.auth?t.auth+"@":"",r=t.host||"";return(t.protocol||t[O_]?(t.protocol||"")+"//":"")+i+r+e+n+s}class $E extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function UE(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",s=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(s)}`,r=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${r}${e?` ${e}`:""}`,a=new $E(o,t.error?{cause:t.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(a,c,{get(){return t[c]}});for(const[c,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,c,{get(){return t.response&&t.response[u]}});return a}const jE=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Bp(t="GET"){return jE.has(t.toUpperCase())}function BE(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const zE=new Set(["image/svg","application/xml","application/xhtml","application/html"]),HE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function WE(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return HE.test(e)?"json":zE.has(e)||e.startsWith("text/")?"text":"blob"}function qE(t,e,n,s){const i=KE(e?.headers??t?.headers,n?.headers,s);let r;return(n?.query||n?.params||e?.params||e?.query)&&(r={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:r,params:r,headers:i}}function KE(t,e,n){if(!e)return new n(t);const s=new n(e);if(t)for(const[i,r]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))s.set(i,r);return s}async function Ta(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const GE=new Set([408,409,425,429,500,502,503,504]),QE=new Set([101,204,205,304]);function L_(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=t;async function i(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let h;typeof a.options.retry=="number"?h=a.options.retry:h=Bp(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):GE.has(d))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(g=>setTimeout(g,p)),r(a.request,{...a.options,retry:h-1})}}const u=UE(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,r),u}const r=async function(c,u={}){const h={request:c,options:qE(c,u,t.defaults,n),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await Ta(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=NE(h.request,h.options.baseURL)),h.options.query&&(h.request=x_(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&Bp(h.options.method)&&(BE(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new n(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let d;if(!h.options.signal&&h.options.timeout){const g=new s;d=setTimeout(()=>{const v=new Error("[TimeoutError]: The operation was aborted due to timeout");v.name="TimeoutError",v.code=23,g.abort(v)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Ta(h,h.options.onRequestError),await i(h)}finally{d&&clearTimeout(d)}if((h.response.body||h.response._bodyInit)&&!QE.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||WE(h.response.headers.get("content-type")||"");switch(g){case"json":{const v=await h.response.text(),E=h.options.parseResponse||hl;h.response._data=E(v);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Ta(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Ta(h,h.options.onResponseError),await i(h)):h.response},o=async function(c,u){return(await r(c,u))._data};return o.raw=r,o.native=(...a)=>e(...a),o.create=(a={},c={})=>L_({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const fl=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),YE=fl.fetch?(...t)=>fl.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),JE=fl.Headers,XE=fl.AbortController,ZE=L_({fetch:YE,Headers:JE,AbortController:XE}),eI=ZE,tI=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,nd=()=>tI().app,nI=()=>nd().baseURL,sI=()=>nd().buildAssetsDir,sd=(...t)=>D_(id(),sI(),...t),id=(...t)=>{const e=nd(),n=e.cdnURL||e.baseURL;return t.length?D_(n,...t):n};globalThis.__buildAssetsURL=sd,globalThis.__publicAssetsURL=id;globalThis.$fetch||(globalThis.$fetch=eI.create({baseURL:nI()}));"global"in globalThis||(globalThis.global=globalThis);function zu(t,e={},n){for(const s in t){const i=t[s],r=n?`${n}:${s}`:s;typeof i=="object"&&i!==null?zu(i,e,r):typeof i=="function"&&(e[r]=i)}return e}const iI={run:t=>t()},rI=()=>iI,F_=typeof console.createTask<"u"?console.createTask:rI;function oI(t,e){const n=e.shift(),s=F_(n);return t.reduce((i,r)=>i.then(()=>s.run(()=>r(...e))),Promise.resolve())}function aI(t,e){const n=e.shift(),s=F_(n);return Promise.all(t.map(i=>s.run(()=>i(...e))))}function Zc(t,e){for(const n of[...t])n(e)}class lI{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const i=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!s.allowDeprecated){let o=r.message;o||(o=`${i} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,i=(...r)=>(typeof s=="function"&&s(),s=void 0,i=void 0,n(...r));return s=this.hook(e,i),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const i of s)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=zu(e),s=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of s.splice(0,s.length))i()}}removeHooks(e){const n=zu(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(oI,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(aI,e,...n)}callHookWith(e,n,...s){const i=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Zc(this._before,i);const r=e(n in this._hooks?[...this._hooks[n]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&i&&Zc(this._after,i)}):(this._after&&i&&Zc(this._after,i),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function $_(){return new lI}function cI(t={}){let e,n=!1;const s=o=>{if(e&&e!==o)throw new Error("Context conflict")};let i;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?i=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const r=()=>{if(i){const o=i.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=r();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>r(),set:(o,a)=>{a||s(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{s(o),e=o;try{return i?i.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},u=()=>e===o?c:void 0;Hu.add(u);try{const h=i?i.run(o,a):a();return n||(e=void 0),await h}finally{Hu.delete(u)}}}}function uI(t={}){const e={};return{get(n,s={}){return e[n]||(e[n]=cI({...t,...s})),e[n]}}}const pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},zp="__unctx__",hI=pl[zp]||(pl[zp]=uI()),dI=(t,e={})=>hI.get(t,e),Hp="__unctx_async_handlers__",Hu=pl[Hp]||(pl[Hp]=new Set);function U_(t){const e=[];for(const i of Hu){const r=i();r&&e.push(r)}const n=()=>{for(const i of e)i()};let s=t();return s&&typeof s=="object"&&"catch"in s&&(s=s.catch(i=>{throw n(),i})),[s,n]}const Wp={id:"__nuxt-loader"},v6={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},fI="#__nuxt",j_="nuxt-app",qp=36e5,pI="vite:preloadError";function B_(t=j_){return dI(t,{asyncContext:!1})}const mI="__nuxt_plugin";function gI(t){let e=0;const n={_id:t.id||j_||"nuxt-app",_scope:Mh(),provide:void 0,versions:{get nuxt(){return"4.0.3"},get vue(){return n.vueApp.version}},payload:Qi({...t.ssrContext?.payload||{},data:Qi({}),state:_n({}),once:new Set,_errors:Qi({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!Dh()?n._scope.run(()=>Kp(n,i)):Kp(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Qi({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const r in i)switch(r){case"data":case"state":case"_errors":Object.assign(n.payload[r],i[r]);break;default:n.payload[r]=i[r]}}n.hooks=$_(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,r)=>{const o="$"+i;Ea(n,o,r),Ea(n.vueApp.config.globalProperties,o,r)},Ea(n.vueApp,"$nuxt",n),Ea(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(pI,r=>{n.callHook("app:chunkError",{error:r.payload}),r.payload.message.includes("Unable to preload CSS")&&r.preventDefault()}),window.useNuxtApp||=ft;const i=n.hook("app:error",(...r)=>{console.error("[nuxt] error caught during app initialization",...r)});n.hook("app:mounted",i)}const s=n.payload.config;return n.provide("config",s),n}function yI(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function _I(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const s in n)t.provide(s,n[s])}}async function vI(t,e){const n=new Set,s=[],i=[];let r,o=0;async function a(c){const u=c.dependsOn?.filter(h=>e.some(d=>d._name===h)&&!n.has(h))??[];if(u.length>0)s.push([new Set(u),c]);else{const h=_I(t,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(s.map(async([d,p])=>{d.has(c._name)&&(d.delete(c._name),d.size===0&&(o++,await a(p)))})))}).catch(d=>{if(!c.parallel&&!t.payload.error)throw d;r||=d});c.parallel?i.push(h):await h}}for(const c of e)yI(t,c);for(const c of e)await a(c);if(await Promise.all(i),o)for(let c=0;c<o;c++)await Promise.all(i);if(r)throw t.payload.error||r}function ln(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[mI]:!0,_name:e})}const wI=ln;function Kp(t,e,n){const s=()=>e();return B_(t._id).set(t),t.vueApp.runWithContext(s)}function bI(t){let e;return Lo()&&(e=Fo()?.appContext.app.$nuxt),e||=B_(t).tryUse(),e||null}function ft(t){const e=bI(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function fr(t){return ft().$config}function Ea(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function TI(t,e){return{ctx:{table:t},matchAll:n=>H_(n,t)}}function z_(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([s,i])=>[s,z_(i)])):new Map(Object.entries(t[n]));return e}function EI(t){return TI(z_(t))}function H_(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const s=[];for(const[r,o]of Gp(e.wildcard))(t===r||t.startsWith(r+"/"))&&s.push(o);for(const[r,o]of Gp(e.dynamic))if(t.startsWith(r+"/")){const a="/"+t.slice(r.length).split("/").splice(2).join("/");s.push(...H_(a,o))}const i=e.static.get(t);return i&&s.push(i),s.filter(Boolean)}function Gp(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function eu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Wu(t,e,n=".",s){if(!eu(e))return Wu(t,{},n,s);const i=Object.assign({},e);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const o=t[r];o!=null&&(s&&s(i,r,o,n)||(Array.isArray(o)&&Array.isArray(i[r])?i[r]=[...o,...i[r]]:eu(o)&&eu(i[r])?i[r]=Wu(o,i[r],(n?`${n}.`:"")+r.toString(),s):i[r]=o))}return i}function W_(t){return(...e)=>e.reduce((n,s)=>Wu(n,s,"",t),{})}const II=W_(),AI=W_((t,e,n)=>{if(t[e]!==void 0&&typeof n=="function")return t[e]=n(t[e]),!0});function kI(t,e){try{return e in t}catch{return!1}}class Qp extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:qu(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=q_(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function SI(t){if(typeof t=="string")return new Qp(t);if(CI(t))return t;const e=new Qp(t.message??t.statusMessage??"",{cause:t.cause||t});if(kI(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=qu(t.statusCode,e.statusCode):t.status&&(e.statusCode=qu(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;q_(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function CI(t){return t?.constructor?.__h3_error__===!0}const RI=/[^\u0009\u0020-\u007E]/g;function q_(t=""){return t.replace(RI,"")}function qu(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const K_=Symbol("route"),js=()=>ft()?.$router,G_=()=>Lo()?ts(K_,ft()._route):ft()._route;const PI=()=>{try{if(ft()._processingMiddleware)return!0}catch{return!1}return!1},xI=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?MI(t):js().resolve(t).href;if(e?.open){const{target:c="_blank",windowFeatures:u={}}=e.open,h=Object.entries(u).filter(([d,p])=>p!==void 0).map(([d,p])=>`${d.toLowerCase()}=${p}`).join(", ");return open(n,c,h),Promise.resolve()}const s=Er(n,{acceptRelative:!0}),i=e?.external||s;if(i){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&DE(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const r=PI();if(!i&&r){if(e?.replace){if(typeof t=="string"){const{pathname:c,search:u,hash:h}=N_(t);return{path:c,...u&&{query:ed(u)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=js(),a=ft();return i?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,r?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function MI(t){return x_(t.path||"",t.query||{})+(t.hash||"")}const Q_="__nuxt_error",rd=()=>xy(ft().payload,"error"),DI=t=>{const e=od(t);try{const n=ft(),s=rd();n.hooks.callHook("app:error",e),s.value||=e}catch{throw e}return e},OI=async(t={})=>{const e=ft(),n=rd();e.callHook("app:error:cleared",t),t.redirect&&await js().replace(t.redirect),n.value=void 0},NI=t=>!!t&&typeof t=="object"&&Q_ in t,od=t=>{const e=SI(t);return Object.defineProperty(e,Q_,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Y_;const Uo=t=>Y_=t,J_=Symbol();function Ku(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var co;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(co||(co={}));function VI(){const t=Mh(!0),e=t.run(()=>X({}));let n=[],s=[];const i=jh({install(r){Uo(i),i._a=r,r.provide(J_,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const X_=()=>{};function Yp(t,e,n,s=X_){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Dh()&&Fb(i),i}function ji(t,...e){t.slice().forEach(n=>{n(...e)})}const LI=t=>t(),Jp=Symbol(),tu=Symbol();function Gu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Ku(i)&&Ku(s)&&t.hasOwnProperty(n)&&!ot(s)&&!es(s)?t[n]=Gu(i,s):t[n]=s}return t}const FI=Symbol();function $I(t){return!Ku(t)||!Object.prototype.hasOwnProperty.call(t,FI)}const{assign:Es}=Object;function UI(t){return!!(ot(t)&&t.effect)}function jI(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=i?i():{});const h=aT(n.state.value[t]);return Es(h,r,Object.keys(o||{}).reduce((d,p)=>(d[p]=jh(Le(()=>{Uo(n);const g=n._s.get(t);return o[p].call(g,g)})),d),{}))}return c=Z_(t,u,e,n,s,!0),c}function Z_(t,e,n={},s,i,r){let o;const a=Es({actions:{}},n),c={deep:!0};let u,h,d=[],p=[],g;const v=s.state.value[t];!r&&!v&&(s.state.value[t]={}),X({});let E;function D(w){let y;u=h=!1,typeof w=="function"?(w(s.state.value[t]),y={type:co.patchFunction,storeId:t,events:g}):(Gu(s.state.value[t],w),y={type:co.patchObject,payload:w,storeId:t,events:g});const I=E=Symbol();os().then(()=>{E===I&&(u=!0)}),h=!0,ji(d,y,s.state.value[t])}const L=r?function(){const{state:y}=n,I=y?y():{};this.$patch(x=>{Es(x,I)})}:X_;function $(){o.stop(),d=[],p=[],s._s.delete(t)}const C=(w,y="")=>{if(Jp in w)return w[tu]=y,w;const I=function(){Uo(s);const x=Array.from(arguments),R=[],S=[];function ye(ue){R.push(ue)}function Se(ue){S.push(ue)}ji(p,{args:x,name:I[tu],store:P,after:ye,onError:Se});let ie;try{ie=w.apply(this&&this.$id===t?this:P,x)}catch(ue){throw ji(S,ue),ue}return ie instanceof Promise?ie.then(ue=>(ji(R,ue),ue)).catch(ue=>(ji(S,ue),Promise.reject(ue))):(ji(R,ie),ie)};return I[Jp]=!0,I[tu]=y,I},T={_p:s,$id:t,$onAction:Yp.bind(null,p),$patch:D,$reset:L,$subscribe(w,y={}){const I=Yp(d,w,y.detached,()=>x()),x=o.run(()=>on(()=>s.state.value[t],R=>{(y.flush==="sync"?h:u)&&w({storeId:t,type:co.direct,events:g},R)},Es({},c,y)));return I},$dispose:$},P=_n(T);s._s.set(t,P);const k=(s._a&&s._a.runWithContext||LI)(()=>s._e.run(()=>(o=Mh()).run(()=>e({action:C}))));for(const w in k){const y=k[w];if(ot(y)&&!UI(y)||es(y))r||(v&&$I(y)&&(ot(y)?y.value=v[w]:Gu(y,v[w])),s.state.value[t][w]=y);else if(typeof y=="function"){const I=C(y,w);k[w]=I,a.actions[w]=y}}return Es(P,k),Es(Ve(P),k),Object.defineProperty(P,"$state",{get:()=>s.state.value[t],set:w=>{D(y=>{Es(y,w)})}}),s._p.forEach(w=>{Es(P,o.run(()=>w({store:P,app:s._a,pinia:s,options:a})))}),v&&r&&n.hydrate&&n.hydrate(P.$state,v),u=!0,h=!0,P}/*! #__NO_SIDE_EFFECTS__ */function ev(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,a){const c=Lo();return o=o||(c?ts(J_,null):null),o&&Uo(o),o=Y_,o._s.has(t)||(i?Z_(t,e,s,o):jI(t,s,o)),o._s.get(t)}return r.$id=t,r}function Xp(t){const e=zI(t),n=new ArrayBuffer(e.length),s=new DataView(n);for(let i=0;i<n.byteLength;i++)s.setUint8(i,e.charCodeAt(i));return n}const BI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function zI(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,s=0;for(let i=0;i<t.length;i++)n<<=6,n|=BI.indexOf(t[i]),s+=6,s===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=s=0);return s===12?(n>>=4,e+=String.fromCharCode(n)):s===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const HI=-1,WI=-2,qI=-3,KI=-4,GI=-5,QI=-6;function YI(t,e){return JI(JSON.parse(t),e)}function JI(t,e){if(typeof t=="number")return i(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,s=Array(n.length);function i(r,o=!1){if(r===HI)return;if(r===qI)return NaN;if(r===KI)return 1/0;if(r===GI)return-1/0;if(r===QI)return-0;if(o)throw new Error("Invalid input");if(r in s)return s[r];const a=n[r];if(!a||typeof a!="object")s[r]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],u=e?.[c];if(u)return s[r]=u(i(a[1]));switch(c){case"Date":s[r]=new Date(a[1]);break;case"Set":const h=new Set;s[r]=h;for(let g=1;g<a.length;g+=1)h.add(i(a[g]));break;case"Map":const d=new Map;s[r]=d;for(let g=1;g<a.length;g+=2)d.set(i(a[g]),i(a[g+1]));break;case"RegExp":s[r]=new RegExp(a[1],a[2]);break;case"Object":s[r]=Object(a[1]);break;case"BigInt":s[r]=BigInt(a[1]);break;case"null":const p=Object.create(null);s[r]=p;for(let g=1;g<a.length;g+=2)p[a[g]]=i(a[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[c],v=a[1],E=Xp(v),D=new g(E);s[r]=D;break}case"ArrayBuffer":{const g=a[1],v=Xp(g);s[r]=v;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);s[r]=c;for(let u=0;u<a.length;u+=1){const h=a[u];h!==WI&&(c[u]=i(h))}}else{const c={};s[r]=c;for(const u in a){const h=a[u];c[u]=i(h)}}return s[r]}return i(0)}const XI=new Set(["link","style","script","noscript"]),ZI=new Set(["title","titleTemplate","script","style","noscript"]),Zp=new Set(["base","meta","link","style","script","noscript"]),eA=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),tA=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),nA=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),sA=new Set(["templateParams","htmlAttrs","bodyAttrs"]),iA=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),rA=["name","property","http-equiv"],oA=new Set(["viewport","description","keywords","robots"]);function tv(t){const e=t.split(":");return e.length?iA.has(e[1]):!1}function Qu(t){const{props:e,tag:n}=t;if(tA.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const s of rA)if(e[s]!==void 0){const i=e[s],r=i.includes(":"),o=oA.has(i),c=!(r||o)&&t.key?`:key:${t.key}`:"";return`${n}:${i}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(ZI.has(n)){const s=t.textContent||t.innerHTML;if(s)return`${n}:content:${s}`}}function em(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([s,i])=>`${s}:${String(i)}`).join(",")}`}function ml(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let i;if(e&&(i=e(n,t)),Array.isArray(i))return i.map(r=>ml(r,e));if(i?.constructor===Object){const r={};for(const o of Object.keys(i))r[o]=ml(i[o],e,o);return r}return i}function aA(t,e){const n=t==="style"?new Map:new Set;function s(i){const r=i.trim();if(r)if(t==="style"){const[o,...a]=r.split(":").map(c=>c.trim());o&&a.length&&n.set(o,a.join(":"))}else r.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(i=>s(i)):e&&typeof e=="object"&&Object.entries(e).forEach(([i,r])=>{r&&r!=="false"&&(t==="style"?n.set(i.trim(),r):s(i))}),n}function nv(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,s])=>{if(s===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=aA(n,s);return}if(nA.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(s)}else t[n]=s;return}const i=String(s),r=n.startsWith("data-");i==="true"||i===""?t.props[n]=r?i:!0:!s&&r&&i==="false"?t.props[n]="false":s!==void 0&&(t.props[n]=s)}),t):t}function lA(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},s=nv({tag:t,props:{}},n);return s.key&&XI.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function cA(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(i,r)=>{for(let o=0;o<e.length;o++)r=e[o](i,r);return r};t=n(void 0,t);const s=[];return t=ml(t,n),Object.entries(t||{}).forEach(([i,r])=>{if(r!==void 0)for(const o of Array.isArray(r)?r:[r])s.push(lA(i,o))}),s.flat()}const tm=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,nm={base:-10,title:10},uA={critical:-8,high:-1,low:2},sm={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},hA=/@import/,qr=t=>t===""||t===!0;function dA(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const s=uA[e.tagPriority]||0,i=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:sm;if(e.tag in nm)n=nm[e.tag];else if(e.tag==="meta"){const r=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;r&&(n=sm.meta[r])}else e.tag==="link"&&e.props.rel?n=i.link[e.props.rel]:e.tag==="script"?qr(e.props.async)?n=i.script.async:e.props.src&&!qr(e.props.defer)&&!qr(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=i.script.sync:qr(e.props.defer)&&e.props.src&&!qr(e.props.async)&&(n=i.script.defer):e.tag==="style"&&(n=e.innerHTML&&hA.test(e.innerHTML)?i.style.imported:i.style.sync);return(n||100)+s}function im(t,e){const n=typeof e=="function"?e(t):e,s=n.key||String(t.plugins.size+1);t.plugins.get(s)||(t.plugins.set(s,n),t.hooks.addHooks(n.hooks||{}))}function fA(t={}){const e=$_();e.addHooks(t.hooks||{});const n=!t.document,s=new Map,i=new Map,r=new Set,o={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:s,headEntries(){return[...s.values()]},use:a=>im(o,a),push(a,c){const u={...c||{}};delete u.head;const h=u._index??o._entryCount++,d={_i:h,input:a,options:u},p={_poll(g=!1){o.dirty=!0,!g&&r.add(h),e.callHook("entries:updated",o)},dispose(){s.delete(h)&&o.invalidate()},patch(g){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(d.input=g,s.set(h,d),p._poll())}};return p.patch(a),p},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);r.size;){const p=r.values().next().value;r.delete(p);const g=s.get(p);if(g){const v={tags:cA(g.input,t.propResolvers||[]).map(E=>Object.assign(E,g.options)),entry:g};await e.callHook("entries:normalize",v),g._tags=v.tags.map((E,D)=>(E._w=dA(o,E),E._p=(g._i<<10)+D,E._d=Qu(E),E))}}let c=!1;a.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(tm).reduce((p,g)=>{const v=String(g._d||g._p);if(!p.has(v))return p.set(v,g);const E=p.get(v);if((g?.tagDuplicateStrategy||(sA.has(g.tag)?"merge":null)||(g.key&&g.key===E.key?"merge":null))==="merge"){const L={...E.props};Object.entries(g.props).forEach(([$,C])=>L[$]=$==="style"?new Map([...E.props.style||new Map,...C]):$==="class"?new Set([...E.props.class||new Set,...C]):C),p.set(v,{...g,props:L})}else g._p>>10===E._p>>10&&g.tag==="meta"&&tv(v)?(p.set(v,Object.assign([...Array.isArray(E)?E:[E],g],g)),c=!0):(g._w===E._w?g._p>E._p:g?._w<E?._w)&&p.set(v,g);return p},a.tagMap);const u=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,h){const p=h?.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u?.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",u?.textContent||"")),u?g===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:g}):(h.tag="title",h.textContent=g)}}a.tags=Array.from(a.tagMap.values()),c&&(a.tags=a.tags.flat().sort(tm)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const p of a.tags){const{innerHTML:g,tag:v,props:E}=p;if(eA.has(v)&&!(Object.keys(E).length===0&&!p.innerHTML&&!p.textContent)&&!(v==="meta"&&!E.content&&!E["http-equiv"]&&!E.charset)){if(v==="script"&&g){if(E.type?.endsWith("json")){const D=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=D.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${v}`,"g"),`<\\/${v}`));p._d=Qu(p)}d.push(p)}}return d},invalidate(){for(const a of s.values())r.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>im(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const pA=(t,e)=>ot(e)?rT(e):e,ad="usehead";function mA(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(ad,t)}}.install}function gA(){if(Lo()){const t=ts(ad);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function yA(t,e={}){const n=e.head||gA();return n.ssr?n.push(t||{},e):_A(n,t,e)}function _A(t,e,n={}){const s=X(!1);let i;return e1(()=>{const o=s.value?{}:ml(e,pA);i?i.patch(o):i=t.push(o,n)}),Fo()&&(qh(()=>{i.dispose()}),zy(()=>{s.value=!0}),By(()=>{s.value=!1})),i}function vA(t){const e=t||ft();return e.ssrContext?.head||e.runWithContext(()=>{if(Lo()){const n=ts(ad);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function wA(t,e={}){const n=vA(e.nuxt);return yA(t,{head:n,...e})}const bA="modulepreload",TA=function(t,e){return new URL(t,e).href},rm={},Yu=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=u(n.map(h=>{if(h=TA(h,s),h in rm)return;rm[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!s)for(let E=o.length-1;E>=0;E--){const D=o[E];if(D.href===h&&(!d||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":bA,d||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),d)return new Promise((E,D)=>{v.addEventListener("load",E),v.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};let Va,La;function EA(){return Va=$fetch(sd(`builds/meta/${fr().app.buildId}.json`),{responseType:"json"}),Va.then(t=>{La=EI(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Va}function Yl(){return Va||EA()}async function ld(t){const e=typeof t=="string"?t:t.path;if(await Yl(),!La)return console.error("[nuxt] Error creating app manifest matcher.",La),{};try{return II({},...La.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function om(t,e={}){if(!await iv(t))return null;const s=await AA(t,e);return await sv(s)||null}const IA="_payload.json";async function AA(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Er(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const s=fr(),i=e.hash||(e.fresh?Date.now():s.app.buildId),r=s.app.cdnURL,o=r&&await iv(t)?r:s.app.baseURL;return Ql(o,n.pathname,IA+(i?`?${i}`:""))}async function sv(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(rv));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function iv(t=G_().path){const e=ft();return t=td(t),(await Yl()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const s=await ld({path:t});return!!s.prerender&&!s.redirect})}let ri=null;async function kA(){if(ri)return ri;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await rv(t.textContent||""),n=t.dataset.src?await sv(t.dataset.src):void 0;return ri={...e,...n,...window.__NUXT__},ri.config?.public&&(ri.config.public=_n(ri.config.public)),ri}async function rv(t){return await YI(t,ft()._payloadRevivers)}function ov(t,e){ft()._payloadRevivers[t]=e}const SA=wI(()=>{ov("skipHydrate",t=>{})}),CA=[["NuxtError",t=>od(t)],["EmptyShallowRef",t=>Au(t==="_"?void 0:t==="0n"?BigInt(0):hl(t))],["EmptyRef",t=>X(t==="_"?void 0:t==="0n"?BigInt(0):hl(t))],["ShallowRef",t=>Au(t)],["ShallowReactive",t=>Qi(t)],["Ref",t=>X(t)],["Reactive",t=>_n(t)]],RA=ln({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[s,i]of CA)ov(s,i);Object.assign(t.payload,([e,n]=U_(()=>t.runWithContext(kA)),e=await e,n(),e)),delete window.__NUXT__}});async function cd(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async i=>{const r=new Map,o=new Promise(g=>{t.resolveTags().then(v=>{g(v.map(E=>{const D=r.get(E._d)||0,L={tag:E,id:(D?`${E._d}:${D}`:E._d)||em(E),shouldRender:!0};return E._d&&tv(E._d)&&r.set(E._d,D+1),L}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const v=n[g]?.children;for(const E of v){const D=E.tagName.toLowerCase();if(!Zp.has(D))continue;const L=nv({tag:D,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce(($,C)=>($[C]=E.getAttribute(C),$),{})||{}});if(L.key=E.getAttribute("data-hid")||void 0,L._d=Qu(L)||em(L),a.elMap.has(L._d)){let $=1,C=L._d;for(;a.elMap.has(C);)C=`${L._d}:${$++}`;a.elMap.set(C,E)}else a.elMap.set(L._d,E)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(g,v,E){const D=`${g}:${v}`;a.sideEffects[D]=E,delete a.pendingSideEffects[D]}function u({id:g,$el:v,tag:E}){const D=E.tag.endsWith("Attrs");a.elMap.set(g,v),D||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),c(g,"el",()=>{v?.remove(),a.elMap.delete(g)}));for(const L in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,L))continue;const $=E.props[L];if(L.startsWith("on")&&typeof $=="function"){const T=v?.dataset;if(T&&T[`${L}fired`]){const P=L.slice(0,-5);$.call(v,new Event(P.substring(2)))}v.getAttribute(`data-${L}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(L.substring(2),$.bind(v)),v.setAttribute(`data-${L}`,""));continue}const C=`attr:${L}`;if(L==="class"){if(!$)continue;for(const T of $)D&&c(g,`${C}:${T}`,()=>v.classList.remove(T)),!v.classList.contains(T)&&v.classList.add(T)}else if(L==="style"){if(!$)continue;for(const[T,P]of $)c(g,`${C}:${T}`,()=>{v.style.removeProperty(T)}),v.style.setProperty(T,P)}else $!==!1&&$!==null&&(v.getAttribute(L)!==$&&v.setAttribute(L,$===!0?"":String($)),D&&c(g,C,()=>v.removeAttribute(L)))}}const h=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await o;for(const g of p){const{tag:v,shouldRender:E,id:D}=g;if(E){if(v.tag==="title"){n.title=v.textContent,c("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(D),g.$el?u(g):Zp.has(v.tag)&&h.push(g)}}for(const g of h){const v=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),d[v]=d[v]||n.createDocumentFragment(),d[v].appendChild(g.$el)}for(const g of p)await t.hooks.callHook("dom:renderTag",g,n,c);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:p}),i()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function PA(t={}){const e=t.domOptions?.render||cd;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return fA({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function xA(t,e){let n=0;return()=>{const s=++n;e(()=>{n===s&&t()})}}function MA(t={}){const e=PA({domOptions:{render:xA(()=>cd(e),n=>setTimeout(n,0))},...t});return e.install=mA(e),e}const DA={disableDefaults:!0},OA=ln({name:"nuxt:head",enforce:"pre",setup(t){const e=MA(DA);t.vueApp.use(e);{let n=!0;const s=async()=>{n=!1,await cd(e)};e.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||s()}),t.hooks.hook("app:error",s),t.hooks.hook("app:suspense:resolve",s)}}}),NA=async t=>{let e,n;const s=([e,n]=U_(()=>ld({path:t.path})),e=await e,n(),e);if(s.redirect)return Er(s.redirect,{acceptRelative:!0})?(window.location.href=s.redirect,!1):s.redirect},VA=[NA];function nu(t){const e=t&&typeof t=="object"?t:{};typeof t=="object"&&(t=V_({pathname:t.path||"",search:P_(t.query||{}),hash:t.hash||""}));const n=new URL(t.toString(),window.location.href);return{path:n.pathname,fullPath:t,query:ed(n.search),hash:n.hash,params:e.params||{},name:void 0,matched:e.matched||[],redirectedFrom:void 0,meta:e.meta||{},href:t}}const LA=ln({name:"nuxt:router",enforce:"pre",setup(t){const e=VE(window.location.pathname,fr().app.baseURL)+window.location.search+window.location.hash,n=[],s={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(d,p)=>(s[d].push(p),()=>s[d].splice(s[d].indexOf(p),1)),r=fr().app.baseURL,o=_n(nu(e));async function a(d,p){try{const g=nu(d);for(const v of s["navigate:before"]){const E=await v(g,o);if(E===!1||E instanceof Error)return;if(typeof E=="string"&&E.length)return a(E,!0)}for(const v of s["resolve:before"])await v(g,o);Object.assign(o,g),window.history[p?"replaceState":"pushState"]({},"",Ql(r,g.fullPath)),t.isHydrating||await t.runWithContext(OI);for(const v of s["navigate:after"])await v(g,o)}catch(g){for(const v of s.error)await v(g)}}const u={currentRoute:Le(()=>o),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:d=>a(d,!1),replace:d=>a(d,!0),back:()=>window.history.go(-1),go:d=>window.history.go(d),forward:()=>window.history.go(1),beforeResolve:d=>i("resolve:before",d),beforeEach:d=>i("navigate:before",d),afterEach:d=>i("navigate:after",d),onError:d=>i("error",d),resolve:nu,addRoute:(d,p)=>{n.push(p)},getRoutes:()=>n,hasRoute:d=>n.some(p=>p.name===d),removeRoute:d=>{const p=n.findIndex(g=>g.name===d);p!==-1&&n.splice(p,1)}};t.vueApp.component("RouterLink",ct({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(d,{slots:p})=>{const g=()=>a(d.to,d.replace);return()=>{const v=u.resolve(d.to);return d.custom?p.default?.({href:d.to,navigate:g,route:v}):Lu("a",{href:d.to,onClick:E=>(E.preventDefault(),g())},p)}}})),window.addEventListener("popstate",d=>{const p=d.target.location;u.replace(p.href.replace(p.origin,""))}),t._route=o,t._middleware||={global:[],named:{}};const h=t.payload.state._layout;return t.hooks.hookOnce("app:created",async()=>{u.beforeEach(async(d,p)=>{d.meta=_n(d.meta||{}),t.isHydrating&&h&&!rs(d.meta.layout)&&(d.meta.layout=h),t._processingMiddleware=!0;{const g=new Set([...VA,...t._middleware.global]);{const v=await t.runWithContext(()=>ld({path:d.path}));if(v.appMiddleware)for(const E in v.appMiddleware){const D=t._middleware.named[E];if(!D)return;v.appMiddleware[E]?g.add(D):g.delete(D)}}for(const v of g){const E=await t.runWithContext(()=>v(d,p));if(E!==!0&&(E||E===!1))return E}}}),u.afterEach(()=>{delete t._processingMiddleware}),await u.replace(e),FE(o.fullPath,e)||await t.runWithContext(()=>xI(o.fullPath))}),{provide:{route:o,router:u}}}}),am=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),w6=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),ud=t=>{const e=ft();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{am(()=>t())}):am(()=>t())},FA=ln({name:"nuxt:payload",setup(t){const e=new Set;js().beforeResolve(async(n,s)=>{if(n.path===s.path)return;const i=await om(n.path);if(i){for(const r of e)delete t.static.data[r];for(const r in i.data)r in t.static.data||e.add(r),t.static.data[r]=i.data[r]}}),ud(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:s}=new URL(n,window.location.href);s===window.location.hostname&&await om(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Yl,1e3)})}}),$A=ln(()=>{const t=js();ud(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),UA=ln(t=>{let e;async function n(){const s=await Yl();e&&clearTimeout(e),e=setTimeout(n,qp);try{const i=await $fetch(sd("builds/latest.json")+`?${Date.now()}`);i.id!==s.id&&t.hooks.callHook("app:manifest:update",i)}catch{}}ud(()=>{e=setTimeout(n,qp)})});function jA(t={}){const e=t.path||window.location.pathname;let n={};try{n=hl(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:ft().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const BA=ln({name:"nuxt:chunk-reload",setup(t){const e=js(),n=fr(),s=new Set;e.beforeEach(()=>{s.clear()}),t.hook("app:chunkError",({error:r})=>{s.add(r)});function i(r){const o=Ql(n.app.baseURL,r.fullPath);jA({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(i)}),e.onError((r,o)=>{s.has(r)&&i(o)})}}),zA="$s";function HA(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,s]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(s!==void 0&&typeof s!="function")throw new Error("[nuxt] [useState] init must be a function: "+s);const i=zA+n,r=ft(),o=xy(r.payload.state,i);if(o.value===void 0&&s){const a=s();if(ot(a))return r.payload.state[i]=a,a;o.value=a}return o}const WA={nuxt:{},ui:{colors:{primary:"green",secondary:"blue",success:"green",info:"blue",warning:"yellow",error:"red",neutral:"slate"},icons:{arrowLeft:"i-lucide-arrow-left",arrowRight:"i-lucide-arrow-right",check:"i-lucide-check",chevronDoubleLeft:"i-lucide-chevrons-left",chevronDoubleRight:"i-lucide-chevrons-right",chevronDown:"i-lucide-chevron-down",chevronLeft:"i-lucide-chevron-left",chevronRight:"i-lucide-chevron-right",chevronUp:"i-lucide-chevron-up",close:"i-lucide-x",ellipsis:"i-lucide-ellipsis",external:"i-lucide-arrow-up-right",file:"i-lucide-file",folder:"i-lucide-folder",folderOpen:"i-lucide-folder-open",loading:"i-lucide-loader-circle",minus:"i-lucide-minus",plus:"i-lucide-plus",search:"i-lucide-search",upload:"i-lucide-upload"}},icon:{provider:"iconify",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,cssLayer:"components",mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}},qA=AI(WA);function av(){const t=ft();return t._appConfig||=_n(qA),t._appConfig}const KA=ln({name:"pinia",setup(t){const e=VI();return t.vueApp.use(e),Uo(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),GA=Ru(()=>Yu(()=>import("./Dh4uUCUt.js"),[],import.meta.url).then(t=>t.default||t.default||t)),QA=[["Icon",GA]],YA=ln({name:"nuxt:global-components",setup(t){for(const[e,n]of QA)t.vueApp.component(e,n),t.vueApp.component("Lazy"+e,n)}});var Ia={inherit:"inherit",current:"currentcolor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"oklch(98.4% 0.003 247.858)",100:"oklch(96.8% 0.007 247.896)",200:"oklch(92.9% 0.013 255.508)",300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",600:"oklch(44.6% 0.043 257.281)",700:"oklch(37.2% 0.044 257.287)",800:"oklch(27.9% 0.041 260.031)",900:"oklch(20.8% 0.042 265.755)",950:"oklch(12.9% 0.042 264.695)"},gray:{50:"oklch(98.5% 0.002 247.839)",100:"oklch(96.7% 0.003 264.542)",200:"oklch(92.8% 0.006 264.531)",300:"oklch(87.2% 0.01 258.338)",400:"oklch(70.7% 0.022 261.325)",500:"oklch(55.1% 0.027 264.364)",600:"oklch(44.6% 0.03 256.802)",700:"oklch(37.3% 0.034 259.733)",800:"oklch(27.8% 0.033 256.848)",900:"oklch(21% 0.034 264.665)",950:"oklch(13% 0.028 261.692)"},zinc:{50:"oklch(98.5% 0 0)",100:"oklch(96.7% 0.001 286.375)",200:"oklch(92% 0.004 286.32)",300:"oklch(87.1% 0.006 286.286)",400:"oklch(70.5% 0.015 286.067)",500:"oklch(55.2% 0.016 285.938)",600:"oklch(44.2% 0.017 285.786)",700:"oklch(37% 0.013 285.805)",800:"oklch(27.4% 0.006 286.033)",900:"oklch(21% 0.006 285.885)",950:"oklch(14.1% 0.005 285.823)"},neutral:{50:"oklch(98.5% 0 0)",100:"oklch(97% 0 0)",200:"oklch(92.2% 0 0)",300:"oklch(87% 0 0)",400:"oklch(70.8% 0 0)",500:"oklch(55.6% 0 0)",600:"oklch(43.9% 0 0)",700:"oklch(37.1% 0 0)",800:"oklch(26.9% 0 0)",900:"oklch(20.5% 0 0)",950:"oklch(14.5% 0 0)"},stone:{50:"oklch(98.5% 0.001 106.423)",100:"oklch(97% 0.001 106.424)",200:"oklch(92.3% 0.003 48.717)",300:"oklch(86.9% 0.005 56.366)",400:"oklch(70.9% 0.01 56.259)",500:"oklch(55.3% 0.013 58.071)",600:"oklch(44.4% 0.011 73.639)",700:"oklch(37.4% 0.01 67.558)",800:"oklch(26.8% 0.007 34.298)",900:"oklch(21.6% 0.006 56.043)",950:"oklch(14.7% 0.004 49.25)"},red:{50:"oklch(97.1% 0.013 17.38)",100:"oklch(93.6% 0.032 17.717)",200:"oklch(88.5% 0.062 18.334)",300:"oklch(80.8% 0.114 19.571)",400:"oklch(70.4% 0.191 22.216)",500:"oklch(63.7% 0.237 25.331)",600:"oklch(57.7% 0.245 27.325)",700:"oklch(50.5% 0.213 27.518)",800:"oklch(44.4% 0.177 26.899)",900:"oklch(39.6% 0.141 25.723)",950:"oklch(25.8% 0.092 26.042)"},orange:{50:"oklch(98% 0.016 73.684)",100:"oklch(95.4% 0.038 75.164)",200:"oklch(90.1% 0.076 70.697)",300:"oklch(83.7% 0.128 66.29)",400:"oklch(75% 0.183 55.934)",500:"oklch(70.5% 0.213 47.604)",600:"oklch(64.6% 0.222 41.116)",700:"oklch(55.3% 0.195 38.402)",800:"oklch(47% 0.157 37.304)",900:"oklch(40.8% 0.123 38.172)",950:"oklch(26.6% 0.079 36.259)"},amber:{50:"oklch(98.7% 0.022 95.277)",100:"oklch(96.2% 0.059 95.617)",200:"oklch(92.4% 0.12 95.746)",300:"oklch(87.9% 0.169 91.605)",400:"oklch(82.8% 0.189 84.429)",500:"oklch(76.9% 0.188 70.08)",600:"oklch(66.6% 0.179 58.318)",700:"oklch(55.5% 0.163 48.998)",800:"oklch(47.3% 0.137 46.201)",900:"oklch(41.4% 0.112 45.904)",950:"oklch(27.9% 0.077 45.635)"},yellow:{50:"oklch(98.7% 0.026 102.212)",100:"oklch(97.3% 0.071 103.193)",200:"oklch(94.5% 0.129 101.54)",300:"oklch(90.5% 0.182 98.111)",400:"oklch(85.2% 0.199 91.936)",500:"oklch(79.5% 0.184 86.047)",600:"oklch(68.1% 0.162 75.834)",700:"oklch(55.4% 0.135 66.442)",800:"oklch(47.6% 0.114 61.907)",900:"oklch(42.1% 0.095 57.708)",950:"oklch(28.6% 0.066 53.813)"},lime:{50:"oklch(98.6% 0.031 120.757)",100:"oklch(96.7% 0.067 122.328)",200:"oklch(93.8% 0.127 124.321)",300:"oklch(89.7% 0.196 126.665)",400:"oklch(84.1% 0.238 128.85)",500:"oklch(76.8% 0.233 130.85)",600:"oklch(64.8% 0.2 131.684)",700:"oklch(53.2% 0.157 131.589)",800:"oklch(45.3% 0.124 130.933)",900:"oklch(40.5% 0.101 131.063)",950:"oklch(27.4% 0.072 132.109)"},green:{50:"oklch(98.2% 0.018 155.826)",100:"oklch(96.2% 0.044 156.743)",200:"oklch(92.5% 0.084 155.995)",300:"oklch(87.1% 0.15 154.449)",400:"oklch(79.2% 0.209 151.711)",500:"oklch(72.3% 0.219 149.579)",600:"oklch(62.7% 0.194 149.214)",700:"oklch(52.7% 0.154 150.069)",800:"oklch(44.8% 0.119 151.328)",900:"oklch(39.3% 0.095 152.535)",950:"oklch(26.6% 0.065 152.934)"},emerald:{50:"oklch(97.9% 0.021 166.113)",100:"oklch(95% 0.052 163.051)",200:"oklch(90.5% 0.093 164.15)",300:"oklch(84.5% 0.143 164.978)",400:"oklch(76.5% 0.177 163.223)",500:"oklch(69.6% 0.17 162.48)",600:"oklch(59.6% 0.145 163.225)",700:"oklch(50.8% 0.118 165.612)",800:"oklch(43.2% 0.095 166.913)",900:"oklch(37.8% 0.077 168.94)",950:"oklch(26.2% 0.051 172.552)"},teal:{50:"oklch(98.4% 0.014 180.72)",100:"oklch(95.3% 0.051 180.801)",200:"oklch(91% 0.096 180.426)",300:"oklch(85.5% 0.138 181.071)",400:"oklch(77.7% 0.152 181.912)",500:"oklch(70.4% 0.14 182.503)",600:"oklch(60% 0.118 184.704)",700:"oklch(51.1% 0.096 186.391)",800:"oklch(43.7% 0.078 188.216)",900:"oklch(38.6% 0.063 188.416)",950:"oklch(27.7% 0.046 192.524)"},cyan:{50:"oklch(98.4% 0.019 200.873)",100:"oklch(95.6% 0.045 203.388)",200:"oklch(91.7% 0.08 205.041)",300:"oklch(86.5% 0.127 207.078)",400:"oklch(78.9% 0.154 211.53)",500:"oklch(71.5% 0.143 215.221)",600:"oklch(60.9% 0.126 221.723)",700:"oklch(52% 0.105 223.128)",800:"oklch(45% 0.085 224.283)",900:"oklch(39.8% 0.07 227.392)",950:"oklch(30.2% 0.056 229.695)"},sky:{50:"oklch(97.7% 0.013 236.62)",100:"oklch(95.1% 0.026 236.824)",200:"oklch(90.1% 0.058 230.902)",300:"oklch(82.8% 0.111 230.318)",400:"oklch(74.6% 0.16 232.661)",500:"oklch(68.5% 0.169 237.323)",600:"oklch(58.8% 0.158 241.966)",700:"oklch(50% 0.134 242.749)",800:"oklch(44.3% 0.11 240.79)",900:"oklch(39.1% 0.09 240.876)",950:"oklch(29.3% 0.066 243.157)"},blue:{50:"oklch(97% 0.014 254.604)",100:"oklch(93.2% 0.032 255.585)",200:"oklch(88.2% 0.059 254.128)",300:"oklch(80.9% 0.105 251.813)",400:"oklch(70.7% 0.165 254.624)",500:"oklch(62.3% 0.214 259.815)",600:"oklch(54.6% 0.245 262.881)",700:"oklch(48.8% 0.243 264.376)",800:"oklch(42.4% 0.199 265.638)",900:"oklch(37.9% 0.146 265.522)",950:"oklch(28.2% 0.091 267.935)"},indigo:{50:"oklch(96.2% 0.018 272.314)",100:"oklch(93% 0.034 272.788)",200:"oklch(87% 0.065 274.039)",300:"oklch(78.5% 0.115 274.713)",400:"oklch(67.3% 0.182 276.935)",500:"oklch(58.5% 0.233 277.117)",600:"oklch(51.1% 0.262 276.966)",700:"oklch(45.7% 0.24 277.023)",800:"oklch(39.8% 0.195 277.366)",900:"oklch(35.9% 0.144 278.697)",950:"oklch(25.7% 0.09 281.288)"},violet:{50:"oklch(96.9% 0.016 293.756)",100:"oklch(94.3% 0.029 294.588)",200:"oklch(89.4% 0.057 293.283)",300:"oklch(81.1% 0.111 293.571)",400:"oklch(70.2% 0.183 293.541)",500:"oklch(60.6% 0.25 292.717)",600:"oklch(54.1% 0.281 293.009)",700:"oklch(49.1% 0.27 292.581)",800:"oklch(43.2% 0.232 292.759)",900:"oklch(38% 0.189 293.745)",950:"oklch(28.3% 0.141 291.089)"},purple:{50:"oklch(97.7% 0.014 308.299)",100:"oklch(94.6% 0.033 307.174)",200:"oklch(90.2% 0.063 306.703)",300:"oklch(82.7% 0.119 306.383)",400:"oklch(71.4% 0.203 305.504)",500:"oklch(62.7% 0.265 303.9)",600:"oklch(55.8% 0.288 302.321)",700:"oklch(49.6% 0.265 301.924)",800:"oklch(43.8% 0.218 303.724)",900:"oklch(38.1% 0.176 304.987)",950:"oklch(29.1% 0.149 302.717)"},fuchsia:{50:"oklch(97.7% 0.017 320.058)",100:"oklch(95.2% 0.037 318.852)",200:"oklch(90.3% 0.076 319.62)",300:"oklch(83.3% 0.145 321.434)",400:"oklch(74% 0.238 322.16)",500:"oklch(66.7% 0.295 322.15)",600:"oklch(59.1% 0.293 322.896)",700:"oklch(51.8% 0.253 323.949)",800:"oklch(45.2% 0.211 324.591)",900:"oklch(40.1% 0.17 325.612)",950:"oklch(29.3% 0.136 325.661)"},pink:{50:"oklch(97.1% 0.014 343.198)",100:"oklch(94.8% 0.028 342.258)",200:"oklch(89.9% 0.061 343.231)",300:"oklch(82.3% 0.12 346.018)",400:"oklch(71.8% 0.202 349.761)",500:"oklch(65.6% 0.241 354.308)",600:"oklch(59.2% 0.249 0.584)",700:"oklch(52.5% 0.223 3.958)",800:"oklch(45.9% 0.187 3.815)",900:"oklch(40.8% 0.153 2.432)",950:"oklch(28.4% 0.109 3.907)"},rose:{50:"oklch(96.9% 0.015 12.422)",100:"oklch(94.1% 0.03 12.58)",200:"oklch(89.2% 0.058 10.001)",300:"oklch(81% 0.117 11.638)",400:"oklch(71.2% 0.194 13.428)",500:"oklch(64.5% 0.246 16.439)",600:"oklch(58.6% 0.253 17.585)",700:"oklch(51.4% 0.222 16.935)",800:"oklch(45.5% 0.188 13.697)",900:"oklch(41% 0.159 10.272)",950:"oklch(27.1% 0.105 12.094)"}};const JA=[50,100,200,300,400,500,600,700,800,900,950];function XA(t,e){return t in Ia&&typeof Ia[t]=="object"&&e in Ia[t]?Ia[t][e]:""}function ZA(t,e){return`${JA.map(n=>`--ui-color-${t}-${n}: var(--color-${e==="neutral"?"old-neutral":e}-${n}, ${XA(e,n)});`).join(`
  `)}`}function lm(t,e){return`--ui-${t}: var(--ui-color-${t}-${e});`}const ek=ln(()=>{const t=av(),e=ft(),n=Le(()=>{const{neutral:i,...r}=t.ui.colors;return`@layer base {
  :root {
  ${Object.entries(t.ui.colors).map(([o,a])=>ZA(o,a)).join(`
  `)}
  }
  :root, .light {
  ${Object.keys(r).map(o=>lm(o,500)).join(`
  `)}
  }
  .dark {
  ${Object.keys(r).map(o=>lm(o,400)).join(`
  `)}
  }
}`}),s={style:[{innerHTML:()=>n.value,tagPriority:-2,id:"nuxt-ui-colors"}]};if(e.isHydrating&&!e.payload.serverRendered){const i=document.createElement("style");i.innerHTML=n.value,i.setAttribute("data-nuxt-ui-colors",""),document.head.appendChild(i),s.script=[{innerHTML:"document.head.removeChild(document.querySelector('[data-nuxt-ui-colors]'))"}]}wA(s)}),tk="__NUXT_COLOR_MODE__",su="nuxt-color-mode",nk="localStorage",Kn=window[tk]||{},sk=ln(t=>{const e=HA("color-mode",()=>_n({preference:Kn.preference,value:Kn.value,unknown:!1,forced:!1})).value;js().afterEach(r=>{const o=r.meta.colorMode;o&&o!=="system"?(e.value=o,e.forced=!0):(o==="system"&&console.warn("You cannot force the colorMode to system at the page level."),e.forced=!1,e.value=e.preference==="system"?Kn.getColorScheme():e.preference)});let n;function s(){n||!window.matchMedia||(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",()=>{!e.forced&&e.preference==="system"&&(e.value=Kn.getColorScheme())}))}function i(r,o){switch(r){case"cookie":window.document.cookie=su+"="+o;break;case"sessionStorage":window.sessionStorage?.setItem(su,o);break;case"localStorage":default:window.localStorage?.setItem(su,o)}}on(()=>e.preference,r=>{e.forced||(r==="system"?(e.value=Kn.getColorScheme(),s()):e.value=r,i(nk,r))},{immediate:!0}),on(()=>e.value,(r,o)=>{let a;a=window.document.createElement("style"),a.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),window.document.head.appendChild(a),Kn.removeColorScheme(o),Kn.addColorScheme(r),window.getComputedStyle(a).opacity,document.head.removeChild(a)}),e.preference==="system"&&s(),t.hook("app:mounted",()=>{e.unknown&&(e.preference=Kn.preference,e.value=Kn.value,e.unknown=!1)}),t.provide("colorMode",e)}),lv=/^[a-z0-9]+(-[a-z0-9]+)*$/,jo=(t,e,n,s="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;s=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),c=i.pop(),u={provider:i.length>0?i[0]:s,prefix:c,name:a};return e&&!Fa(u)?null:u}const r=i[0],o=r.split("-");if(o.length>1){const a={provider:s,prefix:o.shift(),name:o.join("-")};return e&&!Fa(a)?null:a}if(n&&s===""){const a={provider:s,prefix:"",name:r};return e&&!Fa(a,n)?null:a}return null},Fa=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,cv=Object.freeze({left:0,top:0,width:16,height:16}),gl=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ir=Object.freeze({...cv,...gl}),Ju=Object.freeze({...Ir,body:"",hidden:!1});function ik(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(n.rotate=s),n}function cm(t,e){const n=ik(t,e);for(const s in Ju)s in gl?s in t&&!(s in n)&&(n[s]=gl[s]):s in e?n[s]=e[s]:s in t&&(n[s]=t[s]);return n}function rk(t,e){const n=t.icons,s=t.aliases||Object.create(null),i=Object.create(null);function r(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=s[o]&&s[o].parent,c=a&&r(a);c&&(i[o]=[a].concat(c))}return i[o]}return Object.keys(n).concat(Object.keys(s)).forEach(r),i}function ok(t,e,n){const s=t.icons,i=t.aliases||Object.create(null);let r={};function o(a){r=cm(s[a]||i[a],r)}return o(e),n.forEach(o),cm(t,r)}function uv(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const s=rk(t);for(const i in s){const r=s[i];r&&(e(i,ok(t,i,r)),n.push(i))}return n}const ak={provider:"",aliases:{},not_found:{},...cv};function iu(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function hv(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!iu(t,ak))return null;const n=e.icons;for(const i in n){const r=n[i];if(!i||typeof r.body!="string"||!iu(r,Ju))return null}const s=e.aliases||Object.create(null);for(const i in s){const r=s[i],o=r.parent;if(!i||typeof o!="string"||!n[o]&&!s[o]||!iu(r,Ju))return null}return e}const um=Object.create(null);function lk(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Ei(t,e){const n=um[t]||(um[t]=Object.create(null));return n[e]||(n[e]=lk(t,e))}function dv(t,e){return hv(e)?uv(e,(n,s)=>{s?t.icons[n]=s:t.missing.add(n)}):[]}function ck(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Io=!1;function fv(t){return typeof t=="boolean"&&(Io=t),Io}function hd(t){const e=typeof t=="string"?jo(t,!0,Io):t;if(e){const n=Ei(e.provider,e.prefix),s=e.name;return n.icons[s]||(n.missing.has(s)?null:void 0)}}function uk(t,e){const n=jo(t,!0,Io);if(!n)return!1;const s=Ei(n.provider,n.prefix);return e?ck(s,n.name,e):(s.missing.add(n.name),!0)}function hk(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Io&&!e&&!t.prefix){let i=!1;return hv(t)&&(t.prefix="",uv(t,(r,o)=>{uk(r,o)&&(i=!0)})),i}const n=t.prefix;if(!Fa({prefix:n,name:"a"}))return!1;const s=Ei(e,n);return!!dv(s,t)}function b6(t){const e=hd(t);return e&&{...Ir,...e}}const pv=Object.freeze({width:null,height:null}),mv=Object.freeze({...pv,...gl}),dk=/(-?[0-9.]*[0-9]+[0-9.]*)/g,fk=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function hm(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const s=t.split(dk);if(s===null||!s.length)return t;const i=[];let r=s.shift(),o=fk.test(r);for(;;){if(o){const a=parseFloat(r);isNaN(a)?i.push(r):i.push(Math.ceil(a*e*n)/n)}else i.push(r);if(r=s.shift(),r===void 0)return i.join("");o=!o}}function pk(t,e="defs"){let n="";const s=t.indexOf("<"+e);for(;s>=0;){const i=t.indexOf(">",s),r=t.indexOf("</"+e);if(i===-1||r===-1)break;const o=t.indexOf(">",r);if(o===-1)break;n+=t.slice(i+1,r).trim(),t=t.slice(0,s).trim()+t.slice(o+1)}return{defs:n,content:t}}function mk(t,e){return t?"<defs>"+t+"</defs>"+e:e}function gk(t,e,n){const s=pk(t);return mk(s.defs,e+s.content+n)}const yk=t=>t==="unset"||t==="undefined"||t==="none";function _k(t,e){const n={...Ir,...t},s={...mv,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,s].forEach(E=>{const D=[],L=E.hFlip,$=E.vFlip;let C=E.rotate;L?$?C+=2:(D.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),D.push("scale(-1 1)"),i.top=i.left=0):$&&(D.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),D.push("scale(1 -1)"),i.top=i.left=0);let T;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:T=i.height/2+i.top,D.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:D.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:T=i.width/2+i.left,D.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}C%2===1&&(i.left!==i.top&&(T=i.left,i.left=i.top,i.top=T),i.width!==i.height&&(T=i.width,i.width=i.height,i.height=T)),D.length&&(r=gk(r,'<g transform="'+D.join(" ")+'">',"</g>"))});const o=s.width,a=s.height,c=i.width,u=i.height;let h,d;o===null?(d=a===null?"1em":a==="auto"?u:a,h=hm(d,c/u)):(h=o==="auto"?c:o,d=a===null?hm(h,u/c):a==="auto"?u:a);const p={},g=(E,D)=>{yk(D)||(p[E]=D.toString())};g("width",h),g("height",d);const v=[i.left,i.top,c,u];return p.viewBox=v.join(" "),{attributes:p,viewBox:v,body:r}}const vk=/\sid="(\S+)"/g,wk="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let bk=0;function Tk(t,e=wk){const n=[];let s;for(;s=vk.exec(t);)n.push(s[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const o=typeof e=="function"?e(r):e+(bk++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const Xu=Object.create(null);function gv(t,e){Xu[t]=e}function Zu(t){return Xu[t]||Xu[""]}function dd(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Jl=Object.create(null),Kr=["https://api.simplesvg.com","https://api.unisvg.com"],$a=[];for(;Kr.length>0;)Kr.length===1||Math.random()>.5?$a.push(Kr.shift()):$a.push(Kr.pop());Jl[""]=dd({resources:["https://api.iconify.design"].concat($a)});function yv(t,e){const n=dd(e);return n===null?!1:(Jl[t]=n,!0)}function Xl(t){return Jl[t]}function Ek(){return Object.keys(Jl)}const Ik=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let yl=Ik();function Ak(t){yl=t}function kk(){return yl}function Sk(t,e){const n=Xl(t);if(!n)return 0;let s;if(!n.maxURL)s=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const r=e+".json?icons=";s=n.maxURL-i-n.path.length-r.length}return s}function Ck(t){return t===404}const Rk=(t,e,n)=>{const s=[],i=Sk(t,e),r="icons";let o={type:r,provider:t,prefix:e,icons:[]},a=0;return n.forEach((c,u)=>{a+=c.length+1,a>=i&&u>0&&(s.push(o),o={type:r,provider:t,prefix:e,icons:[]},a=c.length),o.icons.push(c)}),s.push(o),s};function Pk(t){if(typeof t=="string"){const e=Xl(t);if(e)return e.path}return"/"}const xk=(t,e,n)=>{if(!yl){n("abort",424);return}let s=Pk(e.provider);switch(e.type){case"icons":{const r=e.prefix,a=e.icons.join(","),c=new URLSearchParams({icons:a});s+=r+".json?"+c.toString();break}case"custom":{const r=e.uri;s+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let i=503;yl(t+s).then(r=>{const o=r.status;if(o!==200){setTimeout(()=>{n(Ck(o)?"abort":"next",o)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",i)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",i)})},Mk={prepare:Rk,send:xk};function Dk(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let s={provider:"",prefix:"",name:""};return t.forEach(i=>{if(s.name===i.name&&s.prefix===i.prefix&&s.provider===i.provider)return;s=i;const r=i.provider,o=i.prefix,a=i.name,c=n[r]||(n[r]=Object.create(null)),u=c[o]||(c[o]=Ei(r,o));let h;a in u.icons?h=e.loaded:o===""||u.missing.has(a)?h=e.missing:h=e.pending;const d={provider:r,prefix:o,name:a};h.push(d)}),e}function _v(t,e){t.forEach(n=>{const s=n.loaderCallbacks;s&&(n.loaderCallbacks=s.filter(i=>i.id!==e))})}function Ok(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const s=t.provider,i=t.prefix;e.forEach(r=>{const o=r.icons,a=o.pending.length;o.pending=o.pending.filter(c=>{if(c.prefix!==i)return!0;const u=c.name;if(t.icons[u])o.loaded.push({provider:s,prefix:i,name:u});else if(t.missing.has(u))o.missing.push({provider:s,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||_v([t],r.id),r.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),r.abort))})}))}let Nk=0;function Vk(t,e,n){const s=Nk++,i=_v.bind(null,n,s);if(!e.pending.length)return i;const r={id:s,icons:e,callback:t,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(r)}),i}function Lk(t,e=!0,n=!1){const s=[];return t.forEach(i=>{const r=typeof i=="string"?jo(i,e,n):i;r&&s.push(r)}),s}var Fk={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function $k(t,e,n,s){const i=t.resources.length,r=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let F=t.resources.slice(0);for(o=[];F.length>1;){const k=Math.floor(Math.random()*F.length);o.push(F[k]),F=F.slice(0,k).concat(F.slice(k+1))}o=o.concat(F)}else o=t.resources.slice(r).concat(t.resources.slice(0,r));const a=Date.now();let c="pending",u=0,h,d=null,p=[],g=[];typeof s=="function"&&g.push(s);function v(){d&&(clearTimeout(d),d=null)}function E(){c==="pending"&&(c="aborted"),v(),p.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),p=[]}function D(F,k){k&&(g=[]),typeof F=="function"&&g.push(F)}function L(){return{startTime:a,payload:e,status:c,queriesSent:u,queriesPending:p.length,subscribe:D,abort:E}}function $(){c="failed",g.forEach(F=>{F(void 0,h)})}function C(){p.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),p=[]}function T(F,k,w){const y=k!=="success";switch(p=p.filter(I=>I!==F),c){case"pending":break;case"failed":if(y||!t.dataAfterTimeout)return;break;default:return}if(k==="abort"){h=w,$();return}if(y){h=w,p.length||(o.length?P():$());return}if(v(),C(),!t.random){const I=t.resources.indexOf(F.resource);I!==-1&&I!==t.index&&(t.index=I)}c="completed",g.forEach(I=>{I(w)})}function P(){if(c!=="pending")return;v();const F=o.shift();if(F===void 0){if(p.length){d=setTimeout(()=>{v(),c==="pending"&&(C(),$())},t.timeout);return}$();return}const k={status:"pending",resource:F,callback:(w,y)=>{T(k,w,y)}};p.push(k),u++,d=setTimeout(P,t.rotate),n(F,e,k.callback)}return setTimeout(P),L}function vv(t){const e={...Fk,...t};let n=[];function s(){n=n.filter(a=>a().status==="pending")}function i(a,c,u){const h=$k(e,a,c,(d,p)=>{s(),u&&u(d,p)});return n.push(h),h}function r(a){return n.find(c=>a(c))||null}return{query:i,find:r,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:s}}function dm(){}const ru=Object.create(null);function Uk(t){if(!ru[t]){const e=Xl(t);if(!e)return;const n=vv(e),s={config:e,redundancy:n};ru[t]=s}return ru[t]}function wv(t,e,n){let s,i;if(typeof t=="string"){const r=Zu(t);if(!r)return n(void 0,424),dm;i=r.send;const o=Uk(t);o&&(s=o.redundancy)}else{const r=dd(t);if(r){s=vv(r);const o=t.resources?t.resources[0]:"",a=Zu(o);a&&(i=a.send)}}return!s||!i?(n(void 0,424),dm):s.query(e,i,n)().abort}function fm(){}function jk(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Ok(t)}))}function Bk(t){const e=[],n=[];return t.forEach(s=>{(s.match(lv)?e:n).push(s)}),{valid:e,invalid:n}}function Gr(t,e,n){function s(){const i=t.pendingIcons;e.forEach(r=>{i&&i.delete(r),t.icons[r]||t.missing.add(r)})}if(n&&typeof n=="object")try{if(!dv(t,n).length){s();return}}catch(i){console.error(i)}s(),jk(t)}function pm(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function zk(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:s}=t,i=t.iconsToLoad;if(delete t.iconsToLoad,!i||!i.length)return;const r=t.loadIcon;if(t.loadIcons&&(i.length>1||!r)){pm(t.loadIcons(i,s,n),h=>{Gr(t,i,h)});return}if(r){i.forEach(h=>{const d=r(h,s,n);pm(d,p=>{const g=p?{prefix:s,icons:{[h]:p}}:null;Gr(t,[h],g)})});return}const{valid:o,invalid:a}=Bk(i);if(a.length&&Gr(t,a,null),!o.length)return;const c=s.match(lv)?Zu(n):null;if(!c){Gr(t,o,null);return}c.prepare(n,s,o).forEach(h=>{wv(n,h,d=>{Gr(t,h.icons,d)})})}))}const bv=(t,e)=>{const n=Lk(t,!0,fv()),s=Dk(n);if(!s.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(s.loaded,s.missing,s.pending,fm)}),()=>{c=!1}}const i=Object.create(null),r=[];let o,a;return s.pending.forEach(c=>{const{provider:u,prefix:h}=c;if(h===a&&u===o)return;o=u,a=h,r.push(Ei(u,h));const d=i[u]||(i[u]=Object.create(null));d[h]||(d[h]=[])}),s.pending.forEach(c=>{const{provider:u,prefix:h,name:d}=c,p=Ei(u,h),g=p.pendingIcons||(p.pendingIcons=new Set);g.has(d)||(g.add(d),i[u][h].push(d))}),r.forEach(c=>{const u=i[c.provider][c.prefix];u.length&&zk(c,u)}),e?Vk(e,s,r):fm},T6=t=>new Promise((e,n)=>{const s=typeof t=="string"?jo(t,!0):t;if(!s){n(t);return}bv([s||t],i=>{if(i.length&&s){const r=hd(s);if(r){e({...Ir,...r});return}}n(t)})});function Hk(t,e,n){Ei("",e).loadIcons=t}function Wk(t,e){const n={...t};for(const s in e){const i=e[s],r=typeof i;s in pv?(i===null||i&&(r==="string"||r==="number"))&&(n[s]=i):r===typeof n[s]&&(n[s]=s==="rotate"?i%4:i)}return n}const qk=/[\s,]+/;function Kk(t,e){e.split(qk).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Gk(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function s(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:s(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(t.slice(0,t.length-n.length));return isNaN(r)?0:(r=r/i,r%1===0?s(r):0)}}return e}function Qk(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)n+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Yk(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Jk(t){return"data:image/svg+xml,"+Yk(t)}function Xk(t){return'url("'+Jk(t)+'")'}const mm={...mv,inline:!1},Zk={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},eS={display:"inline-block"},eh={backgroundColor:"currentColor"},Tv={backgroundColor:"transparent"},gm={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ym={webkitMask:eh,mask:eh,background:Tv};for(const t in ym){const e=ym[t];for(const n in gm)e[t+n]=gm[n]}const Ua={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";Ua[t+"-flip"]=e,Ua[t.slice(0,1)+"-flip"]=e,Ua[t+"Flip"]=e});function _m(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const vm=(t,e)=>{const n=Wk(mm,e),s={...Zk},i=e.mode||"svg",r={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let E in e){const D=e[E];if(D!==void 0)switch(E){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[E]=D===!0||D==="true"||D===1;break;case"flip":typeof D=="string"&&Kk(n,D);break;case"color":r.color=D;break;case"rotate":typeof D=="string"?n[E]=Gk(D):typeof D=="number"&&(n[E]=D);break;case"ariaHidden":case"aria-hidden":D!==!0&&D!=="true"&&delete s["aria-hidden"];break;default:{const L=Ua[E];L?(D===!0||D==="true"||D===1)&&(n[L]=!0):mm[E]===void 0&&(s[E]=D)}}}const c=_k(t,n),u=c.attributes;if(n.inline&&(r.verticalAlign="-0.125em"),i==="svg"){s.style={...r,...a},Object.assign(s,u);let E=0,D=e.id;return typeof D=="string"&&(D=D.replace(/-/g,"_")),s.innerHTML=Tk(c.body,D?()=>D+"ID"+E++:"iconifyVue"),Lu("svg",s)}const{body:h,width:d,height:p}=t,g=i==="mask"||(i==="bg"?!1:h.indexOf("currentColor")!==-1),v=Qk(h,{...u,width:d+"",height:p+""});return s.style={...r,"--svg":Xk(v),width:_m(u.width),height:_m(u.height),...eS,...g?eh:Tv,...a},Lu("span",s)};fv(!0);gv("",Mk);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!hk(s))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const s="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;yv(n,i)||console.error(s)}catch{console.error(s)}}}}const tS={...Ir,body:""},E6=ct((t,{emit:e})=>{const n=X(null);function s(){n.value&&(n.value.abort?.(),n.value=null)}const i=X(!!t.ssr),r=X(""),o=Au(null);function a(){const u=t.icon;if(typeof u=="object"&&u!==null&&typeof u.body=="string")return r.value="",{data:u};let h;if(typeof u!="string"||(h=jo(u,!1,!0))===null)return null;let d=hd(h);if(!d){const v=n.value;return(!v||v.name!==u)&&(d===null?n.value={name:u}:n.value={name:u,abort:bv([h],c)}),null}s(),r.value!==u&&(r.value=u,os(()=>{e("load",u)}));const p=t.customise;if(p){d=Object.assign({},d);const v=p(d.body,h.name,h.prefix,h.provider);typeof v=="string"&&(d.body=v)}const g=["iconify"];return h.prefix!==""&&g.push("iconify--"+h.prefix),h.provider!==""&&g.push("iconify--"+h.provider),{data:d,classes:g}}function c(){const u=a();u?u.data!==o.value?.data&&(o.value=u):o.value=null}return i.value?c():tn(()=>{i.value=!0,c()}),on(()=>t.icon,c),kn(s),()=>{const u=o.value;if(!u)return vm(tS,t);let h=t;return u.classes&&(h={...t,class:u.classes.join(" ")}),vm({...Ir,...u.data},h)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),wm={getAPIConfig:Xl,setAPIModule:gv,sendAPIQuery:wv,setFetch:Ak,getFetch:kk,listAPIProviders:Ek},nS=ln({name:"@nuxt/icon",setup(){const t=fr(),e=av().icon;wm.setFetch($fetch.native);const n=[];if(e.provider==="server"){const i=t.app?.baseURL?.replace(/\/$/,"")??"";n.push(i+(e.localApiEndpoint||"/api/_nuxt_icon")),(e.fallbackToApi===!0||e.fallbackToApi==="client-only")&&n.push(e.iconifyApiEndpoint)}else e.provider==="none"?wm.setFetch(()=>Promise.resolve(new Response)):n.push(e.iconifyApiEndpoint);async function s(i,r){try{const o=await $fetch(n[0]+"/"+r+".json",{query:{icons:i.join(",")}});if(!o||o.prefix!==r||!o.icons)throw new Error("Invalid data"+JSON.stringify(o));return o}catch(o){return console.error("Failed to load custom icons",o),null}}yv("",{resources:n});for(const i of e.customCollections||[])i&&Hk(s,i)}}),sS=[SA,RA,OA,LA,FA,$A,UA,BA,KA,YA,ek,sk,nS];function iS(t){if(!t)return"";const e=typeof navigator<"u"&&(navigator.platform.toLowerCase().includes("mac")||navigator.userAgent.toLowerCase().includes("mac")),n=[];t.alt&&(e?n.push("⌃"):n.push("Alt")),t.ctrl&&!t.alt&&n.push(e?"⌃":"Ctrl"),t.meta&&n.push(e?"⌘":"Meta"),t.shift&&n.push(e?"⇧":"Shift");const s=t.key==="`"?"`":t.key.toUpperCase();return n.push(s),e&&n.length>1?n.join(""):n.join("+")}const b={item(t,e,n){return{role:"item",id:t,label:e,enabled:!0,visible:!0,...n}},sep(t){return{role:"separator",id:t,visible:!0}},submenu(t,e,n){return{role:"submenu",id:t,label:e,children:n,visible:!0}},section(t,e,n){return{id:t,label:e,entries:n}},template(t,e,n){return{id:t,title:e,sections:n}}},oi=240,ai=160;function Sn(t,e,n){return Math.max(e,Math.min(n,t))}function ou(){if(typeof window<"u"&&typeof document<"u"){const t=document.documentElement;return{vw:t.clientWidth,vh:t.clientHeight}}return{vw:1280,vh:800}}const st=ev("os",{state:()=>({windows:[],nextWindowId:1,nextZ:100,drag:{active:!1,windowId:null,startX:0,startY:0,originX:0,originY:0,resizing:!1,edge:null,originW:0,originH:0},menu:{openType:"none",menubarIndex:null,activePath:[],contextPos:null,contextTemplate:null},focusedId:null,clock:"",menuBarHeight:40,desktopPadding:8,snapThreshold:16,wallpaper:null,theme:"glassmorphic-light"}),getters:{orderedWindows:t=>[...t.windows].filter(e=>!e.minimized).sort((e,n)=>e.zIndex-n.zIndex),focused:t=>t.windows.find(e=>e.id===t.focusedId)??null,activeAppId(){return this.focused?.appId??null},activeMenuTemplate(){return{id:"system-stub",title:this.activeAppId?"App":"Webintosh",sections:[]}}},actions:{saveSession(){if(typeof localStorage>"u")return;const t={windows:this.windows.map(e=>({id:e.id,title:e.title,kind:e.kind,rect:e.rect,zIndex:e.zIndex,appId:e.appId??null,resizable:e.resizable??!0,minimizable:e.minimizable??!0,maximizable:e.maximizable??!0,closable:e.closable??!0,maximized:!!e.maximized,minimized:!!e.minimized,lastNormalRect:e.lastNormalRect??null})),nextWindowId:this.nextWindowId,nextZ:this.nextZ,wallpaper:this.wallpaper,theme:this.theme};try{localStorage.setItem("webintosh:session:v1",JSON.stringify(t))}catch{}},loadSession(){if(!(typeof localStorage>"u"))try{const t=localStorage.getItem("webintosh:session:v1");if(!t)return;const e=JSON.parse(t);Array.isArray(e?.windows)&&(this.windows=e.windows),typeof e?.nextWindowId=="number"&&(this.nextWindowId=e.nextWindowId),typeof e?.nextZ=="number"&&(this.nextZ=e.nextZ),(typeof e?.wallpaper=="string"||e?.wallpaper===null)&&(this.wallpaper=e.wallpaper),typeof e?.theme=="string"&&(this.theme=e.theme,this.applyTheme(e.theme)),this.focusTopMost()}catch{}},setFocused(t){this.focusedId=t},focusTopMost(){const t=this.windows.filter(n=>!n.minimized).sort((n,s)=>n.zIndex-s.zIndex),e=t[t.length-1]??null;this.focusedId=e?e.id:null},ensureBounds(t){const{vw:e,vh:n}=ou(),s=this.desktopPadding,i=s,r=this.menuBarHeight,o=Math.max(oi,e-s*2),a=Math.max(ai,n-this.menuBarHeight-s),c=Sn(t.rect.width,oi,o),u=Sn(t.rect.height,ai,a);t.rect.width=Math.floor(c),t.rect.height=Math.floor(u);const h=e-t.rect.width-s,d=n-t.rect.height-s;t.rect.x=Math.round(Sn(t.rect.x,i,Math.max(i,h))),t.rect.y=Math.round(Sn(t.rect.y,r,Math.max(r,d)))},tickClock(){const t=new Date,e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=e[t.getDay()],i=t.getDate(),r=n[t.getMonth()],o=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});this.clock=`${s} ${i} ${r} ${o}`},openWindow(t){const e=this.nextWindowId++,n=t?.rect?.width??360,s=t?.rect?.height??220,i=this.windows.length%6*24,r={id:e,title:t?.title??`Window ${e}`,kind:t?.kind??"blank",rect:{x:(t?.rect?.x??60)+i,y:(t?.rect?.y??this.menuBarHeight+20)+i,width:n,height:s},zIndex:this.nextZ++,appId:t?.appId,resizable:t?.resizable??!0,minimizable:t?.minimizable??!0,maximizable:t?.maximizable??!0,closable:t?.closable??!0,maximized:!1,minimized:!1};return this.windows.push(r),this.bringToFront(r.id),this.saveSession(),r.id},closeWindow(t){this.windows=this.windows.filter(e=>e.id!==t),this.drag.windowId===t&&this.endDrag(),this.focusedId===t&&this.focusTopMost(),this.saveSession()},bringToFront(t){const e=this.windows.find(n=>n.id===t);e&&(e.zIndex=this.nextZ++,this.setFocused(t),this.nextZ>1e4&&this.normalizeZOrder(),this.saveSession())},startDrag(t,e,n){const s=this.windows.find(i=>i.id===t);s&&(this.drag.active=!0,this.drag.resizing=!1,this.drag.windowId=t,this.drag.startX=e,this.drag.startY=n,this.drag.originX=s.rect.x,this.drag.originY=s.rect.y,this.bringToFront(t))},dragTo(t,e){if(!this.drag.active||this.drag.windowId==null||this.drag.resizing)return;const n=this.windows.find(r=>r.id===this.drag.windowId);if(!n)return;const s=t-this.drag.startX,i=e-this.drag.startY;n.rect.x=this.drag.originX+s,n.rect.y=this.drag.originY+i,this.ensureBounds(n)},endDrag(){this.drag.active=!1,this.drag.resizing=!1,this.drag.windowId=null,this.drag.edge=null,this.saveSession()},startResize(t,e,n,s){const i=this.windows.find(r=>r.id===t);!i||i.resizable===!1||(this.drag.active=!0,this.drag.resizing=!0,this.drag.edge=e??null,this.drag.windowId=t,this.drag.startX=n,this.drag.startY=s,this.drag.originX=i.rect.x,this.drag.originY=i.rect.y,this.drag.originW=i.rect.width,this.drag.originH=i.rect.height,this.bringToFront(t))},resizeTo(t,e){if(!this.drag.active||!this.drag.resizing||this.drag.windowId==null)return;const n=this.windows.find(k=>k.id===this.drag.windowId);if(!n)return;const s=t-this.drag.startX,i=e-this.drag.startY,r=this.drag.originX,o=this.drag.originY,a=this.drag.originW??n.rect.width,c=this.drag.originH??n.rect.height,{vw:u,vh:h}=ou(),d=this.desktopPadding,p=d,g=this.menuBarHeight,v=r+a,E=o+c;let D=r,L=o,$=a,C=c;const T=this.drag.edge;if(T?.includes("e")){const k=Math.max(oi,u-d-r);$=Sn(a+s,oi,k)}if(T?.includes("s")){const k=Math.max(ai,h-d-o);C=Sn(c+i,ai,k)}if(T?.includes("w")){const k=Math.max(oi,v-p);$=Sn(a-s,oi,k),D=v-$}if(T?.includes("n")){const k=Math.max(ai,E-g);C=Sn(c-i,ai,k),L=E-C}const P=u-$-d,F=h-C-d;D=Sn(D,p,Math.max(p,P)),L=Sn(L,g,Math.max(g,F)),n.rect={x:Math.round(D),y:Math.round(L),width:Math.floor($),height:Math.floor(C)}},endResize(){this.endDrag()},toggleMaximize(t){const e=this.windows.find(r=>r.id===t);if(!e)return;const{vw:n,vh:s}=ou(),i=this.desktopPadding;e.maximized?(e.lastNormalRect&&(e.rect={...e.lastNormalRect}),e.maximized=!1):(e.lastNormalRect={...e.rect},e.rect.x=i,e.rect.y=this.menuBarHeight,e.rect.width=Math.floor(Math.max(oi,n-i*2)),e.rect.height=Math.floor(Math.max(ai,s-this.menuBarHeight-i)),e.maximized=!0),this.bringToFront(t),this.saveSession()},minimizeWindow(t){const e=this.windows.find(n=>n.id===t);e&&(e.minimized=!0,this.focusedId===t&&this.focusTopMost(),this.saveSession())},restoreWindow(t){const e=this.windows.find(n=>n.id===t);e&&(e.minimized=!1,this.bringToFront(t),this.saveSession())},toggleMinimize(t){const e=this.windows.find(n=>n.id===t);e&&(e.minimized?this.restoreWindow(t):this.minimizeWindow(t))},setWindowRect(t,e){const n=this.windows.find(s=>s.id===t);n&&(n.rect={...n.rect,...e},this.ensureBounds(n),this.saveSession())},realignAllToBounds(){for(const t of this.windows)this.ensureBounds(t);this.saveSession()},normalizeZOrder(){const e=[...this.windows].sort((s,i)=>s.zIndex-i.zIndex);let n=100;for(const s of e)s.zIndex=n++;this.nextZ=n},openMenubar(t){this.menu.openType="menubar",this.menu.menubarIndex=typeof t=="number"?t:0,this.menu.activePath=[],this.menu.contextPos=null,this.menu.contextTemplate=null},openContext(t,e,n){this.menu.openType="context",this.menu.menubarIndex=null,this.menu.activePath=[],this.menu.contextPos={x:t,y:e},this.menu.contextTemplate=n},setActivePath(t){this.menu.activePath=Array.isArray(t)?[...t]:[]},closeMenu(){this.menu.openType="none",this.menu.menubarIndex=null,this.menu.activePath=[],this.menu.contextPos=null,this.menu.contextTemplate=null},setWallpaper(t){this.wallpaper=t,this.saveSession()},setTheme(t){this.theme=t,this.applyTheme(t),this.saveSession()},applyTheme(t){typeof document<"u"&&document.documentElement.setAttribute("data-theme",t)},initTheme(){this.applyTheme(this.theme)}}}),bm="webintosh:dock:v1:pins",Tm="webintosh:dock:v1:minOrder",au="webintosh:desktop:v1:iconPositions",Em="webintosh:desktop:v1:iconLayout",yt=ev("apps",{state:()=>({registry:{},pinned:[],minimizedOrder:[],iconPositions:{},iconLayoutDirection:"left",iconSortBy:"none",iconSize:"medium"}),getters:{pinnedDescriptors(t){return t.pinned.map(e=>t.registry[e]).filter(e=>!!e)}},actions:{registerApps(t){for(const e of t)this.registry[e.id]={kind:"app",...e}},loadPins(){if(!(typeof localStorage>"u"))try{const t=localStorage.getItem(bm);if(!t)return;const e=JSON.parse(t);Array.isArray(e)&&(this.pinned=e.filter(n=>typeof n=="string"))}catch{}},savePins(){if(!(typeof localStorage>"u"))try{localStorage.setItem(bm,JSON.stringify(this.pinned))}catch{}},isPinned(t){return this.pinned.includes(t)},togglePin(t){this.isPinned(t)?this.pinned=this.pinned.filter(e=>e!==t):this.pinned.push(t),this.savePins()},pinApp(t){this.pinned.includes(t)||(this.pinned.push(t),this.savePins())},unpinApp(t){this.pinned=this.pinned.filter(e=>e!==t),this.savePins()},loadIconPositions(){if(!(typeof localStorage>"u"))try{const t=localStorage.getItem(au);if(t){const e=JSON.parse(t);typeof e=="object"&&e!==null&&(this.iconPositions=e)}}catch(t){console.error("Failed to load icon positions:",t)}},loadIconLayout(){if(!(typeof localStorage>"u"))try{const t=localStorage.getItem(Em);if(t){const e=JSON.parse(t);typeof e=="object"&&e!==null&&((e.direction==="left"||e.direction==="right")&&(this.iconLayoutDirection=e.direction),(e.sortBy==="name"||e.sortBy==="type"||e.sortBy==="none")&&(this.iconSortBy=e.sortBy),(e.size==="small"||e.size==="medium"||e.size==="large")&&(this.iconSize=e.size))}}catch(t){console.error("Failed to load icon layout:",t)}},saveIconLayout(){if(!(typeof localStorage>"u"))try{const t={direction:this.iconLayoutDirection,sortBy:this.iconSortBy,size:this.iconSize};localStorage.setItem(Em,JSON.stringify(t))}catch(t){console.error("Failed to save icon layout:",t)}},setIconPosition(t,e,n){if(this.iconPositions[t]={x:e,y:n},typeof localStorage<"u")try{localStorage.setItem(au,JSON.stringify(this.iconPositions))}catch(s){console.error("Failed to save icon positions:",s)}},setIconLayoutDirection(t){this.iconLayoutDirection=t,this.saveIconLayout(),this.cleanUpIcons()},setIconSortBy(t){this.iconSortBy=t,this.saveIconLayout(),this.cleanUpIcons()},setIconSize(t){this.iconSize=t,this.saveIconLayout()},cleanUpIcons(){if(this.iconPositions={},typeof localStorage<"u")try{localStorage.setItem(au,JSON.stringify({}))}catch(t){console.error("Failed to clear icon positions:",t)}},getSortedAppList(){const t=Object.values(this.registry);return this.iconSortBy==="name"?t.sort((e,n)=>e.title.localeCompare(n.title)):this.iconSortBy==="type"?t.sort((e,n)=>e.kind!==n.kind?(e.kind||"").localeCompare(n.kind||""):e.title.localeCompare(n.title)):t},loadMinOrder(){if(!(typeof localStorage>"u"))try{const t=localStorage.getItem(Tm);if(!t)return;const e=JSON.parse(t);Array.isArray(e)?this.minimizedOrder=e.filter(n=>typeof n=="string"):this.minimizedOrder=[]}catch{this.minimizedOrder=[]}},saveMinOrder(){if(!(typeof localStorage>"u"))try{localStorage.setItem(Tm,JSON.stringify(this.minimizedOrder))}catch{}},orderMinimizedAppIds(t){const e=new Set(t),n=[],s=Array.isArray(this.minimizedOrder)?this.minimizedOrder:[];for(const i of s)e.has(i)&&n.push(i);for(const i of t)n.includes(i)||n.push(i);return n},moveInMinOrder(t,e){if(e!=null&&e===t){this.saveMinOrder();return}if(Array.isArray(this.minimizedOrder)||(this.minimizedOrder=[]),this.minimizedOrder.includes(t)||this.minimizedOrder.push(t),e&&!this.minimizedOrder.includes(e)&&this.minimizedOrder.push(e),this.minimizedOrder=this.minimizedOrder.filter(n=>n!==t),e){const n=this.minimizedOrder.indexOf(e);n>=0?this.minimizedOrder.splice(n,0,t):this.minimizedOrder.push(t)}else this.minimizedOrder.push(t);this.saveMinOrder()},launchOrFocus(t){const e=st(),n=e.windows.filter(h=>h.appId===t),i=[...n.filter(h=>!h.minimized)].sort((h,d)=>d.zIndex-h.zIndex)[0];if(i){e.bringToFront(i.id);return}const o=[...n.filter(h=>!!h.minimized)].sort((h,d)=>d.zIndex-h.zIndex)[0];if(o){e.restoreWindow(o.id);return}const a=this.registry[t],c=t==="textedit"?"Untitled":a?.title??"App",u=a?.defaultRect??{x:80,y:e.menuBarHeight+24,width:520,height:360};e.openWindow({appId:t,title:c,kind:a?.kind??"app",rect:u})}}}),Ev={};function xn(t,e){const n=Ev[t];if(typeof n=="function")try{n(e)}catch{}}function Te(t,e){Ev[t]=e}function th(){Te("os.openWindow",()=>{st().openWindow()}),Te("os.openTestWindow",()=>{st().openWindow({title:"Test Window"})}),Te("os.closeFocused",()=>{const t=st(),e=t.focused;e&&t.closeWindow(e.id)}),Te("os.minimizeFocused",()=>{const t=st(),e=t.focused;e&&t.toggleMinimize(e.id)}),Te("os.maximizeFocused",()=>{const t=st(),e=t.focused;e&&t.toggleMaximize(e.id)}),Te("os.restoreWindowById",t=>{const e=st(),n=li(t,"id");typeof n=="number"&&e.restoreWindow(n)}),Te("view.toggleZoom",()=>{const t=st(),e=t.focused;e&&t.toggleMaximize(e.id)}),Te("app.launch",t=>{const e=yt(),n=li(t,"appId");n&&e.registry[n]&&e.launchOrFocus(n)}),Te("app.newWindow",t=>{const e=yt(),n=st(),s=li(t,"appId"),i=n.focused?.appId??null,r=s??i;if(r){const o=e.registry[r],a=r==="textedit"?"Untitled":o?.title??"App",c=o?.defaultRect??{x:80,y:n.menuBarHeight+24,width:520,height:360};n.openWindow({appId:r,title:a,kind:o?.kind??"app",rect:c})}else n.openWindow({title:"New Window"})}),Te("app.newDocument",t=>{const e=yt(),n=st(),i=li(t,"appId")??(e.registry.textedit?"textedit":void 0);if(i){const r=e.registry[i],o=i==="textedit"?"Untitled":r?.title??"Document",a=r?.defaultRect??{x:96,y:n.menuBarHeight+28,width:640,height:420};n.openWindow({appId:i,title:o,kind:r?.kind??"app",rect:a})}else n.openWindow({title:"New Document"})}),Te("system.showShortcuts",()=>{const t=yt(),e=st();if(t.registry.shortcuts){t.launchOrFocus("shortcuts");return}e.openWindow({title:"Shortcuts"})}),Te("system.showAbout",()=>{const t=yt(),e=st(),n=e.windows.filter(i=>i.appId==="about");if(n.length>0){const i=n.sort((r,o)=>o.zIndex-r.zIndex)[0];i.minimized?e.restoreWindow(i.id):e.bringToFront(i.id);return}const s=t.registry.about;e.openWindow({appId:"about",title:s?.title??"About",kind:"system",rect:s?.defaultRect??{x:100,y:100,width:400,height:420},maximizable:!1})}),Te("desktop.changeWallpaper",()=>{const t=yt(),e=st(),n=e.windows.filter(s=>s.appId==="settings");if(n.length>0){const s=n.sort((i,r)=>r.zIndex-i.zIndex)[0];s.minimized?e.restoreWindow(s.id):e.bringToFront(s.id)}else{const s=t.registry.settings;e.openWindow({appId:"settings",title:s?.title??"System Settings",kind:"system",rect:s?.defaultRect??{x:100,y:80,width:900,height:600},metadata:{initialPanel:"wallpaper"}})}}),Te("desktop.cleanUpIcons",()=>{yt().cleanUpIcons()}),Te("desktop.sortIcons",t=>{const e=yt(),n=li(t,"sortBy");(n==="name"||n==="type")&&e.setIconSortBy(n)}),Te("desktop.setIconDirection",t=>{const e=yt(),n=li(t,"direction");(n==="left"||n==="right")&&e.setIconLayoutDirection(n)}),Te("desktop.setIconSize",t=>{const e=yt(),n=li(t,"size");(n==="small"||n==="medium"||n==="large")&&e.setIconSize(n)})}function li(t,e){if(t&&typeof t=="object"&&e in t)return t[e]}function rS(){return{register:Te,execute:xn}}const oS={key:0,class:"menu-sep",role:"separator"},aS=["role","aria-checked","aria-disabled","data-idx","onMouseenter","onClick"],lS={class:"menu-item-left"},cS={class:"checkmark","aria-hidden":"true"},uS={class:"label"},hS={class:"menu-item-right"},dS={key:0,class:"accel"},fS=["aria-expanded","data-idx","onMouseenter"],pS={class:"menu-item-left"},mS={class:"label"},gS=ct({name:"MenuDropdown",__name:"MenuDropdown",props:{entries:{},origin:{},teleport:{type:Boolean},z:{}},emits:["executed","navLeft","navRight"],setup(t,{emit:e}){const n=t,s=e,i=X(null),r=X(-1),o=X(!0);tn(()=>{const T=()=>{o.value=!1,window.removeEventListener("mousemove",T)};window.addEventListener("mousemove",T,{once:!0}),window.setTimeout(()=>{o.value=!1},150)});const a=Le(()=>{const P={position:"absolute",zIndex:n.z??1e3};return n.origin&&(P.left=`${n.origin.x}px`,P.top=`${n.origin.y}px`),P}),c=Le(()=>(n.z??1e3)+1);function u(T){return T.visible!==!1}const h=Le(()=>n.entries.map((T,P)=>T.role!=="separator"&&T.visible!==!1?P:-1).filter(T=>T>=0));function d(){const T=r.value,P=i.value;if(!P)return;P.querySelector(`.menu-item[data-idx="${T}"]`)?.focus()}function p(T){r.value=T,os(()=>d())}function g(){const T=h.value;if(!T.length)return;const P=T[0];p(P)}function v(){const T=h.value;if(!T.length)return;const P=T[T.length-1];p(P)}function E(T){const P=h.value;if(!P.length)return;const F=P.indexOf(r.value),k=F>=0?(F+T+P.length)%P.length:T>0?0:P.length-1,w=P[k]??P[0];p(w)}function D(T){o.value||(r.value=T)}function L(T){T.enabled!==!1&&T.command&&(xn(T.command,T.args),s("executed",{id:T.id}))}function $(T){s("executed",T)}function C(T){if(h.value.length)switch(T.key){case"ArrowDown":E(1);break;case"ArrowUp":E(-1);break;case"Home":g();break;case"End":v();break;case"Enter":{const F=r.value,k=n.entries[F];k&&k.role==="item"&&k.enabled!==!1&&L(k);break}case"Escape":break;case"ArrowRight":s("navRight");break;case"ArrowLeft":s("navLeft");break}}return(T,P)=>{const F=MT("MenuDropdown",!0);return j(),W("div",{class:Ee(["menu-dropdown",{"no-hover":o.value}]),style:At(a.value),role:"menu",onKeydown:qe(C,["stop","prevent"])},[_("ul",{ref_key:"listEl",ref:i,class:"menu-list",role:"none"},[(j(!0),W(pe,null,Oe(T.entries,(k,w)=>(j(),W(pe,{key:k.id},[k.role==="separator"&&u(k)?(j(),W("li",oS)):k.role==="item"&&u(k)?(j(),W("li",{key:1,class:Ee(["menu-item",{disabled:k.enabled===!1,checked:!!k.checked,active:w===r.value}]),role:k.checked?"menuitemcheckbox":"menuitem","aria-checked":k.checked===!0?"true":void 0,"aria-disabled":k.enabled===!1?"true":"false",tabindex:-1,"data-idx":w,onMouseenter:y=>D(w),onMouseleave:P[0]||(P[0]=y=>D(-1)),onClick:y=>L(k)},[_("div",lS,[_("span",cS,Q(k.checked?"✓":""),1),_("span",uS,Q(k.label),1)]),_("div",hS,[k.accel?(j(),W("span",dS,Q(me(iS)(k.accel)),1)):Ye("",!0)])],42,aS)):k.role==="submenu"&&u(k)?(j(),W("li",{key:2,class:Ee(["menu-item submenu",{active:w===r.value}]),role:"menuitem","aria-haspopup":"true","aria-expanded":w===r.value?"true":"false",tabindex:-1,"data-idx":w,onMouseenter:y=>D(w)},[_("div",pS,[P[1]||(P[1]=_("span",{class:"checkmark","aria-hidden":"true"},null,-1)),_("span",mS,Q(k.label),1)]),P[2]||(P[2]=_("div",{class:"menu-item-right"},[_("span",{class:"submenu-arrow","aria-hidden":"true"},"›")],-1)),w===r.value?(j(),it(F,{key:0,class:"submenu-panel",entries:k.children,teleport:T.teleport,z:c.value,onExecuted:$},null,8,["entries","teleport","z"])):Ye("",!0)],42,fS)):Ye("",!0)],64))),128))],512)],38)}}}),Tt=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Iv=Object.assign(Tt(gS,[["__scopeId","data-v-e83c3f18"]]),{__name:"OsMenuDropdown"});function nh(){const t=yt(),e=Object.values(t.registry).map(n=>b.item(`system.app.${n.id}`,n.title,{command:"app.launch",args:{appId:n.id}}));return b.template("system","",[b.section("system","",[b.item("system.about","About Webintosh",{command:"system.showAbout"}),b.item("system.settings","System Settings...",{command:"app.launch",args:{appId:"settings"}}),b.sep("system.sep1"),...e]),b.section("file","File",[b.item("file.openWindow","Open Window",{command:"os.openWindow",accel:{key:"N",alt:!0}}),b.item("file.shortcuts","Shortcuts",{command:"system.showShortcuts",accel:{key:"/",alt:!0}}),b.submenu("file.developer","Developer",[b.item("file.dev.openTestWindow","Open Test Window",{command:"os.openTestWindow"})])]),b.section("edit","Edit",[b.item("edit.undo","Undo",{enabled:!1}),b.item("edit.redo","Redo",{enabled:!1}),b.sep("edit.sep1"),b.item("edit.cut","Cut",{enabled:!1}),b.item("edit.copy","Copy",{enabled:!1}),b.item("edit.paste","Paste",{enabled:!1})]),b.section("view","View",[b.item("view.zoom","Zoom",{command:"view.toggleZoom",accel:{key:"Z",alt:!0}})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.item("window.cycle","Cycle Windows",{accel:{key:"`",alt:!0},enabled:!1})]),b.section("help","Help",[b.item("help.search","Search",{enabled:!1})])])}function yS(){const t=yt(),e=Object.values(t.registry).map(n=>b.item(`finder.app.${n.id}`,n.title,{command:"app.launch",args:{appId:n.id}}));return b.template("finder","",[b.section("finder","",[b.item("finder.about","About Webintosh",{command:"system.showAbout"}),b.item("finder.settings","System Settings...",{command:"app.launch",args:{appId:"settings"}}),b.sep("finder.sep1"),...e]),b.section("file","File",[b.item("file.newWindow","New Finder Window",{command:"app.newWindow",args:{appId:"finder"},accel:{key:"N",alt:!0}}),b.item("file.newFolder","New Folder",{command:"finder.newFolder",accel:{key:"N",alt:!0,shift:!0}}),b.sep("file.sep1"),b.item("file.getInfo","Get Info",{enabled:!1,accel:{key:"I",alt:!0}}),b.item("file.rename","Rename",{enabled:!1}),b.sep("file.sep2"),b.item("file.duplicate","Duplicate",{enabled:!1}),b.item("file.trash","Move to Trash",{enabled:!1,accel:{key:"Delete",alt:!0}})]),b.section("edit","Edit",[b.item("edit.undo","Undo",{command:"edit.undo",accel:{key:"Z",alt:!0}}),b.item("edit.redo","Redo",{command:"edit.redo",accel:{key:"Z",alt:!0,shift:!0}}),b.sep("edit.sep1"),b.item("edit.cut","Cut",{command:"edit.cut",accel:{key:"X",alt:!0}}),b.item("edit.copy","Copy",{command:"edit.copy",accel:{key:"C",alt:!0}}),b.item("edit.paste","Paste",{command:"edit.paste",accel:{key:"V",alt:!0}}),b.sep("edit.sep2"),b.item("edit.selectAll","Select All",{command:"edit.selectAll",accel:{key:"A",alt:!0}})]),b.section("view","View",[b.submenu("view.as","View As",[b.item("view.as.icons","Icons",{command:"finder.viewAs",args:{view:"icons"}}),b.item("view.as.list","List",{command:"finder.viewAs",args:{view:"list"}}),b.item("view.as.columns","Columns",{command:"finder.viewAs",args:{view:"columns"}}),b.item("view.as.gallery","Gallery",{command:"finder.viewAs",args:{view:"gallery"}})]),b.sep("view.sep1"),b.submenu("view.sortBy","Sort By",[b.item("view.sortBy.name","Name",{command:"finder.sortBy",args:{sort:"name"}}),b.item("view.sortBy.kind","Kind",{command:"finder.sortBy",args:{sort:"kind"}}),b.item("view.sortBy.dateModified","Date Modified",{command:"finder.sortBy",args:{sort:"dateModified"}}),b.item("view.sortBy.size","Size",{command:"finder.sortBy",args:{sort:"size"}})]),b.sep("view.sep2"),b.item("view.showPathBar","Show Path Bar",{command:"finder.togglePathBar",checkable:!0}),b.item("view.showStatusBar","Show Status Bar",{command:"finder.toggleStatusBar",checkable:!0}),b.item("view.showSidebar","Show Sidebar",{command:"finder.toggleSidebar",checkable:!0}),b.sep("view.sep3"),b.item("view.showIconPreview","Show Icon Preview",{command:"finder.toggleIconPreview",checkable:!0})]),b.section("go","Go",[b.item("go.desktop","Desktop",{command:"finder.goTo",args:{location:"desktop"},accel:{key:"D",alt:!0,shift:!0}}),b.item("go.documents","Documents",{command:"finder.goTo",args:{location:"documents"},accel:{key:"O",alt:!0,shift:!0}}),b.item("go.downloads","Downloads",{command:"finder.goTo",args:{location:"downloads"},accel:{key:"L",alt:!0}}),b.item("go.pictures","Pictures",{command:"finder.goTo",args:{location:"pictures"}}),b.item("go.music","Music",{command:"finder.goTo",args:{location:"music"}}),b.item("go.videos","Videos",{command:"finder.goTo",args:{location:"videos"}}),b.sep("go.sep1"),b.item("go.applications","Applications",{command:"finder.goTo",args:{location:"applications"},accel:{key:"A",alt:!0,shift:!0}}),b.item("go.utilities","Utilities",{command:"finder.goTo",args:{location:"utilities"},accel:{key:"U",alt:!0,shift:!0}}),b.sep("go.sep2"),b.item("go.recent","Recent",{command:"finder.goTo",args:{location:"recent"}})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.item("window.cycle","Cycle Windows",{accel:{key:"`",alt:!0},enabled:!1}),b.sep("window.sep1"),b.item("window.bringAllToFront","Bring All to Front",{command:"finder.bringAllToFront"})]),b.section("help","Help",[b.item("help.finderHelp","Finder Help",{command:"help.showFinderHelp"}),b.item("help.shareApp","Share Webintosh...",{command:"help.shareApp"}),b.sep("help.sep1"),b.item("help.aboutFinder","About Finder",{command:"help.showAboutFinder"})])])}function _S(){return b.template("textedit","TextEdit",[b.section("textedit","TextEdit",[b.item("textedit.about","About TextEdit",{enabled:!1}),b.item("textedit.preferences","Preferences…",{enabled:!1})]),b.section("file","File",[b.item("file.newDocument","New Document",{command:"app.newDocument",args:{appId:"textedit"},accel:{key:"N",alt:!0}}),b.item("file.newWindow","New Window",{command:"app.newWindow",args:{appId:"textedit"}}),b.sep("file.sep1"),b.item("file.save","Save",{command:"textedit.save",accel:{key:"S",alt:!0}}),b.sep("file.sep2"),b.item("file.shortcuts","Shortcuts",{command:"system.showShortcuts",accel:{key:"/",alt:!0}})]),b.section("edit","Edit",[b.item("edit.undo","Undo",{enabled:!1}),b.item("edit.redo","Redo",{enabled:!1}),b.sep("edit.sep1"),b.item("edit.cut","Cut",{enabled:!1}),b.item("edit.copy","Copy",{enabled:!1}),b.item("edit.paste","Paste",{enabled:!1})]),b.section("view","View",[b.item("view.zoom","Zoom",{command:"view.toggleZoom",accel:{key:"Z",alt:!0}})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.item("window.cycle","Cycle Windows",{accel:{key:"`",alt:!0},enabled:!1})]),b.section("help","Help",[b.item("help.search","Search",{enabled:!1})])])}function vS(){return b.template("typingtest","TypingTest",[b.section("typingtest","TypingTest",[b.item("typingtest.about","About TypingTest",{command:"system.showAbout"}),b.item("typingtest.preferences","Preferences…",{enabled:!1}),b.sep("typingtest.sep1"),b.item("typingtest.quit","Quit TypingTest",{command:"os.closeFocused",accel:{key:"Q",alt:!0}})]),b.section("test","Test",[b.item("test.new","New Test",{command:"typingtest.newTest",accel:{key:"N",alt:!0}}),b.item("test.restart","Restart Test",{command:"typingtest.restartTest",accel:{key:"R",alt:!0}}),b.sep("test.sep1"),b.item("test.changeText","Change Text",{command:"typingtest.changeText",accel:{key:"T",alt:!0}}),b.sep("test.sep2"),b.submenu("test.difficulty","Difficulty",[b.item("test.difficulty.easy","Easy",{command:"typingtest.setDifficulty",args:{level:"easy"},checked:!0}),b.item("test.difficulty.medium","Medium",{command:"typingtest.setDifficulty",args:{level:"medium"}}),b.item("test.difficulty.hard","Hard",{command:"typingtest.setDifficulty",args:{level:"hard"}})]),b.sep("test.sep3"),b.item("test.practiceMode","Practice Mode",{command:"typingtest.togglePracticeMode",checked:!1,enabled:!1})]),b.section("settings","Settings",[b.item("settings.sound","Sound Effects",{command:"typingtest.toggleSound",checked:!0,accel:{key:"S",alt:!0,shift:!0}}),b.item("settings.showKeyboard","Show Keyboard",{command:"typingtest.toggleKeyboard",checked:!0,accel:{key:"K",alt:!0}}),b.sep("settings.sep1"),b.submenu("settings.theme","Test Theme",[b.item("settings.theme.light","Light",{command:"typingtest.setTheme",args:{theme:"light"},checked:!0}),b.item("settings.theme.dark","Dark",{command:"typingtest.setTheme",args:{theme:"dark"}}),b.item("settings.theme.highContrast","High Contrast",{command:"typingtest.setTheme",args:{theme:"highContrast"}})]),b.sep("settings.sep2"),b.item("settings.showTimer","Show Timer",{command:"typingtest.toggleTimer",checked:!0}),b.item("settings.showWPM","Show Live WPM",{command:"typingtest.toggleLiveWPM",checked:!0}),b.item("settings.showAccuracy","Show Live Accuracy",{command:"typingtest.toggleLiveAccuracy",checked:!0})]),b.section("stats","Statistics",[b.item("stats.currentSession","Current Session",{command:"typingtest.showSessionStats",accel:{key:"I",alt:!0}}),b.item("stats.allTime","All Time Stats",{command:"typingtest.showAllTimeStats",enabled:!1}),b.sep("stats.sep1"),b.item("stats.personalBest","Personal Best",{command:"typingtest.showPersonalBest",enabled:!1}),b.item("stats.history","Test History",{command:"typingtest.showHistory",enabled:!1}),b.sep("stats.sep2"),b.item("stats.reset","Reset Statistics",{command:"typingtest.resetStats",enabled:!1}),b.item("stats.export","Export Statistics…",{command:"typingtest.exportStats",enabled:!1})]),b.section("view","View",[b.item("view.zoom","Zoom",{command:"view.toggleZoom",accel:{key:"Z",alt:!0}}),b.item("view.fullscreen","Enter Full Screen",{command:"typingtest.toggleFullscreen",accel:{key:"F",alt:!0,shift:!0}}),b.sep("view.sep1"),b.item("view.focusMode","Focus Mode",{command:"typingtest.toggleFocusMode",checked:!1,enabled:!1}),b.item("view.nightMode","Night Mode",{command:"typingtest.toggleNightMode",checked:!1,enabled:!1})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.item("window.cycle","Cycle Windows",{accel:{key:"`",alt:!0},enabled:!1}),b.sep("window.sep1"),b.item("window.bringAllToFront","Bring All to Front",{enabled:!1})]),b.section("help","Help",[b.item("help.typingTips","Typing Tips",{command:"typingtest.showTips"}),b.item("help.keyboardShortcuts","Keyboard Shortcuts",{command:"system.showShortcuts",accel:{key:"/",alt:!0}}),b.sep("help.sep1"),b.item("help.learnToType","Learn to Type",{command:"typingtest.showTutorial",enabled:!1}),b.item("help.fingerPlacement","Finger Placement Guide",{command:"typingtest.showFingerGuide",enabled:!1})])])}function wS(){return b.template("keystation","KeyStation",[b.section("keystation","KeyStation",[b.item("keystation.about","About KeyStation",{command:"system.showAbout"}),b.item("keystation.preferences","Preferences…",{enabled:!1}),b.sep("keystation.sep1"),b.item("keystation.quit","Quit KeyStation",{command:"os.closeFocused",accel:{key:"Q",alt:!0}})]),b.section("file","File",[b.item("file.newSession","New Session",{command:"keystation.newSession",accel:{key:"N",alt:!0}}),b.sep("file.sep1"),b.item("file.startRecording","Start Recording",{command:"keystation.startRecording",accel:{key:"R",alt:!0}}),b.item("file.stopRecording","Stop Recording",{command:"keystation.stopRecording",accel:{key:"R",alt:!0,shift:!0},enabled:!1}),b.item("file.playRecording","Play Recording",{command:"keystation.playRecording",accel:{key:"P",alt:!0}}),b.item("file.clearRecording","Clear Recording",{command:"keystation.clearRecording"}),b.sep("file.sep2"),b.item("file.export","Export Audio…",{command:"keystation.exportAudio",enabled:!1}),b.item("file.importMidi","Import MIDI…",{command:"keystation.importMidi",enabled:!1})]),b.section("edit","Edit",[b.item("edit.undo","Undo",{command:"keystation.undo",accel:{key:"Z",alt:!0},enabled:!1}),b.item("edit.redo","Redo",{command:"keystation.redo",accel:{key:"Z",alt:!0,shift:!0},enabled:!1}),b.sep("edit.sep1"),b.item("edit.copy","Copy Pattern",{command:"keystation.copyPattern",accel:{key:"C",alt:!0},enabled:!1}),b.item("edit.paste","Paste Pattern",{command:"keystation.pastePattern",accel:{key:"V",alt:!0},enabled:!1}),b.sep("edit.sep2"),b.item("edit.clearAll","Clear All",{command:"keystation.clearAll"})]),b.section("instrument","Instrument",[b.item("instrument.piano","Piano",{command:"keystation.setInstrument",args:{instrument:"piano"},checked:!0}),b.item("instrument.synth","Synth",{command:"keystation.setInstrument",args:{instrument:"synth"}}),b.item("instrument.organ","Organ",{command:"keystation.setInstrument",args:{instrument:"organ"}}),b.item("instrument.strings","Strings",{command:"keystation.setInstrument",args:{instrument:"strings"}}),b.item("instrument.brass","Brass",{command:"keystation.setInstrument",args:{instrument:"brass"}}),b.item("instrument.flute","Flute",{command:"keystation.setInstrument",args:{instrument:"flute"}}),b.sep("instrument.sep1"),b.submenu("instrument.oscillator","Oscillator Type",[b.item("instrument.oscillator.sine","Sine",{command:"keystation.setOscillator",args:{type:"sine"},checked:!0}),b.item("instrument.oscillator.triangle","Triangle",{command:"keystation.setOscillator",args:{type:"triangle"}}),b.item("instrument.oscillator.sawtooth","Sawtooth",{command:"keystation.setOscillator",args:{type:"sawtooth"}}),b.item("instrument.oscillator.square","Square",{command:"keystation.setOscillator",args:{type:"square"}})])]),b.section("effects","Effects",[b.submenu("effects.reverb","Reverb",[b.item("effects.reverb.off","Off",{command:"keystation.setReverb",args:{level:0},checked:!1}),b.item("effects.reverb.low","Low (20%)",{command:"keystation.setReverb",args:{level:20},checked:!0}),b.item("effects.reverb.medium","Medium (50%)",{command:"keystation.setReverb",args:{level:50}}),b.item("effects.reverb.high","High (80%)",{command:"keystation.setReverb",args:{level:80}}),b.item("effects.reverb.max","Maximum",{command:"keystation.setReverb",args:{level:100}})]),b.submenu("effects.delay","Delay",[b.item("effects.delay.off","Off",{command:"keystation.setDelay",args:{level:0},checked:!0}),b.item("effects.delay.low","Low (25%)",{command:"keystation.setDelay",args:{level:25}}),b.item("effects.delay.medium","Medium (50%)",{command:"keystation.setDelay",args:{level:50}}),b.item("effects.delay.high","High (75%)",{command:"keystation.setDelay",args:{level:75}}),b.item("effects.delay.max","Maximum",{command:"keystation.setDelay",args:{level:100}})]),b.sep("effects.sep1"),b.item("effects.sustain","Sustain Pedal",{command:"keystation.toggleSustain",accel:{key:" ",alt:!1},checked:!1})]),b.section("octave","Octave",[b.item("octave.c1","C1",{command:"keystation.setOctave",args:{octave:1}}),b.item("octave.c2","C2",{command:"keystation.setOctave",args:{octave:2}}),b.item("octave.c3","C3",{command:"keystation.setOctave",args:{octave:3}}),b.item("octave.c4","C4",{command:"keystation.setOctave",args:{octave:4},checked:!0}),b.item("octave.c5","C5",{command:"keystation.setOctave",args:{octave:5}}),b.item("octave.c6","C6",{command:"keystation.setOctave",args:{octave:6}}),b.item("octave.c7","C7",{command:"keystation.setOctave",args:{octave:7}}),b.sep("octave.sep1"),b.item("octave.up","Octave Up",{command:"keystation.octaveUp",accel:{key:"]",alt:!0}}),b.item("octave.down","Octave Down",{command:"keystation.octaveDown",accel:{key:"[",alt:!0}})]),b.section("audio","Audio",[b.submenu("audio.volume","Master Volume",[b.item("audio.volume.mute","Mute",{command:"keystation.setVolume",args:{level:0}}),b.item("audio.volume.25","25%",{command:"keystation.setVolume",args:{level:25}}),b.item("audio.volume.50","50%",{command:"keystation.setVolume",args:{level:50},checked:!0}),b.item("audio.volume.75","75%",{command:"keystation.setVolume",args:{level:75}}),b.item("audio.volume.100","100%",{command:"keystation.setVolume",args:{level:100}})]),b.sep("audio.sep1"),b.item("audio.volumeUp","Volume Up",{command:"keystation.volumeUp",accel:{key:"=",alt:!0}}),b.item("audio.volumeDown","Volume Down",{command:"keystation.volumeDown",accel:{key:"-",alt:!0}}),b.sep("audio.sep2"),b.item("audio.resetAudio","Reset Audio Context",{command:"keystation.resetAudio"})]),b.section("view","View",[b.item("view.zoom","Zoom",{command:"view.toggleZoom",accel:{key:"Z",alt:!0}}),b.sep("view.sep1"),b.item("view.showWaveform","Show Waveform",{command:"keystation.toggleWaveform",checked:!0}),b.item("view.showKeyLabels","Show Key Labels",{command:"keystation.toggleKeyLabels",checked:!0}),b.item("view.showOctaveLabels","Show Octave Labels",{command:"keystation.toggleOctaveLabels",checked:!0}),b.sep("view.sep2"),b.item("view.compactMode","Compact Mode",{command:"keystation.toggleCompactMode",enabled:!1})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.sep("window.sep1"),b.item("window.newWindow","New KeyStation Window",{command:"app.newWindow",args:{appId:"keystation"},accel:{key:"N",alt:!0,shift:!0}})]),b.section("help","Help",[b.item("help.keyboardShortcuts","Keyboard Shortcuts",{command:"system.showShortcuts",accel:{key:"/",alt:!0}}),b.sep("help.sep1"),b.item("help.keyboardLayout","Keyboard Layout Guide",{command:"keystation.showKeyboardGuide"}),b.item("help.midiLearn","MIDI Learn Mode",{command:"keystation.toggleMidiLearn",enabled:!1}),b.sep("help.sep2"),b.item("help.documentation","KeyStation Documentation",{command:"keystation.showDocumentation",enabled:!1})])])}function bS(){return b.template("yahooMessenger","Yahoo! Messenger",[b.section("yahooMessenger","Yahoo! Messenger",[b.item("yahooMessenger.about","About Yahoo! Messenger",{command:"system.showAbout"}),b.item("yahooMessenger.preferences","Preferences…",{enabled:!1}),b.sep("yahooMessenger.sep1"),b.item("yahooMessenger.signOut","Sign Out",{command:"yahooMessenger.signOut"}),b.sep("yahooMessenger.sep2"),b.item("yahooMessenger.quit","Quit Yahoo! Messenger",{command:"os.closeFocused",accel:{key:"Q",alt:!0}})]),b.section("conversations","Conversations",[b.item("conversations.newMessage","New Message",{command:"yahooMessenger.newMessage",accel:{key:"N",alt:!0}}),b.item("conversations.joinChannel","Join Channel",{command:"yahooMessenger.joinChannel",accel:{key:"J",alt:!0}}),b.sep("conversations.sep1"),b.submenu("conversations.channels","Channels",[b.item("conversations.channels.general","#general",{command:"yahooMessenger.switchChannel",args:{channel:"general"}}),b.item("conversations.channels.design","#design",{command:"yahooMessenger.switchChannel",args:{channel:"design"}}),b.item("conversations.channels.gaming","#gaming",{command:"yahooMessenger.switchChannel",args:{channel:"gaming"}}),b.item("conversations.channels.music","#music",{command:"yahooMessenger.switchChannel",args:{channel:"music"}})]),b.sep("conversations.sep2"),b.item("conversations.directMessages","Direct Messages",{command:"yahooMessenger.showDirectMessages",accel:{key:"D",alt:!0}}),b.sep("conversations.sep3"),b.item("conversations.clearChat","Clear Current Chat",{command:"yahooMessenger.clearChat",accel:{key:"L",alt:!0}})]),b.section("edit","Edit",[b.item("edit.copy","Copy",{command:"document.copy",accel:{key:"C",alt:!0}}),b.item("edit.paste","Paste",{command:"document.paste",accel:{key:"V",alt:!0}}),b.sep("edit.sep1"),b.item("edit.selectAll","Select All",{command:"document.selectAll",accel:{key:"A",alt:!0}}),b.sep("edit.sep2"),b.item("edit.findInChat","Find in Chat…",{command:"yahooMessenger.findInChat",accel:{key:"F",alt:!0},enabled:!1})]),b.section("status","Status",[b.item("status.available","Available",{command:"yahooMessenger.setStatus",args:{status:"available"},checked:!0}),b.item("status.busy","Busy",{command:"yahooMessenger.setStatus",args:{status:"busy"}}),b.item("status.away","Away",{command:"yahooMessenger.setStatus",args:{status:"away"}}),b.item("status.invisible","Invisible",{command:"yahooMessenger.setStatus",args:{status:"invisible"}}),b.sep("status.sep1"),b.item("status.customMessage","Set Status Message…",{command:"yahooMessenger.setStatusMessage",enabled:!1})]),b.section("tools","Tools",[b.item("tools.buzz","Send BUZZ!",{command:"yahooMessenger.sendBuzz",accel:{key:"B",alt:!0}}),b.sep("tools.sep1"),b.submenu("tools.emoticons","Emoticons",[b.item("tools.emoticons.smile","😊 Smile",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"😊"}}),b.item("tools.emoticons.laugh","😂 Laugh",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"😂"}}),b.item("tools.emoticons.heart","❤️ Heart",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"❤️"}}),b.item("tools.emoticons.thumbsUp","👍 Thumbs Up",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"👍"}}),b.item("tools.emoticons.cool","😎 Cool",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"😎"}}),b.item("tools.emoticons.thinking","🤔 Thinking",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"🤔"}}),b.item("tools.emoticons.cry","😭 Cry",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"😭"}}),b.item("tools.emoticons.party","🎉 Party",{command:"yahooMessenger.insertEmoticon",args:{emoticon:"🎉"}})]),b.sep("tools.sep2"),b.item("tools.sounds","Message Sounds",{command:"yahooMessenger.toggleSounds",checked:!0}),b.item("tools.notifications","Desktop Notifications",{command:"yahooMessenger.toggleNotifications",checked:!0}),b.sep("tools.sep3"),b.item("tools.clearAllChats","Clear All Chats…",{command:"yahooMessenger.clearAllChats",enabled:!1})]),b.section("view","View",[b.item("view.showSidebar","Show Sidebar",{command:"yahooMessenger.toggleSidebar",checked:!0}),b.item("view.showOnlineUsers","Show Online Users",{command:"yahooMessenger.toggleOnlineUsers",checked:!0}),b.sep("view.sep1"),b.item("view.compactMode","Compact Mode",{command:"yahooMessenger.toggleCompactMode",enabled:!1}),b.sep("view.sep2"),b.item("view.zoomIn","Zoom In",{command:"yahooMessenger.zoomIn",accel:{key:"=",alt:!0}}),b.item("view.zoomOut","Zoom Out",{command:"yahooMessenger.zoomOut",accel:{key:"-",alt:!0}}),b.item("view.resetZoom","Reset Zoom",{command:"yahooMessenger.resetZoom",accel:{key:"0",alt:!0}})]),b.section("window","Window",[b.item("window.minimize","Minimize",{command:"os.minimizeFocused",accel:{key:"M",alt:!0}}),b.item("window.close","Close Window",{command:"os.closeFocused",accel:{key:"W",alt:!0}}),b.sep("window.sep1"),b.item("window.newWindow","New Messenger Window",{command:"app.newWindow",args:{appId:"yahooMessenger"},accel:{key:"N",alt:!0,shift:!0}})]),b.section("help","Help",[b.item("help.keyboardShortcuts","Keyboard Shortcuts",{command:"system.showShortcuts",accel:{key:"/",alt:!0}}),b.sep("help.sep1"),b.item("help.about","About Yahoo! Messenger",{command:"yahooMessenger.showAbout"}),b.item("help.whatsnew","What's New",{command:"yahooMessenger.showWhatsNew",enabled:!1})])])}function TS(t,e,n){const s=e.length?e.map(i=>b.item(`dock.${t}.win.${i.id}`,i.title&&i.title.trim().length?i.title:`Window ${i.id}`,{command:"os.restoreWindowById",args:{id:i.id}})):[b.item(`dock.${t}.empty`,"No minimized windows",{enabled:!1})];return b.template(`dock-${t}`,n??"Windows",[b.section("windows","Windows",s)])}function ES(){return nh()}function IS(t,e){switch((t||"").toLowerCase()){case"finder":return yS();case"textedit":return _S();case"typingtest":return vS();case"keystation":return wS();case"yahoomessenger":return bS();case"about":return nh();default:return{...nh(),id:`app-${t||"unknown"}`,title:e??"App"}}}function ks(t){if(!t)return;const{$config:e}=ft(),n=e.app.baseURL||"/";if(t.startsWith("http")||t.startsWith("data:"))return t;const s=t.startsWith("/")?t.slice(1):t;return`${n}${s}`}const AS=["aria-expanded"],kS=["src"],SS={key:1,class:"logo-fallback"},CS={class:"app-name"},RS=["data-index","aria-expanded","onClick","onMouseenter"],PS={class:"menu-right"},xS={class:"clock"},MS=ct({name:"OsMenuBar",__name:"MenuBar",setup(t){const e=st(),n=yt(),s=X(null),i=X(ks("/icons/system/apple.png")||null);let r;tn(()=>{e.tickClock(),r=window.setInterval(()=>e.tickClock(),1e3)}),kn(()=>{r&&window.clearInterval(r)});const o=Le(()=>{const T=e.activeAppId;if(!T)return ES();const P=n.registry[T]?.title;return IS(T,P)}),a=Le(()=>{const T=e.activeAppId;return T?n.registry[T]?.title??"App":"Webintosh"}),c=Le(()=>e.menu.openType==="menubar"),u=Le(()=>{const T=e.menu.menubarIndex??0;return o.value.sections[T]?.entries??[]}),h=X({x:10,y:40});function d(T){const P=T.currentTarget;if(!P)return;const F=P.getBoundingClientRect();h.value={x:Math.round(F.left+4),y:Math.round(F.bottom)}}function p(T,P){d(P),e.openMenubar(T)}function g(T,P){c.value&&e.menu.menubarIndex!==T&&(d(P),e.openMenubar(T))}function v(){e.closeMenu()}function E(T){const P=s.value;return P?P.querySelector(`[data-index="${T}"]`):null}function D(T){const P=E(T);if(!P)return;const F=P.getBoundingClientRect();h.value={x:Math.round(F.left+4),y:Math.round(F.bottom)}}function L(T){D(T),e.openMenubar(T)}function $(){const T=o.value.sections.length,F=((e.menu.menubarIndex??0)-1+T)%T;L(F)}function C(){const T=o.value.sections.length,F=((e.menu.menubarIndex??0)+1)%T;L(F)}return(T,P)=>{const F=Iv;return j(),W("header",{class:"menu-bar",onClick:P[3]||(P[3]=k=>me(e).closeMenu())},[_("div",{ref_key:"menuLeftEl",ref:s,class:"menu-left",role:"menubar"},[_("button",{class:"menu-logo",role:"menuitem","aria-haspopup":"true","data-index":0,"aria-expanded":c.value?"true":"false",onClick:P[1]||(P[1]=qe(k=>p(0,k),["stop"])),onMouseenter:P[2]||(P[2]=k=>g(0,k))},[i.value?(j(),W("img",{key:0,src:i.value,alt:"Logo",class:"logo-icon",onError:P[0]||(P[0]=k=>i.value=null)},null,40,kS)):(j(),W("span",SS,"🍎"))],40,AS),_("span",CS,Q(a.value),1),(j(!0),W(pe,null,Oe(o.value.sections.slice(1),(k,w)=>(j(),W("button",{key:k.id,class:"menu-item",role:"menuitem","aria-haspopup":"true","data-index":w+1,"aria-expanded":c.value&&me(e).menu.menubarIndex===w+1?"true":"false",onClick:qe(y=>p(w+1,y),["stop"]),onMouseenter:y=>g(w+1,y)},Q(k.label),41,RS))),128))],512),_("div",PS,[_("span",xS,Q(me(e).clock),1)]),c.value&&u.value.length?(j(),it(F,{key:0,entries:u.value,origin:h.value,z:2e3,onExecuted:v,onNavLeft:$,onNavRight:C},null,8,["entries","origin"])):Ye("",!0)])}}}),DS=Object.assign(Tt(MS,[["__scopeId","data-v-20ce8cc7"]]),{__name:"OsMenuBar"}),OS=["title"],NS=["src","alt"],VS={key:1,class:"icon-emoji","aria-hidden":"true"},LS={class:"icon-label"},FS=ct({name:"OsDesktopIcon",__name:"DesktopIcon",props:{title:{},icon:{},emoji:{},x:{},y:{}},emits:["open","context","move"],setup(t,{emit:e}){const n=t,s=e,i=yt(),r=X(!1),o=X(n.x??0),a=X(n.y??0),c=X(!1),u=Le(()=>ks(n.icon));on(()=>n.x,p=>{p!==void 0&&!r.value&&(o.value=p)}),on(()=>n.y,p=>{p!==void 0&&!r.value&&(a.value=p)});const h=Le(()=>n.x!==void 0&&n.y!==void 0?{position:"absolute",left:`${o.value}px`,top:`${a.value}px`,opacity:r.value?.6:1,transition:r.value?"none":"opacity 0.2s"}:{});function d(p){if(p.button!==0)return;p.preventDefault();const g=p.clientX,v=p.clientY,E=o.value,D=a.value;r.value=!0;function L(C){const T=C.clientX-g,P=C.clientY-v,F=window.innerWidth,k=window.innerHeight,w={small:{width:72,height:68},medium:{width:88,height:80},large:{width:104,height:92}},{width:y,height:I}=w[i.iconSize],x=40,R=8,S=E+T,ye=D+P;o.value=Math.max(0,Math.min(S,F-y-R)),a.value=Math.max(0,Math.min(ye,k-x-I))}function $(){r.value=!1,s("move",{x:o.value,y:a.value}),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",$)}document.addEventListener("mousemove",L),document.addEventListener("mouseup",$)}return(p,g)=>(j(),W("div",{class:Ee(["desktop-icon",`icon-size-${me(i).iconSize}`]),style:At(h.value),onMousedown:d},[_("button",{class:"icon-button",title:p.title,onDblclick:g[1]||(g[1]=qe(v=>p.$emit("open"),["stop"])),onContextmenu:g[2]||(g[2]=qe(v=>p.$emit("context",v),["prevent","stop"]))},[u.value&&!c.value?(j(),W("img",{key:0,src:u.value,alt:p.title,class:"icon-svg","aria-hidden":"true",onError:g[0]||(g[0]=v=>c.value=!0)},null,40,NS)):(j(),W("span",VS,Q(p.emoji||"🗂️"),1)),_("span",LS,Q(p.title),1)],40,OS)],38))}}),$S=Object.assign(Tt(FS,[["__scopeId","data-v-5921bd9c"]]),{__name:"OsDesktopIcon"}),US={class:"icons-container",role:"grid"},jS=ct({name:"OsDesktopIcons",__name:"DesktopIcons",setup(t){const e=yt(),n=st(),s=Le(()=>e.getSortedAppList().filter(u=>u.showOnDesktop!==!1));function i(u,h){const d=e.iconPositions[u];if(d)return d.x;const p=100,g=100,L=(typeof window<"u"?window.innerHeight:768)-40-20,$=Math.floor(L/p),C=Math.floor(h/$);return e.iconLayoutDirection==="right"?(typeof window<"u"?window.innerWidth:1280)-g-C*g-20:20+C*g}function r(u,h){const d=e.iconPositions[u];if(d)return d.y;const p=100,g=20,D=(typeof window<"u"?window.innerHeight:768)-40-g,L=Math.floor(D/p),$=h%L;return g+$*p}function o(u,h){e.setIconPosition(u,h.x,h.y)}function a(u){const d=n.windows.filter(v=>v.appId===u&&v.minimized).sort((v,E)=>E.zIndex-v.zIndex)[0];if(d){n.restoreWindow(d.id);return}const g=n.windows.filter(v=>v.appId===u&&!v.minimized).sort((v,E)=>E.zIndex-v.zIndex)[0];if(g){n.bringToFront(g.id);return}xn("app.newWindow",{appId:u})}function c(u,h){const d=b.template(`desktop-app-context-${u}`,"Webintosh",[b.section("app","App",[b.item("app.open","Open",{command:"app.newWindow",args:{appId:u}})])]);n.openContext(h.clientX,h.clientY,d)}return(u,h)=>{const d=$S;return j(),W("div",US,[(j(!0),W(pe,null,Oe(s.value,(p,g)=>(j(),it(d,{key:p.id,title:p.title,icon:p.icon,emoji:p.emoji??"🗂️",x:i(p.id,g),y:r(p.id,g),onOpen:v=>a(p.id),onContext:v=>c(p.id,v),onMove:v=>o(p.id,v)},null,8,["title","icon","emoji","x","y","onOpen","onContext","onMove"]))),128))])}}}),BS=Object.assign(Tt(jS,[["__scopeId","data-v-7aeb3560"]]),{__name:"OsDesktopIcons"}),zS=ct({name:"OsDesktop",__name:"Desktop",setup(t){const e=st(),n=yt(),s=Le(()=>b.template("desktop-context","Webintosh",[b.section("wallpaper","Wallpaper",[b.item("ctx.changeWallpaper","Change Wallpaper...",{command:"desktop.changeWallpaper"})]),b.section("icons","Icons",[b.item("ctx.cleanUp","Clean Up Icons",{command:"desktop.cleanUpIcons"}),b.submenu("ctx.iconSorting","Sort Icons By",[b.item("ctx.sort.name","Name",{command:"desktop.sortIcons",args:{sortBy:"name"}}),b.item("ctx.sort.type","Type",{command:"desktop.sortIcons",args:{sortBy:"type"}})]),b.submenu("ctx.iconDirection","Icon Direction",[b.item("ctx.dir.left","Start from Left",{command:"desktop.setIconDirection",args:{direction:"left"},checked:n.iconLayoutDirection==="left"}),b.item("ctx.dir.right","Start from Right",{command:"desktop.setIconDirection",args:{direction:"right"},checked:n.iconLayoutDirection==="right"})]),b.submenu("ctx.iconSize","Icon Size",[b.item("ctx.size.small","Small",{command:"desktop.setIconSize",args:{size:"small"},checked:n.iconSize==="small"}),b.item("ctx.size.medium","Medium",{command:"desktop.setIconSize",args:{size:"medium"},checked:n.iconSize==="medium"}),b.item("ctx.size.large","Large",{command:"desktop.setIconSize",args:{size:"large"},checked:n.iconSize==="large"})])])]));on([()=>n.iconLayoutDirection,()=>n.iconSize],()=>{e.menu.openType==="context"&&e.menu.contextTemplate?.id==="desktop-context"&&(e.menu.contextTemplate=s.value)});function i(){e.closeMenu(),e.setFocused(null)}function r(o){e.openContext(o.clientX,o.clientY,s.value)}return(o,a)=>{const c=BS;return j(),W("div",{class:"os-desktop",onClick:i,onContextmenu:qe(r,["prevent"])},[ze(c)],32)}}}),HS=Object.assign(Tt(zS,[["__scopeId","data-v-f7a26b7e"]]),{__name:"OsDesktop"}),WS={class:"finder-app"},qS={class:"finder-sidebar"},KS={class:"sidebar-section"},GS=["onClick"],QS={class:"sidebar-icon"},YS={class:"sidebar-label"},JS={class:"finder-content"},XS={class:"finder-toolbar"},ZS={class:"toolbar-section"},eC={class:"toolbar-title"},tC={class:"finder-files"},nC=["onClick","onDblclick"],sC={class:"file-icon"},iC=["src","alt"],rC={key:1,class:"file-icon-emoji"},oC={class:"file-name"},aC=ct({name:"FinderApp",__name:"index",setup(t){const e=yt();st();const n=X("documents"),s=X(null),i=[{id:"applications",name:"Applications",icon:"🚀"},{id:"documents",name:"Documents",icon:"📄"},{id:"images",name:"Images",icon:"🖼️"},{id:"music",name:"Music",icon:"🎵"},{id:"videos",name:"Videos",icon:"🎬"},{id:"trash",name:"Trash",icon:"🗑️"}],r=()=>Object.values(e.registry).map(h=>({id:`app-${h.id}`,name:h.title,iconPath:h.icon,iconEmoji:h.emoji||"📱",type:"app",appId:h.id})),o={applications:r(),documents:[{id:"doc-1",name:"Welcome.txt",iconEmoji:"📄",type:"file"},{id:"doc-2",name:"Notes.md",iconEmoji:"📝",type:"file"}],images:[{id:"img-1",name:"Screenshot.png",iconEmoji:"🖼️",type:"file"},{id:"img-2",name:"Wallpaper.jpg",iconEmoji:"🖼️",type:"file"}],music:[{id:"music-1",name:"Playlist.m3u",iconEmoji:"🎵",type:"file"}],videos:[{id:"vid-1",name:"Demo.mp4",iconEmoji:"🎬",type:"file"}],trash:[]},a=Le(()=>i.find(d=>d.id===n.value)?.name||"Finder"),c=Le(()=>n.value==="applications"?r():o[n.value]||[]),u=h=>{console.log("Opening file:",h.name),h.type==="app"&&h.appId&&e.launchOrFocus(h.appId)};return(h,d)=>(j(),W("div",WS,[_("div",qS,[_("div",KS,[d[0]||(d[0]=_("div",{class:"sidebar-title"},"Folders",-1)),(j(),W(pe,null,Oe(i,p=>_("button",{key:p.id,onClick:g=>n.value=p.id,class:Ee(["sidebar-item",{active:n.value===p.id}])},[_("span",QS,Q(p.icon),1),_("span",YS,Q(p.name),1)],10,GS)),64))])]),_("div",JS,[_("div",XS,[d[1]||(d[1]=fn('<div class="toolbar-section" data-v-9a46d674><button class="toolbar-button" title="Back" data-v-9a46d674><span class="toolbar-icon" data-v-9a46d674>←</span></button><button class="toolbar-button" title="Forward" data-v-9a46d674><span class="toolbar-icon" data-v-9a46d674>→</span></button></div>',1)),_("div",ZS,[_("div",eC,Q(a.value),1)]),d[2]||(d[2]=fn('<div class="toolbar-section" data-v-9a46d674><button class="toolbar-button" title="View" data-v-9a46d674><span class="toolbar-icon" data-v-9a46d674>⊞</span></button><button class="toolbar-button" title="Settings" data-v-9a46d674><span class="toolbar-icon" data-v-9a46d674>⚙</span></button></div>',1))]),_("div",tC,[(j(!0),W(pe,null,Oe(c.value,p=>(j(),W("div",{key:p.id,class:Ee(["file-item",{selected:s.value===p.id}]),onClick:g=>s.value=p.id,onDblclick:g=>u(p)},[_("div",sC,[p.iconPath?(j(),W("img",{key:0,src:p.iconPath,alt:p.name,class:"file-icon-img"},null,8,iC)):(j(),W("span",rC,Q(p.iconEmoji||"📄"),1))]),_("div",oC,Q(p.name),1)],42,nC))),128))])])]))}}),lC=Object.assign(Tt(aC,[["__scopeId","data-v-9a46d674"]]),{__name:"AppsFinder"}),cC={class:"textedit-app"},uC={class:"toolbar"},hC={class:"toolbar-group"},dC={class:"toolbar-group"},fC={class:"toolbar-group"},pC={class:"toolbar-group"},mC={class:"toolbar-group"},gC={class:"modal"},yC={class:"modal-body"},_C={class:"filename-input-wrapper"},vC=ct({name:"TextEditApp",__name:"index",props:{windowId:{}},setup(t){const e=X(),n=X("-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"),s=X("3"),i=_n({bold:!1,italic:!1,underline:!1,strikeThrough:!1,justifyLeft:!1,justifyCenter:!1,justifyRight:!1,justifyFull:!1,insertUnorderedList:!1,insertOrderedList:!1}),r=X("Untitled"),o=X(!1),a=X(""),c=X(),u=t,h=st();on(r,w=>{if(u.windowId){const y=h.windows.find(I=>I.id===u.windowId);y&&(y.title=w)}});const d=(w,y)=>{document.execCommand(w,!1,y),e.value?.focus(),g()},p=w=>i[w]||!1,g=()=>{i.bold=document.queryCommandState("bold"),i.italic=document.queryCommandState("italic"),i.underline=document.queryCommandState("underline"),i.strikeThrough=document.queryCommandState("strikeThrough"),i.justifyLeft=document.queryCommandState("justifyLeft"),i.justifyCenter=document.queryCommandState("justifyCenter"),i.justifyRight=document.queryCommandState("justifyRight"),i.justifyFull=document.queryCommandState("justifyFull"),i.insertUnorderedList=document.queryCommandState("insertUnorderedList"),i.insertOrderedList=document.queryCommandState("insertOrderedList");const w=document.queryCommandValue("fontName");if(w){const I=w.replace(/['"]/g,""),x=Array.from(document.querySelectorAll(".font-selector option")).find(R=>R.getAttribute("value")?.includes(I));x&&(n.value=x.getAttribute("value")||n.value)}const y=document.queryCommandValue("fontSize");y&&(s.value=y)},v=()=>{d("fontName",n.value)},E=()=>{d("fontSize",s.value)},D=()=>{g()},L=w=>{if(w.metaKey||w.ctrlKey)switch(w.key){case"b":w.preventDefault(),d("bold");break;case"i":w.preventDefault(),d("italic");break;case"u":w.preventDefault(),d("underline");break}},$=w=>{w.preventDefault();const y=w.clipboardData?.getData("text/html")||w.clipboardData?.getData("text/plain");y&&document.execCommand("insertHTML",!1,y)},C=()=>{g()},T=()=>{P()},P=()=>{o.value=!0,a.value=r.value==="Untitled"?"":r.value,os(()=>{c.value?.focus(),c.value?.select()})},F=()=>{o.value=!1,a.value=""},k=()=>{const y=(a.value.trim()||"Untitled.md").replace(/\.(md|txt|rtf|html)$/i,"");r.value=y,F()};return tn(()=>{Te("textedit.save",T),document.addEventListener("selectionchange",C),e.value?.addEventListener("click",g),e.value?.addEventListener("keyup",g),g()}),kn(()=>{document.removeEventListener("selectionchange",C)}),(w,y)=>(j(),W("div",cC,[_("div",uC,[_("div",hC,[_("button",{onClick:y[0]||(y[0]=I=>d("bold")),class:Ee({active:p("bold")}),title:"Bold (Cmd+B)"},y[14]||(y[14]=[_("strong",null,"B",-1)]),2),_("button",{onClick:y[1]||(y[1]=I=>d("italic")),class:Ee({active:p("italic")}),title:"Italic (Cmd+I)"},y[15]||(y[15]=[_("em",null,"I",-1)]),2),_("button",{onClick:y[2]||(y[2]=I=>d("underline")),class:Ee({active:p("underline")}),title:"Underline (Cmd+U)"},y[16]||(y[16]=[_("u",null,"U",-1)]),2),_("button",{onClick:y[3]||(y[3]=I=>d("strikeThrough")),class:Ee({active:p("strikeThrough")}),title:"Strikethrough"},y[17]||(y[17]=[_("s",null,"S",-1)]),2)]),y[27]||(y[27]=_("div",{class:"toolbar-divider"},null,-1)),_("div",dC,[_("button",{onClick:y[4]||(y[4]=I=>d("justifyLeft")),class:Ee({active:p("justifyLeft")}),title:"Align Left"},y[18]||(y[18]=[_("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},[_("path",{d:"M2 3h12v1H2zM2 6h8v1H2zM2 9h12v1H2zM2 12h8v1H2z"})],-1)]),2),_("button",{onClick:y[5]||(y[5]=I=>d("justifyCenter")),class:Ee({active:p("justifyCenter")}),title:"Align Center"},y[19]||(y[19]=[_("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},[_("path",{d:"M4 3h8v1H4zM2 6h12v1H2zM4 9h8v1H4zM2 12h12v1H2z"})],-1)]),2),_("button",{onClick:y[6]||(y[6]=I=>d("justifyRight")),class:Ee({active:p("justifyRight")}),title:"Align Right"},y[20]||(y[20]=[_("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},[_("path",{d:"M2 3h12v1H2zM6 6h8v1H6zM2 9h12v1H2zM6 12h8v1H6z"})],-1)]),2),_("button",{onClick:y[7]||(y[7]=I=>d("justifyFull")),class:Ee({active:p("justifyFull")}),title:"Justify"},y[21]||(y[21]=[_("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},[_("path",{d:"M2 3h12v1H2zM2 6h12v1H2zM2 9h12v1H2zM2 12h12v1H2z"})],-1)]),2)]),y[28]||(y[28]=_("div",{class:"toolbar-divider"},null,-1)),_("div",fC,[_("button",{onClick:y[8]||(y[8]=I=>d("insertUnorderedList")),class:Ee({active:p("insertUnorderedList")}),title:"Bullet List"},y[22]||(y[22]=[fn('<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" data-v-4099f8fb><circle cx="3" cy="4" r="1" data-v-4099f8fb></circle><circle cx="3" cy="8" r="1" data-v-4099f8fb></circle><circle cx="3" cy="12" r="1" data-v-4099f8fb></circle><path d="M6 3.5h8v1H6zM6 7.5h8v1H6zM6 11.5h8v1H6z" data-v-4099f8fb></path></svg>',1)]),2),_("button",{onClick:y[9]||(y[9]=I=>d("insertOrderedList")),class:Ee({active:p("insertOrderedList")}),title:"Numbered List"},y[23]||(y[23]=[fn('<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" data-v-4099f8fb><text x="2" y="5" font-size="5" font-family="Arial" data-v-4099f8fb>1</text><text x="2" y="9" font-size="5" font-family="Arial" data-v-4099f8fb>2</text><text x="2" y="13" font-size="5" font-family="Arial" data-v-4099f8fb>3</text><path d="M6 3.5h8v1H6zM6 7.5h8v1H6zM6 11.5h8v1H6z" data-v-4099f8fb></path></svg>',1)]),2)]),y[29]||(y[29]=_("div",{class:"toolbar-divider"},null,-1)),_("div",pC,[dn(_("select",{"onUpdate:modelValue":y[10]||(y[10]=I=>n.value=I),onChange:v,class:"font-selector"},y[24]||(y[24]=[fn('<option value="-apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, sans-serif" data-v-4099f8fb>System</option><option value="&#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif" data-v-4099f8fb>Helvetica</option><option value="&#39;Times New Roman&#39;, Times, serif" data-v-4099f8fb>Times</option><option value="Georgia, serif" data-v-4099f8fb>Georgia</option><option value="&#39;Courier New&#39;, Courier, monospace" data-v-4099f8fb>Courier</option><option value="&#39;Monaco&#39;, &#39;Courier New&#39;, monospace" data-v-4099f8fb>Monaco</option><option value="&#39;Arial&#39;, sans-serif" data-v-4099f8fb>Arial</option><option value="&#39;Verdana&#39;, sans-serif" data-v-4099f8fb>Verdana</option><option value="&#39;Comic Sans MS&#39;, cursive" data-v-4099f8fb>Comic Sans</option>',9)]),544),[[Eo,n.value]]),dn(_("select",{"onUpdate:modelValue":y[11]||(y[11]=I=>s.value=I),onChange:E,class:"size-selector"},y[25]||(y[25]=[fn('<option value="1" data-v-4099f8fb>8pt</option><option value="2" data-v-4099f8fb>10pt</option><option value="3" data-v-4099f8fb>12pt</option><option value="4" data-v-4099f8fb>14pt</option><option value="5" data-v-4099f8fb>18pt</option><option value="6" data-v-4099f8fb>24pt</option><option value="7" data-v-4099f8fb>36pt</option>',7)]),544),[[Eo,s.value]])]),y[30]||(y[30]=_("div",{class:"toolbar-divider"},null,-1)),_("div",mC,[_("button",{onClick:y[12]||(y[12]=I=>d("removeFormat")),title:"Clear Formatting"},y[26]||(y[26]=[_("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},[_("path",{d:"M8.5 2L3 7.5 4.5 9l2-2v7h2V7l2 2L12 7.5 8.5 2zM2 14h12v1H2z"})],-1)]))])]),_("div",{ref_key:"editor",ref:e,class:"editor",contenteditable:"true",onInput:D,onKeydown:L,onPaste:$,spellcheck:"true","data-placeholder":"Start typing..."},null,544),o.value?(j(),W("div",{key:0,class:"modal-overlay",onClick:qe(F,["self"])},[_("div",gC,[_("div",{class:"modal-header"},[y[31]||(y[31]=_("h3",null,"Save File",-1)),_("button",{class:"modal-close",onClick:F},"×")]),_("div",yC,[y[33]||(y[33]=_("label",{for:"filename"},"Save as:",-1)),_("div",_C,[dn(_("input",{id:"filename","onUpdate:modelValue":y[13]||(y[13]=I=>a.value=I),type:"text",placeholder:"Untitled",onKeyup:[ul(k,["enter"]),ul(F,["escape"])],ref_key:"saveInput",ref:c},null,544),[[vi,a.value]]),y[32]||(y[32]=_("span",{class:"filename-extension"},".md",-1))])]),_("div",{class:"modal-footer"},[_("button",{class:"modal-button cancel",onClick:F},"Cancel"),_("button",{class:"modal-button save",onClick:k},"Save")])])])):Ye("",!0)]))}}),wC=Object.assign(Tt(vC,[["__scopeId","data-v-4099f8fb"]]),{__name:"AppsTextEdit"});function Av(){const t=X(!1);tn(()=>{t.value=navigator.platform.toLowerCase().includes("mac")||navigator.userAgent.toLowerCase().includes("mac")});const e=Le(()=>t.value?"ctrlKey":"altKey"),n=Le(()=>t.value?"Ctrl":"Alt"),s=Le(()=>t.value?"⌃":"Alt");function i(o){return t.value?o.ctrlKey&&!o.metaKey&&!o.altKey:o.altKey&&!o.metaKey&&!o.ctrlKey}function r(o,a=!1){const c=t.value?"⌃":"Alt",u=a?t.value?"⇧":"Shift + ":"",h=o==="`"?"`":o==="/"?"/":o.toUpperCase();return t.value?`${c}${u}${h}`:a?`Alt + Shift + ${h}`:`Alt + ${h}`}return{isMac:t,modifierKey:e,modifierName:n,modifierSymbol:s,isModifierPressed:i,formatShortcut:r}}const bC={class:"shortcuts-app"},TC={class:"note"},EC={class:"shortcuts-section"},IC={class:"shortcut-item"},AC={class:"keys"},kC={class:"shortcut-item"},SC={class:"keys"},CC={class:"shortcut-item"},RC={class:"keys"},PC={class:"shortcut-item"},xC={class:"keys"},MC={class:"shortcut-item"},DC={class:"keys"},OC={class:"shortcuts-section"},NC={class:"shortcut-item"},VC={class:"keys"},LC=ct({name:"ShortcutsApp",__name:"index",setup(t){const{isMac:e,formatShortcut:n}=Av();return(s,i)=>(j(),W("div",bC,[i[15]||(i[15]=_("h2",null,"Keyboard Shortcuts",-1)),_("div",TC,[_("p",null,[i[6]||(i[6]=_("strong",null,"Note:",-1)),me(e)?(j(),W(pe,{key:0},[i[0]||(i[0]=fi(" We use ",-1)),i[1]||(i[1]=_("strong",null,"Ctrl (⌃)",-1)),i[2]||(i[2]=fi(" on Mac instead of Cmd (⌘) to avoid browser conflicts. ",-1))],64)):(j(),W(pe,{key:1},[i[3]||(i[3]=fi(" We use ",-1)),i[4]||(i[4]=_("strong",null,"Alt",-1)),i[5]||(i[5]=fi(" instead of Ctrl to avoid browser conflicts. ",-1))],64))])]),_("div",EC,[i[12]||(i[12]=_("h3",null,"Window Management",-1)),_("div",IC,[_("span",AC,Q(me(n)("n")),1),i[7]||(i[7]=_("span",{class:"description"},"New Window",-1))]),_("div",kC,[_("span",SC,Q(me(n)("w")),1),i[8]||(i[8]=_("span",{class:"description"},"Close Window",-1))]),_("div",CC,[_("span",RC,Q(me(n)("m")),1),i[9]||(i[9]=_("span",{class:"description"},"Minimize Window",-1))]),_("div",PC,[_("span",xC,Q(me(n)("z")),1),i[10]||(i[10]=_("span",{class:"description"},"Toggle Zoom",-1))]),_("div",MC,[_("span",DC,Q(me(n)("`")),1),i[11]||(i[11]=_("span",{class:"description"},"Cycle Windows",-1))])]),_("div",OC,[i[14]||(i[14]=_("h3",null,"System",-1)),_("div",NC,[_("span",VC,Q(me(n)("/")),1),i[13]||(i[13]=_("span",{class:"description"},"Show Shortcuts",-1))])]),i[16]||(i[16]=_("div",{class:"shortcuts-section"},[_("h3",null,"Navigation"),_("div",{class:"shortcut-item"},[_("span",{class:"keys"},"Esc"),_("span",{class:"description"},"Cancel drag/resize, Close menus")])],-1))]))}}),FC=Object.assign(Tt(LC,[["__scopeId","data-v-2cd96dc8"]]),{__name:"AppsShortcuts"}),$C={class:"about-app"},UC={class:"about-tabs"},jC=["onClick"],BC={class:"about-content"},zC={key:0,class:"tab-content"},HC={class:"about-header"},WC={class:"about-icon"},qC={class:"icon-emoji"},KC={class:"about-title"},GC={class:"about-version"},QC={class:"about-tagline"},YC={class:"about-details"},JC={class:"about-description"},XC={class:"about-info"},ZC={class:"info-label"},eR=["href"],tR={key:1,class:"info-value"},nR={key:1,class:"tab-content"},sR={class:"features-list"},iR={key:2,class:"tab-content"},rR={class:"changelog"},oR={class:"release-header"},aR={class:"release-version"},lR={class:"release-date"},cR={class:"release-changes"},uR={key:3,class:"tab-content"},hR=ct({name:"AboutApp",__name:"index",setup(t){const e={app:{name:"Webintosh",version:"0.1.2",tagline:"A web-based desktop environment",description:"Webintosh brings the familiar desktop experience to your browser.",icon:"🖥️"},info:{repository:{label:"Repository",value:"GitHub",url:"https://github.com/rahul-akumar/webintosh"},license:{label:"License",value:"MIT"},author:{label:"Author",value:"Rahul Kumar"}},features:["Window management with dragging and resizing","Dynamic menubar that adapts to focused app","Dock with app launching and window restoration","Desktop with draggable app icons","Keyboard shortcuts (Alt-based)"],changelog:[{version:"0.1.2",date:"2025-08-17",changes:["Added viewport-aware window bounds","Improved dock functionality"]},{version:"0.1.0",date:"2025-08-15",changes:["Initial release"]}],credits:"Built with Nuxt 4, Vue 3, and TypeScript. 2025 Webintosh Project"},n=X("general"),s=[{id:"general",label:"General"},{id:"features",label:"Features"},{id:"changelog",label:"Changelog"},{id:"credits",label:"Credits"}];return(i,r)=>(j(),W("div",$C,[_("div",UC,[(j(),W(pe,null,Oe(s,o=>_("button",{key:o.id,onClick:a=>n.value=o.id,class:Ee(["tab",{active:n.value===o.id}])},Q(o.label),11,jC)),64))]),_("div",BC,[n.value==="general"?(j(),W("div",zC,[_("div",HC,[_("div",WC,[_("span",qC,Q(e.app.icon),1)]),_("h1",KC,Q(e.app.name),1),_("p",GC,"Version "+Q(e.app.version),1),_("p",QC,Q(e.app.tagline),1)]),_("div",YC,[_("p",JC,Q(e.app.description),1),_("div",XC,[(j(!0),W(pe,null,Oe(e.info,(o,a)=>(j(),W("div",{key:a,class:"info-row"},[_("span",ZC,Q(o.label)+":",1),o.url?(j(),W("a",{key:0,href:o.url,target:"_blank",rel:"noopener noreferrer",class:"info-link"},Q(o.value),9,eR)):(j(),W("span",tR,Q(o.value),1))]))),128))])])])):Ye("",!0),n.value==="features"?(j(),W("div",nR,[r[0]||(r[0]=_("h2",{class:"tab-title"},"Features",-1)),_("ul",sR,[(j(!0),W(pe,null,Oe(e.features,(o,a)=>(j(),W("li",{key:a},Q(o),1))),128))])])):Ye("",!0),n.value==="changelog"?(j(),W("div",iR,[r[1]||(r[1]=_("h2",{class:"tab-title"},"Version History",-1)),_("div",rR,[(j(!0),W(pe,null,Oe(e.changelog,o=>(j(),W("div",{key:o.version,class:"release"},[_("div",oR,[_("span",aR,"v"+Q(o.version),1),_("span",lR,Q(o.date),1)]),_("ul",cR,[(j(!0),W(pe,null,Oe(o.changes,(a,c)=>(j(),W("li",{key:c},Q(a),1))),128))])]))),128))])])):Ye("",!0),n.value==="credits"?(j(),W("div",uR,[r[2]||(r[2]=_("h2",{class:"tab-title"},"Credits",-1)),_("p",null,Q(e.credits),1)])):Ye("",!0)])]))}}),dR=Object.assign(Tt(hR,[["__scopeId","data-v-88d44ee1"]]),{__name:"AppsAbout"}),fR={class:"settings-app"},pR={class:"settings-sidebar"},mR={class:"sidebar-header"},gR={class:"sidebar-nav"},yR=["onClick"],_R={class:"nav-icon"},vR={class:"nav-label"},wR={class:"settings-content"},bR={key:0,class:"panel"},TR={class:"wallpaper-sections"},ER={class:"current-wallpaper"},IR={key:0,class:"preview-placeholder"},AR={class:"wallpaper-options"},kR={class:"wallpaper-section"},SR={class:"wallpaper-grid"},CR=["onClick","title"],RR={class:"wallpaper-name"},PR={class:"wallpaper-section"},xR={class:"wallpaper-grid"},MR=["onClick","title"],DR={class:"wallpaper-name"},OR={class:"wallpaper-section"},NR={class:"wallpaper-grid"},VR=["onClick","title"],LR={class:"wallpaper-name"},FR={class:"wallpaper-section"},$R={class:"wallpaper-grid"},UR=["onClick","title"],jR={class:"wallpaper-name"},BR={class:"wallpaper-section"},zR={class:"wallpaper-grid"},HR=["onClick","title"],WR={class:"wallpaper-name"},qR={class:"wallpaper-section"},KR={class:"upload-section"},GR={key:1,class:"panel"},QR={key:2,class:"panel"},YR={key:3,class:"panel"},JR={class:"appearance-sections"},XR={class:"appearance-section"},ZR={class:"theme-grid"},e2=ct({name:"SettingsApp",__name:"index",setup(t){const e=ts("window",null),n=st(),s=X(""),i=X("wallpaper"),r=X(""),o=X("glassmorphic-light"),a=[{id:"wallpaper",label:"Wallpaper",icon:"🖼️"},{id:"sound",label:"Sound",icon:"🔊"},{id:"account",label:"Account",icon:"👤"},{id:"appearance",label:"Appearance",icon:"🎨"}],c=Le(()=>{if(!s.value)return a;const C=s.value.toLowerCase();return a.filter(T=>T.label.toLowerCase().includes(C))}),u=Le(()=>r.value?r.value.startsWith("url(")?{backgroundImage:r.value}:{background:r.value}:{}),h=[{id:"mac",name:"mac",value:`url("${ks("wallpapers/mac.jpg")}")`},{id:"windows",name:"windows",value:`url("${ks("wallpapers/windows.jpg")}")`},{id:"catalina",name:"Catalina",value:"url(https://wallpapercave.com/wp/wp5559260.jpg)"},{id:"old-signal",name:"old signal",value:`url("${ks("wallpapers/old-signal.jpg")}")`}],d=[{id:"day-night",name:"Day & Night",value:"linear-gradient(to bottom, #87CEEB 0%, #1e3c72 100%)"},{id:"seasons",name:"Seasons",value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}],p=[{id:"ocean-waves",name:"Ocean Waves",value:`url("${ks("wallpapers/end-of-daylight.mp4")}") center/cover no-repeat`},{id:"ROG",name:"ROG",value:`url("${ks("wallpapers/ROG.gif")}") center/cover no-repeat`}],g=[{id:"blue",name:"Blue",value:"#007AFF"},{id:"purple",name:"Purple",value:"#AF52DE"},{id:"pink",name:"Pink",value:"#FF2D55"},{id:"orange",name:"Orange",value:"#FF9500"},{id:"green",name:"Green",value:"#34C759"},{id:"gray",name:"Gray",value:"#8E8E93"},{id:"black",name:"Black",value:"#000000"},{id:"white",name:"White",value:"#FFFFFF"}],v=[{id:"sunset",name:"Sunset",value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"ocean",name:"Ocean",value:"linear-gradient(to right, #4facfe 0%, #00f2fe 100%)"},{id:"forest",name:"Forest",value:"linear-gradient(to top, #0ba360 0%, #3cba92 100%)"},{id:"fire",name:"Fire",value:"linear-gradient(45deg, #ff0844 0%, #ffb199 100%)"},{id:"night",name:"Night Sky",value:"linear-gradient(to bottom, #1e3c72 0%, #2a5298 100%)"},{id:"aurora",name:"Aurora",value:"linear-gradient(to right, #00d2ff 0%, #3a7bd5 100%)"}];tn(()=>{if(e?.metadata?.initialPanel){const C=e.metadata.initialPanel;a.some(T=>T.id===C)&&(i.value=C)}r.value=n.wallpaper||"",o.value=n.theme||"glassmorphic-light"});const E=C=>{r.value=C,n.setWallpaper(C)},D=C=>{const P=C.target.files?.[0];if(P&&P.type.startsWith("image/")){const F=new FileReader;F.onload=k=>{const w=k.target?.result;E(`url(${w})`)},F.readAsDataURL(P)}},L=()=>{const C=prompt("Enter image URL:");if(C&&C.trim())try{new URL(C),E(`url(${C})`)}catch{alert("Please enter a valid URL")}},$=C=>{o.value=C,n.setTheme(C)};return(C,T)=>(j(),W("div",fR,[_("div",pR,[_("div",mR,[dn(_("input",{type:"search",placeholder:"Search",class:"search-input","onUpdate:modelValue":T[0]||(T[0]=P=>s.value=P)},null,512),[[vi,s.value]])]),_("nav",gR,[(j(!0),W(pe,null,Oe(c.value,P=>(j(),W("button",{key:P.id,onClick:F=>i.value=P.id,class:Ee(["nav-item",{active:i.value===P.id}])},[_("span",_R,Q(P.icon),1),_("span",vR,Q(P.label),1)],10,yR))),128))])]),_("div",wR,[i.value==="wallpaper"?(j(),W("div",bR,[T[16]||(T[16]=_("h1",{class:"panel-title"},"Wallpaper",-1)),_("div",TR,[_("div",ER,[T[5]||(T[5]=_("h2",{class:"section-title"},"Current Wallpaper",-1)),_("div",{class:"wallpaper-preview",style:At(u.value)},[r.value?Ye("",!0):(j(),W("span",IR,"No wallpaper set"))],4)]),_("div",AR,[_("div",kR,[T[6]||(T[6]=_("h3",{class:"option-title"},"Static Wallpapers",-1)),_("div",SR,[(j(),W(pe,null,Oe(h,P=>_("button",{key:P.id,onClick:F=>E(P.value),class:"wallpaper-item",style:At({backgroundImage:P.value}),title:P.name},[_("span",RR,Q(P.name),1)],12,CR)),64))])]),_("div",PR,[T[8]||(T[8]=_("h3",{class:"option-title"},"Dynamic Wallpapers",-1)),_("div",xR,[(j(),W(pe,null,Oe(d,P=>_("button",{key:P.id,onClick:F=>E(P.value),class:"wallpaper-item dynamic",title:P.name},[T[7]||(T[7]=_("span",{class:"wallpaper-icon"},"🌅",-1)),_("span",DR,Q(P.name),1)],8,MR)),64))])]),_("div",OR,[T[10]||(T[10]=_("h3",{class:"option-title"},"Live Wallpapers",-1)),_("div",NR,[(j(),W(pe,null,Oe(p,P=>_("button",{key:P.id,onClick:F=>E(P.value),class:"wallpaper-item live",title:P.name},[T[9]||(T[9]=_("span",{class:"wallpaper-icon"},"🎬",-1)),_("span",LR,Q(P.name),1)],8,VR)),64))])]),_("div",FR,[T[11]||(T[11]=_("h3",{class:"option-title"},"Solid Colors",-1)),_("div",$R,[(j(),W(pe,null,Oe(g,P=>_("button",{key:P.id,onClick:F=>E(P.value),class:"wallpaper-item color",style:At({background:P.value}),title:P.name},[_("span",jR,Q(P.name),1)],12,UR)),64))])]),_("div",BR,[T[12]||(T[12]=_("h3",{class:"option-title"},"Gradients",-1)),_("div",zR,[(j(),W(pe,null,Oe(v,P=>_("button",{key:P.id,onClick:F=>E(P.value),class:"wallpaper-item gradient",style:At({background:P.value}),title:P.name},[_("span",WR,Q(P.name),1)],12,HR)),64))])]),_("div",qR,[T[15]||(T[15]=_("h3",{class:"option-title"},"Add custom wallpaper",-1)),_("div",KR,[_("input",{type:"file",accept:"image/*",onChange:D,id:"wallpaper-upload",class:"file-input"},null,32),T[14]||(T[14]=_("label",{for:"wallpaper-upload",class:"upload-button"},[_("span",{class:"upload-icon"},"📁"),_("span",null,"Upload")],-1)),_("label",{onClick:L,class:"upload-button"},T[13]||(T[13]=[_("span",{class:"upload-icon"},"🔗",-1),_("span",null,"Add URL",-1)]))])])])])])):i.value==="sound"?(j(),W("div",GR,T[17]||(T[17]=[_("h1",{class:"panel-title"},"Sound",-1),_("p",{class:"placeholder-text"},"Sound settings will be available in a future update.",-1)]))):i.value==="account"?(j(),W("div",QR,T[18]||(T[18]=[_("h1",{class:"panel-title"},"Account",-1),_("p",{class:"placeholder-text"},"Account settings will be available in a future update.",-1)]))):i.value==="appearance"?(j(),W("div",YR,[T[26]||(T[26]=_("h1",{class:"panel-title"},"Appearance",-1)),_("div",JR,[_("div",XR,[T[23]||(T[23]=_("h2",{class:"section-title"},"Theme",-1)),T[24]||(T[24]=_("p",{class:"section-description"},"Choose between classic and modern styles with light and dark variants",-1)),_("div",ZR,[_("button",{onClick:T[1]||(T[1]=P=>$("glassmorphic-light")),class:Ee(["theme-option",{active:o.value==="glassmorphic-light"}])},T[19]||(T[19]=[fn('<div class="theme-preview glassmorphic-light" data-v-3715249e><div class="preview-menubar" data-v-3715249e></div><div class="preview-window" data-v-3715249e></div><div class="preview-dock" data-v-3715249e></div></div><span class="theme-name" data-v-3715249e>Glassmorphic Light</span><span class="theme-description" data-v-3715249e>Modern translucent design</span>',3)]),2),_("button",{onClick:T[2]||(T[2]=P=>$("glassmorphic-dark")),class:Ee(["theme-option",{active:o.value==="glassmorphic-dark"}])},T[20]||(T[20]=[fn('<div class="theme-preview glassmorphic-dark" data-v-3715249e><div class="preview-menubar" data-v-3715249e></div><div class="preview-window" data-v-3715249e></div><div class="preview-dock" data-v-3715249e></div></div><span class="theme-name" data-v-3715249e>Glassmorphic Dark</span><span class="theme-description" data-v-3715249e>Modern dark translucent</span>',3)]),2),_("button",{onClick:T[3]||(T[3]=P=>$("oldschool-light")),class:Ee(["theme-option",{active:o.value==="oldschool-light"}])},T[21]||(T[21]=[fn('<div class="theme-preview oldschool-light" data-v-3715249e><div class="preview-menubar" data-v-3715249e></div><div class="preview-window" data-v-3715249e></div><div class="preview-dock" data-v-3715249e></div></div><span class="theme-name" data-v-3715249e>Classic Light</span><span class="theme-description" data-v-3715249e>Traditional solid design</span>',3)]),2),_("button",{onClick:T[4]||(T[4]=P=>$("oldschool-dark")),class:Ee(["theme-option",{active:o.value==="oldschool-dark"}])},T[22]||(T[22]=[fn('<div class="theme-preview oldschool-dark" data-v-3715249e><div class="preview-menubar" data-v-3715249e></div><div class="preview-window" data-v-3715249e></div><div class="preview-dock" data-v-3715249e></div></div><span class="theme-name" data-v-3715249e>Classic Dark</span><span class="theme-description" data-v-3715249e>Traditional dark solid</span>',3)]),2)])]),T[25]||(T[25]=fn('<div class="appearance-section" data-v-3715249e><h2 class="section-title" data-v-3715249e>Accent Color</h2><p class="section-description" data-v-3715249e>Customize system accent colors (coming soon)</p><div class="color-grid disabled" data-v-3715249e><div class="color-option" style="background:#007AFF;" data-v-3715249e></div><div class="color-option" style="background:#AF52DE;" data-v-3715249e></div><div class="color-option" style="background:#FF3B30;" data-v-3715249e></div><div class="color-option" style="background:#FF9500;" data-v-3715249e></div><div class="color-option" style="background:#34C759;" data-v-3715249e></div><div class="color-option" style="background:#5AC8FA;" data-v-3715249e></div></div></div>',1))])])):Ye("",!0)])]))}}),t2=Object.assign(Tt(e2,[["__scopeId","data-v-3715249e"]]),{__name:"AppsSettings"});function n2(t){Te("typingtest.newTest",()=>{t.startNewTest()}),Te("typingtest.restartTest",()=>{t.startNewTest()}),Te("typingtest.changeText",()=>{(!t.hasStarted.value||t.isComplete.value)&&t.changeText()}),Te("typingtest.setDifficulty",e=>{const n=e?.level;n&&["easy","medium","hard"].includes(n)&&(t.selectedDifficulty.value=n,(!t.hasStarted.value||t.isComplete.value)&&t.changeText())}),Te("typingtest.toggleSound",()=>{t.toggleSound()}),Te("typingtest.toggleKeyboard",()=>{t.showKeyboard&&(t.showKeyboard.value=!t.showKeyboard.value)}),Te("typingtest.showSessionStats",()=>{t.showStats&&(t.showStats.value=!t.showStats.value)}),Te("typingtest.showTips",()=>{alert(`Typing Tips:

1. Keep your fingers on the home row (ASDF JKL;)
2. Use the correct finger for each key
3. Focus on accuracy first, speed will follow
4. Practice regularly for best results
5. Take breaks to avoid fatigue`)})}const kv=window.setInterval,s2={class:"typing-test-app"},i2={class:"stats-bar"},r2={class:"stat-item"},o2={class:"stat-value"},a2={class:"stat-item"},l2={class:"stat-value"},c2={class:"stat-item"},u2={class:"stat-value"},h2={class:"stat-item"},d2={class:"stat-value"},f2={class:"test-area"},p2={class:"test-text-container"},m2={key:0,class:"cursor end"},g2={class:"user-input-display"},y2=["disabled"],_2={class:"typed-text"},v2={key:0,class:"cursor"},w2={class:"controls"},b2=["disabled"],T2=["disabled"],E2={key:0,class:"results-modal"},I2={class:"results-grid"},A2={class:"result-item"},k2={class:"result-value"},S2={class:"result-item"},C2={class:"result-value"},R2={class:"result-item"},P2={class:"result-value"},x2={class:"result-item"},M2={class:"result-value"},D2={key:0,class:"keyboard-container"},O2={class:"keyboard-row"},N2={key:0,class:"shift-label"},V2={class:"keyboard-row"},L2={class:"keyboard-row"},F2={class:"keyboard-row"},$2={class:"keyboard-row space-row"},U2=ct({__name:"index",props:{windowId:{}},setup(t){const e={easy:["The quick brown fox jumps over the lazy dog.","A journey of a thousand miles begins with a single step.","To be or not to be, that is the question.","All that glitters is not gold.","Practice makes perfect."],medium:["The early bird catches the worm, but the second mouse gets the cheese.","Success is not final, failure is not fatal: it is the courage to continue that counts.","In the middle of difficulty lies opportunity.","The only way to do great work is to love what you do.","Innovation distinguishes between a leader and a follower."],hard:["Pneumonoultramicroscopicsilicovolcanoconiosis is a type of lung disease caused by inhaling fine silicate or quartz dust.","The complexity of modern software systems requires careful architectural planning and meticulous implementation strategies.","Quantum entanglement demonstrates non-local correlations that challenge our classical understanding of physics.","Cryptographic hash functions provide one-way transformation of data, essential for blockchain technology.","The hippopotomonstrosesquippedaliophobia is ironically the fear of long words."]};st();const n=X(""),s=X(""),i=X(0),r=X("easy"),o=X(new Set),a=X(null),c=X(null),u=X(!0),h=X(!1),d=X(!1),p=X(0),g=X(0),v=X(0),E=X(0),D=X(0),L=X(!1),$=X(null),C=X(!0),T=X(!1),P=Le(()=>{if(g.value===0)return 0;const Ne=g.value/60,_e=D.value/5;return Math.round(_e/Ne)}),F=Le(()=>E.value===0?100:Math.round(D.value/E.value*100)),k=[{code:"Backquote",label:"`",shift:"~"},{code:"Digit1",label:"1",shift:"!"},{code:"Digit2",label:"2",shift:"@"},{code:"Digit3",label:"3",shift:"#"},{code:"Digit4",label:"4",shift:"$"},{code:"Digit5",label:"5",shift:"%"},{code:"Digit6",label:"6",shift:"^"},{code:"Digit7",label:"7",shift:"&"},{code:"Digit8",label:"8",shift:"*"},{code:"Digit9",label:"9",shift:"("},{code:"Digit0",label:"0",shift:")"},{code:"Minus",label:"-",shift:"_"},{code:"Equal",label:"=",shift:"+"},{code:"Backspace",label:"⌫",class:"modifier",width:"90px"}],w=[{code:"Tab",label:"⇥",class:"modifier",width:"70px"},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",shift:"{"},{code:"BracketRight",label:"]",shift:"}"},{code:"Backslash",label:"\\",shift:"|",width:"70px"}],y=[{code:"CapsLock",label:"⇪",class:"modifier",width:"85px"},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",shift:":"},{code:"Quote",label:"'",shift:'"'},{code:"Enter",label:"⏎",class:"modifier",width:"95px"}],I=[{code:"ShiftLeft",label:"⇧",class:"modifier",width:"110px"},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",shift:"<"},{code:"Period",label:".",shift:">"},{code:"Slash",label:"/",shift:"?"},{code:"ShiftRight",label:"⇧",class:"modifier",width:"130px"}],x=[{code:"ControlLeft",label:"ctrl",class:"modifier",width:"60px"},{code:"AltLeft",label:"alt",class:"modifier",width:"60px"},{code:"MetaLeft",label:"⌘",class:"modifier",width:"70px"},{code:"Space",label:"",class:"space",width:"300px"},{code:"MetaRight",label:"⌘",class:"modifier",width:"70px"},{code:"AltRight",label:"alt",class:"modifier",width:"60px"},{code:"ControlRight",label:"ctrl",class:"modifier",width:"60px"}];function R(Ne){return Ne<i.value?s.value[Ne]===n.value[Ne]?"correct":"incorrect":Ne===i.value?"current":"pending"}function S(){return i.value<n.value.length?n.value[i.value]?.toLowerCase()??"":""}function ye(Ne){const _e=Math.floor(Ne/60),N=Ne%60;return`${_e}:${N.toString().padStart(2,"0")}`}function Se(){c.value||(c.value=new(window.AudioContext||window.webkitAudioContext),c.value.state==="suspended"&&c.value.resume())}function ie(Ne){if(!u.value||!c.value)return;const _e=c.value.createOscillator(),N=c.value.createGain();_e.connect(N),N.connect(c.value.destination),Ne?(_e.frequency.value=400,N.gain.value=.03):(_e.frequency.value=600,N.gain.value=.03),N.gain.exponentialRampToValueAtTime(.001,c.value.currentTime+.05),_e.start(),_e.stop(c.value.currentTime+.1)}function ue(){u.value=!u.value,u.value&&!c.value&&Se()}function le(Ne){const _e=Ne.target,N=_e.value.slice(-1)||"";if(!h.value&&N&&(Wt(),u.value&&!c.value&&Se()),i.value<n.value.length&&N){const V=n.value[i.value],z=N===V;E.value++,z?D.value++:v.value++,i.value++,s.value+=N,ie(z),i.value>=n.value.length&&Nt()}_e.value=""}function Fe(Ne){Ne.key==="Backspace"&&i.value>0&&(Ne.preventDefault(),i.value--,s.value=s.value.slice(0,-1)),o.value.add(Ne.code),setTimeout(()=>o.value.delete(Ne.code),100),Ne.code==="CapsLock"&&(L.value=!L.value)}function Wt(){h.value=!0,p.value=Date.now(),$.value=kv(()=>{g.value=Math.floor((Date.now()-p.value)/1e3)},1e3)}function Nt(){d.value=!0,$.value&&(clearInterval($.value),$.value=null)}function He(){s.value="",i.value=0,h.value=!1,d.value=!1,p.value=0,g.value=0,v.value=0,E.value=0,D.value=0,$.value&&(clearInterval($.value),$.value=null),setTimeout(()=>{a.value&&a.value.focus()},100)}function We(){const Ne=e[r.value],_e=Math.floor(Math.random()*Ne.length);n.value=Ne[_e]??"",He()}return tn(()=>{n2({startNewTest:He,changeText:We,toggleSound:ue,selectedDifficulty:r,hasStarted:h,isComplete:d,showKeyboard:C,showStats:T}),We(),setTimeout(()=>{a.value&&a.value.focus()},100)}),kn(()=>{$.value&&clearInterval($.value),c.value&&c.value.close()}),on(d,Ne=>{Ne||setTimeout(()=>{a.value?.focus()},100)}),(Ne,_e)=>(j(),W("div",s2,[_("div",i2,[_("div",r2,[_e[1]||(_e[1]=_("span",{class:"stat-label"},"WPM",-1)),_("span",o2,Q(P.value),1)]),_("div",a2,[_e[2]||(_e[2]=_("span",{class:"stat-label"},"Accuracy",-1)),_("span",l2,Q(F.value)+"%",1)]),_("div",c2,[_e[3]||(_e[3]=_("span",{class:"stat-label"},"Time",-1)),_("span",u2,Q(ye(g.value)),1)]),_("div",h2,[_e[4]||(_e[4]=_("span",{class:"stat-label"},"Errors",-1)),_("span",d2,Q(v.value),1)])]),_("div",f2,[_("div",p2,[(j(!0),W(pe,null,Oe(n.value,(N,V)=>(j(),W("span",{key:V,class:Ee(R(V))},Q(N),3))),128)),i.value===n.value.length?(j(),W("span",m2,"|")):Ye("",!0)]),_("div",g2,[_("input",{ref_key:"hiddenInput",ref:a,type:"text",class:"hidden-input",onInput:le,onKeydown:Fe,disabled:d.value,autofocus:""},null,40,y2),_("div",_2,[_("span",null,Q(s.value),1),!d.value&&i.value<n.value.length?(j(),W("span",v2,"|")):Ye("",!0)])]),_("div",w2,[_("button",{onClick:He,class:"control-btn primary"},Q(h.value?"New Test":"Start Test"),1),_("button",{onClick:We,disabled:h.value&&!d.value,class:"control-btn"}," Change Text ",8,b2),_("button",{onClick:ue,class:Ee(["control-btn",{active:u.value}])}," Sound: "+Q(u.value?"ON":"OFF"),3),dn(_("select",{"onUpdate:modelValue":_e[0]||(_e[0]=N=>r.value=N),onChange:We,class:"difficulty-select",disabled:h.value&&!d.value},_e[5]||(_e[5]=[_("option",{value:"easy"},"Easy",-1),_("option",{value:"medium"},"Medium",-1),_("option",{value:"hard"},"Hard",-1)]),40,T2),[[Eo,r.value]])]),d.value?(j(),W("div",E2,[_e[10]||(_e[10]=_("h2",null,"Test Complete! 🎉",-1)),_("div",I2,[_("div",A2,[_e[6]||(_e[6]=_("span",{class:"result-label"},"Final WPM",-1)),_("span",k2,Q(P.value),1)]),_("div",S2,[_e[7]||(_e[7]=_("span",{class:"result-label"},"Accuracy",-1)),_("span",C2,Q(F.value)+"%",1)]),_("div",R2,[_e[8]||(_e[8]=_("span",{class:"result-label"},"Time Taken",-1)),_("span",P2,Q(ye(g.value)),1)]),_("div",x2,[_e[9]||(_e[9]=_("span",{class:"result-label"},"Characters",-1)),_("span",M2,Q(n.value.length),1)])]),_("button",{onClick:He,class:"control-btn primary"},"Try Again")])):Ye("",!0)]),C.value?(j(),W("div",D2,[_("div",O2,[(j(),W(pe,null,Oe(k,N=>_("div",{key:N.code,class:Ee(["key",N.class||"",{pressed:o.value.has(N.code),"next-key":S()===N.label.toLowerCase()||S()===N.shift}]),style:At({width:N.width})},[N.shift?(j(),W("span",N2,Q(N.shift),1)):Ye("",!0),_("span",null,Q(N.label),1)],6)),64))]),_("div",V2,[(j(),W(pe,null,Oe(w,N=>_("div",{key:N.code,class:Ee(["key",N.class||"",{pressed:o.value.has(N.code),"next-key":S()===N.label.toLowerCase()}]),style:At({width:N.width})},Q(N.label),7)),64))]),_("div",L2,[(j(),W(pe,null,Oe(y,N=>_("div",{key:N.code,class:Ee(["key",N.class||"",{pressed:o.value.has(N.code),"caps-active":N.code==="CapsLock"&&L.value,"next-key":S()===N.label.toLowerCase()}]),style:At({width:N.width})},Q(N.label),7)),64))]),_("div",F2,[(j(),W(pe,null,Oe(I,N=>_("div",{key:N.code,class:Ee(["key",N.class||"",{pressed:o.value.has(N.code),"next-key":S()===N.label.toLowerCase()}]),style:At({width:N.width})},Q(N.label),7)),64))]),_("div",$2,[(j(),W(pe,null,Oe(x,N=>_("div",{key:N.code,class:Ee(["key",N.class||"",{pressed:o.value.has(N.code),"next-key":N.code==="Space"&&S()===" "}]),style:At({width:N.width})},Q(N.label),7)),64))])])):Ye("",!0)]))}}),j2=Object.assign(Tt(U2,[["__scopeId","data-v-140acf8e"]]),{__name:"AppsTypingTest"}),B2={class:"music-keyboard-app"},z2={class:"control-panel"},H2={class:"controls-row"},W2={class:"control-group"},q2={class:"control-group"},K2={class:"control-group"},G2={class:"value"},Q2={class:"control-group"},Y2={class:"octave-buttons"},J2=["disabled"],X2={class:"octave-display"},Z2=["disabled"],eP={class:"controls-row"},tP={class:"control-group"},nP={class:"value"},sP={class:"control-group"},iP={class:"value"},rP={class:"control-group"},oP={class:"control-group"},aP={class:"display-panel"},lP={class:"waveform-display",ref:"waveformDisplay"},cP={class:"oscillator-type-indicator"},uP={class:"info-display"},hP={key:0},dP={key:1,class:"hint"},fP={class:"keyboard-container"},pP={class:"keyboard"},mP=["onMousedown","onMouseup","onMouseleave"],gP={class:"key-label"},yP={class:"key-note"},_P=["onMousedown","onMouseup","onMouseleave"],vP={class:"key-label"},wP=ct({__name:"index",setup(t){const e=X(null),n=X(null),s=X(null),i=X(null),r=X(null),o=X(null),a=X(50),c=X(20),u=X(0),h=X(4),d=X("piano"),p=X("sine"),g=X(!1),v=X(new Set),E=X(""),D=X(!1),L=X([]),$=X(0),C=X(null),T=X(null),P=new Map,F={C:261.63,"C#":277.18,D:293.66,"D#":311.13,E:329.63,F:349.23,"F#":369.99,G:392,"G#":415.3,A:440,"A#":466.16,B:493.88},k=Le(()=>[{key:"A",note:"C",label:"C"},{key:"S",note:"D",label:"D"},{key:"D",note:"E",label:"E"},{key:"F",note:"F",label:"F"},{key:"G",note:"G",label:"G"},{key:"H",note:"A",label:"A"},{key:"J",note:"B",label:"B"},{key:"K",note:"C",label:"C",octaveOffset:1},{key:"L",note:"D",label:"D",octaveOffset:1}]),w=Le(()=>[{key:"W",note:"C#",label:"C#",position:"11.11%"},{key:"E",note:"D#",label:"D#",position:"22.22%"},{key:"T",note:"F#",label:"F#",position:"44.44%"},{key:"Y",note:"G#",label:"G#",position:"55.55%"},{key:"U",note:"A#",label:"A#",position:"66.66%"}]),y=()=>{e.value=new(window.AudioContext||window.webkitAudioContext),n.value=e.value.createGain(),n.value.gain.value=a.value/100,s.value=e.value.createConvolver(),I(),i.value=e.value.createDelay(1),i.value.delayTime.value=.3,r.value=e.value.createGain(),r.value.gain.value=0,o.value=e.value.createAnalyser(),o.value.fftSize=2048,i.value.connect(r.value),r.value.connect(i.value),r.value.connect(n.value),n.value.connect(o.value),o.value.connect(e.value.destination),ye()},I=()=>{if(!e.value||!s.value)return;const N=e.value.sampleRate*2,V=e.value.createBuffer(2,N,e.value.sampleRate);for(let z=0;z<2;z++){const we=V.getChannelData(z);for(let se=0;se<N;se++)we[se]=(Math.random()*2-1)*Math.pow(1-se/N,2)}s.value.buffer=V},x=N=>{switch(N){case"piano":return{waveform:"triangle",harmonics:[1,.5,.3,.2],attack:.01,decay:.3,sustain:.4,release:.5};case"synth":return{waveform:"sawtooth",harmonics:[1,.7,.5,.3],attack:.05,decay:.2,sustain:.6,release:.3};case"organ":return{waveform:"sine",harmonics:[1,.8,.6,.4,.3],attack:.01,decay:.1,sustain:.8,release:.2};case"strings":return{waveform:"sawtooth",harmonics:[1,.4,.3,.2],attack:.3,decay:.2,sustain:.7,release:.8};case"brass":return{waveform:"sawtooth",harmonics:[1,.9,.7,.5],attack:.1,decay:.2,sustain:.7,release:.3};case"flute":return{waveform:"sine",harmonics:[1,.2],attack:.2,decay:.1,sustain:.6,release:.4};default:return{waveform:"sine",harmonics:[1],attack:.01,decay:.3,sustain:.5,release:.5}}},R=N=>{if((!e.value||!n.value)&&y(),!e.value||!n.value)return;const V=N.key,z=N.note,we=N.octaveOffset||0,se=h.value+we;if(P.has(V))return;const Qe=F[z]*Math.pow(2,se-4),M=x(d.value),O=e.value.createOscillator(),B=e.value.createGain();O.type=p.value,O.frequency.setValueAtTime(Qe,e.value.currentTime);const Y=e.value.currentTime;if(B.gain.setValueAtTime(0,Y),B.gain.linearRampToValueAtTime(1,Y+M.attack),B.gain.linearRampToValueAtTime(M.sustain,Y+M.attack+M.decay),O.connect(B),c.value>0&&s.value){const G=e.value.createGain();G.gain.value=c.value/100,B.connect(G),G.connect(s.value),s.value.connect(n.value)}u.value>0&&i.value&&(B.connect(i.value),r.value&&(r.value.gain.value=u.value/100*.5)),B.connect(n.value),O.start(),P.set(V,{oscillator:O,gainNode:B}),v.value.add(V),E.value=`${z}${se}`,D.value&&L.value.push({note:{...N,octave:se},time:Date.now()-$.value})},S=N=>{if(!e.value||g.value)return;const V=N.key,z=P.get(V);if(z){const we=x(d.value),se=e.value.currentTime;z.gainNode.gain.cancelScheduledValues(se),z.gainNode.gain.setValueAtTime(z.gainNode.gain.value,se),z.gainNode.gain.linearRampToValueAtTime(0,se+we.release),z.oscillator.stop(se+we.release),P.delete(V),v.value.delete(V),v.value.size===0&&(E.value="")}},ye=()=>{if(!C.value||!o.value)return;const N=C.value,V=N.getContext("2d");if(!V)return;N.width=N.offsetWidth*2,N.height=N.offsetHeight*2,V.scale(2,2);const z=o.value.frequencyBinCount,we=new Uint8Array(z),se=()=>{T.value=requestAnimationFrame(se),o.value.getByteTimeDomainData(we),V.fillStyle="rgba(20, 20, 30, 0.2)",V.fillRect(0,0,N.width,N.height);let $e="#00ffcc",Qe=2;switch(p.value){case"sine":$e="#ff00cc",Qe=2.5;break;case"square":$e="#00ffcc",Qe=2;break;case"sawtooth":$e="#00ccff",Qe=1.5;break;case"triangle":$e="#cc00ff",Qe=3;break}V.lineWidth=Qe,V.strokeStyle=$e,V.shadowBlur=10,V.shadowColor=$e,V.beginPath();const M=N.width/2/z;let O=0;for(let B=0;B<z;B++){const G=we[B]/128*N.height/4;B===0?V.moveTo(O,G):V.lineTo(O,G),O+=M}V.stroke()};se()},Se=()=>{n.value&&(n.value.gain.value=a.value/100)},ie=N=>{h.value=Math.max(1,Math.min(7,h.value+N))},ue=()=>{},le=()=>{},Fe=()=>{g.value=!g.value,!g.value&&e.value&&(P.forEach((N,V)=>{const z=x(d.value),we=e.value.currentTime;N.gainNode.gain.cancelScheduledValues(we),N.gainNode.gain.setValueAtTime(N.gainNode.gain.value,we),N.gainNode.gain.linearRampToValueAtTime(0,we+z.release),N.oscillator.stop(we+z.release),v.value.delete(V)}),P.clear(),E.value="")},Wt=()=>{D.value?D.value=!1:(D.value=!0,L.value=[],$.value=Date.now())},Nt=()=>{L.value.length!==0&&L.value.forEach(({note:N,time:V})=>{setTimeout(()=>{R(N),setTimeout(()=>S(N),200)},V)})},He=N=>{const V=N.key.toUpperCase(),z=k.value.find(se=>se.key===V),we=w.value.find(se=>se.key===V);z?R(z):we?R(we):N.code==="Space"&&(N.preventDefault(),Fe())},We=N=>{const V=N.key.toUpperCase(),z=k.value.find(se=>se.key===V),we=w.value.find(se=>se.key===V);z?S(z):we&&S(we)};tn(()=>{y(),window.addEventListener("keydown",He),window.addEventListener("keyup",We),Ne()}),kn(()=>{window.removeEventListener("keydown",He),window.removeEventListener("keyup",We),T.value&&cancelAnimationFrame(T.value),P.forEach(({oscillator:N})=>{N.stop()}),e.value&&e.value.close()});const Ne=()=>{Te("keystation.newSession",()=>{L.value=[],D.value=!1,E.value="",v.value.clear(),P.forEach(({oscillator:N,gainNode:V},z)=>{const we=x(d.value),se=e.value?.currentTime||0;V.gain.cancelScheduledValues(se),V.gain.setValueAtTime(V.gain.value,se),V.gain.linearRampToValueAtTime(0,se+we.release),N.stop(se+we.release),v.value.delete(z)}),P.clear(),E.value=""}),Te("keystation.startRecording",()=>{D.value||Wt()}),Te("keystation.stopRecording",()=>{D.value&&Wt()}),Te("keystation.playRecording",()=>{Nt()}),Te("keystation.clearRecording",()=>{L.value=[]}),Te("keystation.clearAll",()=>{L.value=[],E.value="",v.value.clear()}),Te("keystation.setInstrument",N=>{const V=_e(N,"instrument");V&&["piano","synth","organ","strings","brass","flute"].includes(V)&&(d.value=V)}),Te("keystation.setOscillator",N=>{const V=_e(N,"type");V&&["sine","triangle","sawtooth","square"].includes(V)&&(p.value=V)}),Te("keystation.setReverb",N=>{const V=_e(N,"level");typeof V=="number"&&(c.value=V)}),Te("keystation.setDelay",N=>{const V=_e(N,"level");typeof V=="number"&&(u.value=V,r.value&&(r.value.gain.value=V/100*.5))}),Te("keystation.toggleSustain",()=>{Fe()}),Te("keystation.setOctave",N=>{const V=_e(N,"octave");typeof V=="number"&&V>=1&&V<=7&&(h.value=V)}),Te("keystation.octaveUp",()=>{ie(1)}),Te("keystation.octaveDown",()=>{ie(-1)}),Te("keystation.setVolume",N=>{const V=_e(N,"level");typeof V=="number"&&(a.value=V,Se())}),Te("keystation.volumeUp",()=>{a.value=Math.min(100,a.value+10),Se()}),Te("keystation.volumeDown",()=>{a.value=Math.max(0,a.value-10),Se()}),Te("keystation.resetAudio",()=>{e.value&&e.value.close(),y()}),Te("keystation.toggleWaveform",()=>{console.log("Toggle waveform display")}),Te("keystation.toggleKeyLabels",()=>{console.log("Toggle key labels")}),Te("keystation.toggleOctaveLabels",()=>{console.log("Toggle octave labels")}),Te("keystation.showKeyboardGuide",()=>{alert(`Keyboard Layout:

White Keys: A S D F G H J K L
Black Keys: W E T Y U
Sustain: Space

Octave Up: ]
Octave Down: [`)})};function _e(N,V){if(N&&typeof N=="object"&&V in N)return N[V]}return(N,V)=>(j(),W("div",B2,[_("div",z2,[_("div",H2,[_("div",W2,[V[8]||(V[8]=_("label",null,"Instrument",-1)),dn(_("select",{"onUpdate:modelValue":V[0]||(V[0]=z=>d.value=z),onChange:ue},V[7]||(V[7]=[fn('<option value="piano" data-v-c730ea8f>Piano</option><option value="synth" data-v-c730ea8f>Synth</option><option value="organ" data-v-c730ea8f>Organ</option><option value="strings" data-v-c730ea8f>Strings</option><option value="brass" data-v-c730ea8f>Brass</option><option value="flute" data-v-c730ea8f>Flute</option>',6)]),544),[[Eo,d.value]])]),_("div",q2,[V[10]||(V[10]=_("label",null,"Oscillator",-1)),dn(_("select",{"onUpdate:modelValue":V[1]||(V[1]=z=>p.value=z),onChange:le},V[9]||(V[9]=[_("option",{value:"sine"},"Sine",-1),_("option",{value:"triangle"},"Triangle",-1),_("option",{value:"sawtooth"},"Sawtooth",-1),_("option",{value:"square"},"Square",-1)]),544),[[Eo,p.value]])]),_("div",K2,[V[11]||(V[11]=_("label",null,"Volume",-1)),dn(_("input",{type:"range","onUpdate:modelValue":V[2]||(V[2]=z=>a.value=z),min:"0",max:"100",onInput:Se},null,544),[[vi,a.value]]),_("span",G2,Q(a.value),1)]),_("div",Q2,[V[12]||(V[12]=_("label",null,"Octave",-1)),_("div",Y2,[_("button",{onClick:V[3]||(V[3]=z=>ie(-1)),disabled:h.value<=1},"-",8,J2),_("span",X2,"C"+Q(h.value),1),_("button",{onClick:V[4]||(V[4]=z=>ie(1)),disabled:h.value>=7},"+",8,Z2)])])]),_("div",eP,[_("div",tP,[V[13]||(V[13]=_("label",null,"Reverb",-1)),dn(_("input",{type:"range","onUpdate:modelValue":V[5]||(V[5]=z=>c.value=z),min:"0",max:"100"},null,512),[[vi,c.value]]),_("span",nP,Q(c.value),1)]),_("div",sP,[V[14]||(V[14]=_("label",null,"Delay",-1)),dn(_("input",{type:"range","onUpdate:modelValue":V[6]||(V[6]=z=>u.value=z),min:"0",max:"100"},null,512),[[vi,u.value]]),_("span",iP,Q(u.value),1)]),_("div",rP,[V[15]||(V[15]=_("label",null,"Sustain",-1)),_("button",{onClick:Fe,class:Ee(["sustain-button",{active:g.value}])},Q(g.value?"ON":"OFF"),3)]),_("div",oP,[V[16]||(V[16]=_("label",null,"Recording",-1)),_("button",{onClick:Wt,class:Ee(["record-button",{recording:D.value}])},Q(D.value?"⏺ Stop":"⏺ Record"),3),L.value.length>0?(j(),W("button",{key:0,onClick:Nt,class:"play-button"}," ▶ Play ")):Ye("",!0)])])]),_("div",aP,[_("div",lP,[_("canvas",{ref_key:"waveformCanvas",ref:C},null,512),_("div",cP,Q(p.value.toUpperCase()),1)],512),_("div",uP,[E.value?(j(),W("span",hP,Q(E.value),1)):(j(),W("span",dP,"Press keys A-L for white keys, W-E-T-Y-U for black keys"))])]),_("div",fP,[_("div",pP,[(j(!0),W(pe,null,Oe(k.value,(z,we)=>(j(),W("div",{key:`white-${we}`,class:Ee(["key","white-key",{active:v.value.has(z.key)}]),onMousedown:se=>R(z),onMouseup:se=>S(z),onMouseleave:se=>S(z)},[_("span",gP,Q(z.label),1),_("span",yP,Q(z.key),1)],42,mP))),128)),(j(!0),W(pe,null,Oe(w.value,(z,we)=>(j(),W("div",{key:`black-${we}`,class:Ee(["key","black-key",{active:v.value.has(z.key)}]),style:At({left:z.position}),onMousedown:se=>R(z),onMouseup:se=>S(z),onMouseleave:se=>S(z)},[_("span",vP,Q(z.label),1)],46,_P))),128))])])]))}}),bP=Object.assign(Tt(wP,[["__scopeId","data-v-c730ea8f"]]),{__name:"AppsKeyStation"}),Im=id("/icons/apps/yahooMessenger.png"),TP=()=>{};var Am={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=r>>2,d=(r&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),s.push(n[h],n[d],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||u==null||d==null)throw new IP;const p=r<<2|a>>4;if(s.push(p),u!==64){const g=a<<4&240|u>>2;if(s.push(g),d!==64){const v=u<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AP=function(t){const e=Sv(t);return Cv.encodeByteArray(e,!0)},_l=function(t){return AP(t).replace(/\./g,"")},Rv=function(t){try{return Cv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=()=>kP().__FIREBASE_DEFAULTS__,CP=()=>{if(typeof process>"u"||typeof Am>"u")return;const t=Am.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rv(t[1]);return e&&JSON.parse(e)},Zl=()=>{try{return TP()||SP()||CP()||RP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pv=t=>Zl()?.emulatorHosts?.[t],PP=t=>{const e=Pv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xv=()=>Zl()?.config,Mv=t=>Zl()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_l(JSON.stringify(n)),_l(JSON.stringify(o)),""].join(".")}const uo={};function DP(){const t={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?t.emulator.push(e):t.prod.push(e);return t}function OP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let km=!1;function Ov(t,e){if(typeof window>"u"||typeof document>"u"||!Ar(window.location.host)||uo[t]===e||uo[t]||km)return;uo[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",r=DP().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{km=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=OP(s),g=n("text"),v=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),D=document.getElementById(E)||document.createElement("a"),L=n("preprendIcon"),$=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;a(C),h(D,E);const T=u();c($,L),C.append($,v,D,T),document.body.appendChild(C)}r?(v.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function VP(){const t=Zl()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UP(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jP(){return!VP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BP(){try{return typeof indexedDB=="object"}catch{return!1}}function zP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="FirebaseError";class ps extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=HP,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?WP(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ps(i,a,s)}}function WP(t,e){return t.replace(qP,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const qP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ii(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Sm(r)&&Sm(o)){if(!Ii(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Sm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function GP(t,e){const n=new QP(t,e);return n.subscribe.bind(n)}class QP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=lu),i.error===void 0&&(i.error=lu),i.complete===void 0&&(i.complete=lu);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZP(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XP(t){return t===ui?void 0:t}function ZP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const tx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},nx=Pe.INFO,sx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ix=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=sx[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=nx,this._logHandler=ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const rx=(t,e)=>e.some(n=>t instanceof n);let Cm,Rm;function ox(){return Cm||(Cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ax(){return Rm||(Rm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,sh=new WeakMap,Vv=new WeakMap,cu=new WeakMap,pd=new WeakMap;function lx(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ns(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nv.set(n,t)}).catch(()=>{}),pd.set(e,t),e}function cx(t){if(sh.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});sh.set(t,e)}let ih={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ux(t){ih=t(ih)}function hx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(uu(this),e,...n);return Vv.set(s,e.sort?e.sort():[e]),Ns(s)}:ax().includes(t)?function(...e){return t.apply(uu(this),e),Ns(Nv.get(this))}:function(...e){return Ns(t.apply(uu(this),e))}}function dx(t){return typeof t=="function"?hx(t):(t instanceof IDBTransaction&&cx(t),rx(t,ox())?new Proxy(t,ih):t)}function Ns(t){if(t instanceof IDBRequest)return lx(t);if(cu.has(t))return cu.get(t);const e=dx(t);return e!==t&&(cu.set(t,e),pd.set(e,t)),e}const uu=t=>pd.get(t);function fx(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Ns(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Ns(o.result),c.oldVersion,c.newVersion,Ns(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const px=["get","getKey","getAll","getAllKeys","count"],mx=["put","add","delete","clear"],hu=new Map;function Pm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hu.get(e))return hu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=mx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||px.includes(n)))return;const r=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return hu.set(e,r),r}ux(t=>({...t,get:(e,n,s)=>Pm(e,n)||t.get(e,n,s),has:(e,n)=>!!Pm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yx(t){return t.getComponent()?.type==="VERSION"}const rh="@firebase/app",xm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new fd("@firebase/app"),_x="@firebase/app-compat",vx="@firebase/analytics-compat",wx="@firebase/analytics",bx="@firebase/app-check-compat",Tx="@firebase/app-check",Ex="@firebase/auth",Ix="@firebase/auth-compat",Ax="@firebase/database",kx="@firebase/data-connect",Sx="@firebase/database-compat",Cx="@firebase/functions",Rx="@firebase/functions-compat",Px="@firebase/installations",xx="@firebase/installations-compat",Mx="@firebase/messaging",Dx="@firebase/messaging-compat",Ox="@firebase/performance",Nx="@firebase/performance-compat",Vx="@firebase/remote-config",Lx="@firebase/remote-config-compat",Fx="@firebase/storage",$x="@firebase/storage-compat",Ux="@firebase/firestore",jx="@firebase/ai",Bx="@firebase/firestore-compat",zx="firebase",Hx="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]",Wx={[rh]:"fire-core",[_x]:"fire-core-compat",[wx]:"fire-analytics",[vx]:"fire-analytics-compat",[Tx]:"fire-app-check",[bx]:"fire-app-check-compat",[Ex]:"fire-auth",[Ix]:"fire-auth-compat",[Ax]:"fire-rtdb",[kx]:"fire-data-connect",[Sx]:"fire-rtdb-compat",[Cx]:"fire-fn",[Rx]:"fire-fn-compat",[Px]:"fire-iid",[xx]:"fire-iid-compat",[Mx]:"fire-fcm",[Dx]:"fire-fcm-compat",[Ox]:"fire-perf",[Nx]:"fire-perf-compat",[Vx]:"fire-rc",[Lx]:"fire-rc-compat",[Fx]:"fire-gcs",[$x]:"fire-gcs-compat",[Ux]:"fire-fst",[Bx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[zx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,qx=new Map,ah=new Map;function Mm(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(ah.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;ah.set(e,t);for(const n of vl.values())Mm(n,t);for(const n of qx.values())Mm(n,t);return!0}function md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Bo("app","Firebase",Kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=Hx;function Lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:oh,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(n||(n=xv()),!n)throw Vs.create("no-options");const r=vl.get(i);if(r){if(Ii(n,r.options)&&Ii(s,r.config))return r;throw Vs.create("duplicate-app",{appName:i})}const o=new ex(i);for(const c of ah.values())o.addComponent(c);const a=new Gx(n,s,o);return vl.set(i,a),a}function Fv(t=oh){const e=vl.get(t);if(!e&&t===oh&&xv())return Lv();if(!e)throw Vs.create("no-app",{appName:t});return e}function Ls(t,e,n){let s=Wx[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}pr(new Ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firebase-heartbeat-database",Yx=1,Ao="firebase-heartbeat-store";let du=null;function $v(){return du||(du=fx(Qx,Yx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),du}async function Jx(t){try{const n=(await $v()).transaction(Ao),s=await n.objectStore(Ao).get(Uv(t));return await n.done,s}catch(e){if(e instanceof ps)as.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e?.message});as.warn(n.message)}}}async function Dm(t,e){try{const s=(await $v()).transaction(Ao,"readwrite");await s.objectStore(Ao).put(e,Uv(t)),await s.done}catch(n){if(n instanceof ps)as.warn(n.message);else{const s=Vs.create("idb-set",{originalErrorMessage:n?.message});as.warn(s.message)}}}function Uv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1024,Zx=30;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Om();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Zx){const i=sM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Om(),{heartbeatsToSend:n,unsentEntries:s}=tM(this._heartbeatsCache.heartbeats),i=_l(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return as.warn(e),""}}}function Om(){return new Date().toISOString().substring(0,10)}function tM(t,e=Xx){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Nm(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BP()?zP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nm(t){return _l(JSON.stringify({version:2,heartbeats:t})).length}function sM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){pr(new Ai("platform-logger",e=>new gx(e),"PRIVATE")),pr(new Ai("heartbeat",e=>new eM(e),"PRIVATE")),Ls(rh,xm,t),Ls(rh,xm,"esm2020"),Ls("fire-js","")}iM("");var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,jv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function y(){}y.prototype=w.prototype,k.D=w.prototype,k.prototype=new y,k.prototype.constructor=k,k.C=function(I,x,R){for(var S=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)S[ye-2]=arguments[ye];return w.prototype[x].apply(I,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,w,y){y||(y=0);var I=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)I[x]=w.charCodeAt(y++)|w.charCodeAt(y++)<<8|w.charCodeAt(y++)<<16|w.charCodeAt(y++)<<24;else for(x=0;16>x;++x)I[x]=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24;w=k.g[0],y=k.g[1],x=k.g[2];var R=k.g[3],S=w+(R^y&(x^R))+I[0]+3614090360&4294967295;w=y+(S<<7&4294967295|S>>>25),S=R+(x^w&(y^x))+I[1]+3905402710&4294967295,R=w+(S<<12&4294967295|S>>>20),S=x+(y^R&(w^y))+I[2]+606105819&4294967295,x=R+(S<<17&4294967295|S>>>15),S=y+(w^x&(R^w))+I[3]+3250441966&4294967295,y=x+(S<<22&4294967295|S>>>10),S=w+(R^y&(x^R))+I[4]+4118548399&4294967295,w=y+(S<<7&4294967295|S>>>25),S=R+(x^w&(y^x))+I[5]+1200080426&4294967295,R=w+(S<<12&4294967295|S>>>20),S=x+(y^R&(w^y))+I[6]+2821735955&4294967295,x=R+(S<<17&4294967295|S>>>15),S=y+(w^x&(R^w))+I[7]+4249261313&4294967295,y=x+(S<<22&4294967295|S>>>10),S=w+(R^y&(x^R))+I[8]+1770035416&4294967295,w=y+(S<<7&4294967295|S>>>25),S=R+(x^w&(y^x))+I[9]+2336552879&4294967295,R=w+(S<<12&4294967295|S>>>20),S=x+(y^R&(w^y))+I[10]+4294925233&4294967295,x=R+(S<<17&4294967295|S>>>15),S=y+(w^x&(R^w))+I[11]+2304563134&4294967295,y=x+(S<<22&4294967295|S>>>10),S=w+(R^y&(x^R))+I[12]+1804603682&4294967295,w=y+(S<<7&4294967295|S>>>25),S=R+(x^w&(y^x))+I[13]+4254626195&4294967295,R=w+(S<<12&4294967295|S>>>20),S=x+(y^R&(w^y))+I[14]+2792965006&4294967295,x=R+(S<<17&4294967295|S>>>15),S=y+(w^x&(R^w))+I[15]+1236535329&4294967295,y=x+(S<<22&4294967295|S>>>10),S=w+(x^R&(y^x))+I[1]+4129170786&4294967295,w=y+(S<<5&4294967295|S>>>27),S=R+(y^x&(w^y))+I[6]+3225465664&4294967295,R=w+(S<<9&4294967295|S>>>23),S=x+(w^y&(R^w))+I[11]+643717713&4294967295,x=R+(S<<14&4294967295|S>>>18),S=y+(R^w&(x^R))+I[0]+3921069994&4294967295,y=x+(S<<20&4294967295|S>>>12),S=w+(x^R&(y^x))+I[5]+3593408605&4294967295,w=y+(S<<5&4294967295|S>>>27),S=R+(y^x&(w^y))+I[10]+38016083&4294967295,R=w+(S<<9&4294967295|S>>>23),S=x+(w^y&(R^w))+I[15]+3634488961&4294967295,x=R+(S<<14&4294967295|S>>>18),S=y+(R^w&(x^R))+I[4]+3889429448&4294967295,y=x+(S<<20&4294967295|S>>>12),S=w+(x^R&(y^x))+I[9]+568446438&4294967295,w=y+(S<<5&4294967295|S>>>27),S=R+(y^x&(w^y))+I[14]+3275163606&4294967295,R=w+(S<<9&4294967295|S>>>23),S=x+(w^y&(R^w))+I[3]+4107603335&4294967295,x=R+(S<<14&4294967295|S>>>18),S=y+(R^w&(x^R))+I[8]+1163531501&4294967295,y=x+(S<<20&4294967295|S>>>12),S=w+(x^R&(y^x))+I[13]+2850285829&4294967295,w=y+(S<<5&4294967295|S>>>27),S=R+(y^x&(w^y))+I[2]+4243563512&4294967295,R=w+(S<<9&4294967295|S>>>23),S=x+(w^y&(R^w))+I[7]+1735328473&4294967295,x=R+(S<<14&4294967295|S>>>18),S=y+(R^w&(x^R))+I[12]+2368359562&4294967295,y=x+(S<<20&4294967295|S>>>12),S=w+(y^x^R)+I[5]+4294588738&4294967295,w=y+(S<<4&4294967295|S>>>28),S=R+(w^y^x)+I[8]+2272392833&4294967295,R=w+(S<<11&4294967295|S>>>21),S=x+(R^w^y)+I[11]+1839030562&4294967295,x=R+(S<<16&4294967295|S>>>16),S=y+(x^R^w)+I[14]+4259657740&4294967295,y=x+(S<<23&4294967295|S>>>9),S=w+(y^x^R)+I[1]+2763975236&4294967295,w=y+(S<<4&4294967295|S>>>28),S=R+(w^y^x)+I[4]+1272893353&4294967295,R=w+(S<<11&4294967295|S>>>21),S=x+(R^w^y)+I[7]+4139469664&4294967295,x=R+(S<<16&4294967295|S>>>16),S=y+(x^R^w)+I[10]+3200236656&4294967295,y=x+(S<<23&4294967295|S>>>9),S=w+(y^x^R)+I[13]+681279174&4294967295,w=y+(S<<4&4294967295|S>>>28),S=R+(w^y^x)+I[0]+3936430074&4294967295,R=w+(S<<11&4294967295|S>>>21),S=x+(R^w^y)+I[3]+3572445317&4294967295,x=R+(S<<16&4294967295|S>>>16),S=y+(x^R^w)+I[6]+76029189&4294967295,y=x+(S<<23&4294967295|S>>>9),S=w+(y^x^R)+I[9]+3654602809&4294967295,w=y+(S<<4&4294967295|S>>>28),S=R+(w^y^x)+I[12]+3873151461&4294967295,R=w+(S<<11&4294967295|S>>>21),S=x+(R^w^y)+I[15]+530742520&4294967295,x=R+(S<<16&4294967295|S>>>16),S=y+(x^R^w)+I[2]+3299628645&4294967295,y=x+(S<<23&4294967295|S>>>9),S=w+(x^(y|~R))+I[0]+4096336452&4294967295,w=y+(S<<6&4294967295|S>>>26),S=R+(y^(w|~x))+I[7]+1126891415&4294967295,R=w+(S<<10&4294967295|S>>>22),S=x+(w^(R|~y))+I[14]+2878612391&4294967295,x=R+(S<<15&4294967295|S>>>17),S=y+(R^(x|~w))+I[5]+4237533241&4294967295,y=x+(S<<21&4294967295|S>>>11),S=w+(x^(y|~R))+I[12]+1700485571&4294967295,w=y+(S<<6&4294967295|S>>>26),S=R+(y^(w|~x))+I[3]+2399980690&4294967295,R=w+(S<<10&4294967295|S>>>22),S=x+(w^(R|~y))+I[10]+4293915773&4294967295,x=R+(S<<15&4294967295|S>>>17),S=y+(R^(x|~w))+I[1]+2240044497&4294967295,y=x+(S<<21&4294967295|S>>>11),S=w+(x^(y|~R))+I[8]+1873313359&4294967295,w=y+(S<<6&4294967295|S>>>26),S=R+(y^(w|~x))+I[15]+4264355552&4294967295,R=w+(S<<10&4294967295|S>>>22),S=x+(w^(R|~y))+I[6]+2734768916&4294967295,x=R+(S<<15&4294967295|S>>>17),S=y+(R^(x|~w))+I[13]+1309151649&4294967295,y=x+(S<<21&4294967295|S>>>11),S=w+(x^(y|~R))+I[4]+4149444226&4294967295,w=y+(S<<6&4294967295|S>>>26),S=R+(y^(w|~x))+I[11]+3174756917&4294967295,R=w+(S<<10&4294967295|S>>>22),S=x+(w^(R|~y))+I[2]+718787259&4294967295,x=R+(S<<15&4294967295|S>>>17),S=y+(R^(x|~w))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+R&4294967295}s.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var y=w-this.blockSize,I=this.B,x=this.h,R=0;R<w;){if(x==0)for(;R<=y;)i(this,k,R),R+=this.blockSize;if(typeof k=="string"){for(;R<w;)if(I[x++]=k.charCodeAt(R++),x==this.blockSize){i(this,I),x=0;break}}else for(;R<w;)if(I[x++]=k[R++],x==this.blockSize){i(this,I),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var y=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=y&255,y/=256;for(this.u(k),k=Array(16),w=y=0;4>w;++w)for(var I=0;32>I;I+=8)k[y++]=this.g[w]>>>I&255;return k};function r(k,w){var y=a;return Object.prototype.hasOwnProperty.call(y,k)?y[k]:y[k]=w(k)}function o(k,w){this.h=w;for(var y=[],I=!0,x=k.length-1;0<=x;x--){var R=k[x]|0;I&&R==w||(y[x]=R,I=!1)}this.g=y}var a={};function c(k){return-128<=k&&128>k?r(k,function(w){return new o([w|0],0>w?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return d;if(0>k)return D(u(-k));for(var w=[],y=1,I=0;k>=y;I++)w[I]=k/y|0,y*=4294967296;return new o(w,0)}function h(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return D(h(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(w,8)),I=d,x=0;x<k.length;x+=8){var R=Math.min(8,k.length-x),S=parseInt(k.substring(x,x+R),w);8>R?(R=u(Math.pow(w,R)),I=I.j(R).add(u(S))):(I=I.j(y),I=I.add(u(S)))}return I}var d=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-D(this).m();for(var k=0,w=1,y=0;y<this.g.length;y++){var I=this.i(y);k+=(0<=I?I:4294967296+I)*w,w*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(E(this))return"-"+D(this).toString(k);for(var w=u(Math.pow(k,6)),y=this,I="";;){var x=T(y,w).g;y=L(y,x.j(w));var R=((0<y.g.length?y.g[0]:y.h)>>>0).toString(k);if(y=x,v(y))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=L(this,k),E(k)?-1:v(k)?0:1};function D(k){for(var w=k.g.length,y=[],I=0;I<w;I++)y[I]=~k.g[I];return new o(y,~k.h).add(p)}t.abs=function(){return E(this)?D(this):this},t.add=function(k){for(var w=Math.max(this.g.length,k.g.length),y=[],I=0,x=0;x<=w;x++){var R=I+(this.i(x)&65535)+(k.i(x)&65535),S=(R>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);I=S>>>16,R&=65535,S&=65535,y[x]=S<<16|R}return new o(y,y[y.length-1]&-2147483648?-1:0)};function L(k,w){return k.add(D(w))}t.j=function(k){if(v(this)||v(k))return d;if(E(this))return E(k)?D(this).j(D(k)):D(D(this).j(k));if(E(k))return D(this.j(D(k)));if(0>this.l(g)&&0>k.l(g))return u(this.m()*k.m());for(var w=this.g.length+k.g.length,y=[],I=0;I<2*w;I++)y[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<k.g.length;x++){var R=this.i(I)>>>16,S=this.i(I)&65535,ye=k.i(x)>>>16,Se=k.i(x)&65535;y[2*I+2*x]+=S*Se,$(y,2*I+2*x),y[2*I+2*x+1]+=R*Se,$(y,2*I+2*x+1),y[2*I+2*x+1]+=S*ye,$(y,2*I+2*x+1),y[2*I+2*x+2]+=R*ye,$(y,2*I+2*x+2)}for(I=0;I<w;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=w;I<2*w;I++)y[I]=0;return new o(y,0)};function $(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function C(k,w){this.g=k,this.h=w}function T(k,w){if(v(w))throw Error("division by zero");if(v(k))return new C(d,d);if(E(k))return w=T(D(k),w),new C(D(w.g),D(w.h));if(E(w))return w=T(k,D(w)),new C(D(w.g),w.h);if(30<k.g.length){if(E(k)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var y=p,I=w;0>=I.l(k);)y=P(y),I=P(I);var x=F(y,1),R=F(I,1);for(I=F(I,2),y=F(y,2);!v(I);){var S=R.add(I);0>=S.l(k)&&(x=x.add(y),R=S),I=F(I,1),y=F(y,1)}return w=L(k,x.j(w)),new C(x,w)}for(x=d;0<=k.l(w);){for(y=Math.max(1,Math.floor(k.m()/w.m())),I=Math.ceil(Math.log(y)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=u(y),S=R.j(w);E(S)||0<S.l(k);)y-=I,R=u(y),S=R.j(w);v(R)&&(R=p),x=x.add(R),k=L(k,S)}return new C(x,k)}t.A=function(k){return T(this,k).h},t.and=function(k){for(var w=Math.max(this.g.length,k.g.length),y=[],I=0;I<w;I++)y[I]=this.i(I)&k.i(I);return new o(y,this.h&k.h)},t.or=function(k){for(var w=Math.max(this.g.length,k.g.length),y=[],I=0;I<w;I++)y[I]=this.i(I)|k.i(I);return new o(y,this.h|k.h)},t.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),y=[],I=0;I<w;I++)y[I]=this.i(I)^k.i(I);return new o(y,this.h^k.h)};function P(k){for(var w=k.g.length+1,y=[],I=0;I<w;I++)y[I]=k.i(I)<<1|k.i(I-1)>>>31;return new o(y,k.h)}function F(k,w){var y=w>>5;w%=32;for(var I=k.g.length-y,x=[],R=0;R<I;R++)x[R]=0<w?k.i(R+y)>>>w|k.i(R+y+1)<<32-w:k.i(R+y);return new o(x,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jv=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Fs=o}).apply(typeof Vm<"u"?Vm:typeof self<"u"?self:typeof window<"u"?window:{});var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bv,Xr,zv,ja,lh,Hv,Wv,qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Aa=="object"&&Aa];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function i(l,f){if(f)e:{var m=s;l=l.split(".");for(var A=0;A<l.length-1;A++){var U=l[A];if(!(U in m))break e;m=m[U]}l=l[l.length-1],A=m[l],f=f(A),f!=A&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function r(l,f){l instanceof String&&(l+="");var m=0,A=!1,U={next:function(){if(!A&&m<l.length){var H=m++;return{value:f(H,l[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(l){return l||function(){return r(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,m){return l.call.apply(l.bind,arguments)}function d(l,f,m){if(!l)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),l.apply(f,U)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function v(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(A,U,H){for(var ne=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ne[Xe-2]=arguments[Xe];return f.prototype[U].apply(A,ne)}}function E(l){const f=l.length;if(0<f){const m=Array(f);for(let A=0;A<f;A++)m[A]=l[A];return m}return[]}function D(l,f){for(let m=1;m<arguments.length;m++){const A=arguments[m];if(c(A)){const U=l.length||0,H=A.length||0;l.length=U+H;for(let ne=0;ne<H;ne++)l[U+ne]=A[ne]}else l.push(A)}}class L{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function $(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function T(l){return T[" "](l),l}T[" "]=function(){};var P=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function F(l,f,m){for(const A in l)f.call(m,l[A],A,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function w(l){const f={};for(const m in l)f[m]=l[m];return f}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,f){let m,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(m in A)l[m]=A[m];for(let H=0;H<y.length;H++)m=y[H],Object.prototype.hasOwnProperty.call(A,m)&&(l[m]=A[m])}}function x(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function R(l){a.setTimeout(()=>{throw l},0)}function S(){var l=Fe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ye{constructor(){this.h=this.g=null}add(f,m){const A=Se.get();A.set(f,m),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new L(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,le=!1,Fe=new ye,Wt=()=>{const l=a.Promise.resolve(void 0);ue=()=>{l.then(Nt)}};var Nt=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){R(m)}var f=Se;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}le=!1};function He(){this.s=this.s,this.C=this.C}He.prototype.s=!1,He.prototype.ma=function(){this.s||(this.s=!0,this.N())},He.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l})();function _e(l,f){if(We.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(P){e:{try{T(f.nodeName);var U=!0;break e}catch{}U=!1}U||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:N[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_e.aa.h.call(this)}}v(_e,We);var N={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),z=0;function we(l,f,m,A,U){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!A,this.ha=U,this.key=++z,this.da=this.fa=!1}function se(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $e(l){this.src=l,this.g={},this.h=0}$e.prototype.add=function(l,f,m,A,U){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ne=M(l,f,A,U);return-1<ne?(f=l[ne],m||(f.fa=!1)):(f=new we(f,this.src,H,!!A,U),f.fa=m,l.push(f)),f};function Qe(l,f){var m=f.type;if(m in l.g){var A=l.g[m],U=Array.prototype.indexOf.call(A,f,void 0),H;(H=0<=U)&&Array.prototype.splice.call(A,U,1),H&&(se(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function M(l,f,m,A){for(var U=0;U<l.length;++U){var H=l[U];if(!H.da&&H.listener==f&&H.capture==!!m&&H.ha==A)return U}return-1}var O="closure_lm_"+(1e6*Math.random()|0),B={};function Y(l,f,m,A,U){if(Array.isArray(f)){for(var H=0;H<f.length;H++)Y(l,f[H],m,A,U);return null}return m=de(m),l&&l[V]?l.K(f,m,u(A)?!!A.capture:!1,U):G(l,f,m,!1,A,U)}function G(l,f,m,A,U,H){if(!f)throw Error("Invalid event type");var ne=u(U)?!!U.capture:!!U,Xe=fe(l);if(Xe||(l[O]=Xe=new $e(l)),m=Xe.add(f,m,A,ne,H),m.proxy)return m;if(A=J(),m.proxy=A,A.src=l,A.listener=m,l.addEventListener)Ne||(U=ne),U===void 0&&(U=!1),l.addEventListener(f.toString(),A,U);else if(l.attachEvent)l.attachEvent(ee(f.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function J(){function l(m){return f.call(l.src,l.listener,m)}const f=Z;return l}function re(l,f,m,A,U){if(Array.isArray(f))for(var H=0;H<f.length;H++)re(l,f[H],m,A,U);else A=u(A)?!!A.capture:!!A,m=de(m),l&&l[V]?(l=l.i,f=String(f).toString(),f in l.g&&(H=l.g[f],m=M(H,m,A,U),-1<m&&(se(H[m]),Array.prototype.splice.call(H,m,1),H.length==0&&(delete l.g[f],l.h--)))):l&&(l=fe(l))&&(f=l.g[f.toString()],l=-1,f&&(l=M(f,m,A,U)),(m=-1<l?f[l]:null)&&te(m))}function te(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[V])Qe(f.i,l);else{var m=l.type,A=l.proxy;f.removeEventListener?f.removeEventListener(m,A,l.capture):f.detachEvent?f.detachEvent(ee(m),A):f.addListener&&f.removeListener&&f.removeListener(A),(m=fe(f))?(Qe(m,l),m.h==0&&(m.src=null,f[O]=null)):se(l)}}}function ee(l){return l in B?B[l]:B[l]="on"+l}function Z(l,f){if(l.da)l=!0;else{f=new _e(f,this);var m=l.listener,A=l.ha||l.src;l.fa&&te(l),l=m.call(A,f)}return l}function fe(l){return l=l[O],l instanceof $e?l:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(l){return typeof l=="function"?l:(l[oe]||(l[oe]=function(f){return l.handleEvent(f)}),l[oe])}function he(){He.call(this),this.i=new $e(this),this.M=this,this.F=null}v(he,He),he.prototype[V]=!0,he.prototype.removeEventListener=function(l,f,m,A){re(this,l,f,m,A)};function be(l,f){var m,A=l.F;if(A)for(m=[];A;A=A.F)m.push(A);if(l=l.M,A=f.type||f,typeof f=="string")f=new We(f,l);else if(f instanceof We)f.target=f.target||l;else{var U=f;f=new We(A,l),I(f,U)}if(U=!0,m)for(var H=m.length-1;0<=H;H--){var ne=f.g=m[H];U=Be(ne,A,!0,f)&&U}if(ne=f.g=l,U=Be(ne,A,!0,f)&&U,U=Be(ne,A,!1,f)&&U,m)for(H=0;H<m.length;H++)ne=f.g=m[H],U=Be(ne,A,!1,f)&&U}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],A=0;A<m.length;A++)se(m[A]);delete l.g[f],l.h--}}this.F=null},he.prototype.K=function(l,f,m,A){return this.i.add(String(l),f,!1,m,A)},he.prototype.L=function(l,f,m,A){return this.i.add(String(l),f,!0,m,A)};function Be(l,f,m,A){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var U=!0,H=0;H<f.length;++H){var ne=f[H];if(ne&&!ne.da&&ne.capture==m){var Xe=ne.listener,Ct=ne.ha||ne.src;ne.fa&&Qe(l.i,ne),U=Xe.call(Ct,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ue(l,f,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function kt(l){l.g=Ue(()=>{l.g=null,l.i&&(l.i=!1,kt(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Et extends He{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(l){He.call(this),this.h=l,this.g={}}v(St,He);var Vt=[];function ms(l){F(l.g,function(f,m){this.g.hasOwnProperty(m)&&te(f)},l),l.g={}}St.prototype.N=function(){St.aa.N.call(this),ms(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=a.JSON.stringify,qt=a.JSON.parse,cn=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Di(){}Di.prototype.h=null;function xr(l){return l.h||(l.h=l.i())}function cf(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kc(){We.call(this,"d")}v(kc,We);function Sc(){We.call(this,"c")}v(Sc,We);var Zs={},uf=null;function ea(){return uf=uf||new he}Zs.La="serverreachability";function hf(l){We.call(this,Zs.La,l)}v(hf,We);function Dr(l){const f=ea();be(f,new hf(f))}Zs.STAT_EVENT="statevent";function df(l,f){We.call(this,Zs.STAT_EVENT,l),this.stat=f}v(df,We);function Kt(l){const f=ea();be(f,new df(f,l))}Zs.Ma="timingevent";function ff(l,f){We.call(this,Zs.Ma,l),this.size=f}v(ff,We);function Or(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function tb(l,f,m,A,U,H){l.info(function(){if(l.g)if(H)for(var ne="",Xe=H.split("&"),Ct=0;Ct<Xe.length;Ct++){var je=Xe[Ct].split("=");if(1<je.length){var Lt=je[0];je=je[1];var Ft=Lt.split("_");ne=2<=Ft.length&&Ft[1]=="type"?ne+(Lt+"="+je+"&"):ne+(Lt+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+f+`
`+m+`
`+ne})}function nb(l,f,m,A,U,H,ne){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+f+`
`+m+`
`+H+" "+ne})}function Oi(l,f,m,A){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+ib(l,m)+(A?" "+A:"")})}function sb(l,f){l.info(function(){return"TIMEOUT: "+f})}Nr.prototype.info=function(){};function ib(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var A=m[l];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Mi(m)}catch{return f}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cc;function na(){}v(na,Di),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},Cc=new na;function gs(l,f,m,A){this.j=l,this.i=f,this.l=m,this.R=A||1,this.U=new St(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mf}function mf(){this.i=null,this.g="",this.h=!1}var gf={},Rc={};function Pc(l,f,m){l.L=1,l.v=oa(Hn(f)),l.m=m,l.P=!0,yf(l,null)}function yf(l,f){l.F=Date.now(),sa(l),l.A=Hn(l.v);var m=l.A,A=l.R;Array.isArray(A)||(A=[String(A)]),xf(m.i,"t",A),l.C=0,m=l.j.J,l.h=new mf,l.g=Qf(l.j,m?f:null,!l.m),0<l.O&&(l.M=new Et(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,A=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(Vt[0]=U.toString()),U=Vt);for(var H=0;H<U.length;H++){var ne=Y(m,U[H],A||f.handleEvent,!1,f.h||f);if(!ne)break;f.g[ne.key]=ne}f=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Dr(),tb(l.i,l.u,l.A,l.l,l.R,l.m)}gs.prototype.ca=function(l){l=l.target;const f=this.M;f&&Wn(l)==3?f.j():this.Y(l)},gs.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=Wn(this.g);var f=this.g.Ba();const Li=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Ff(this.g)))){this.J||Ft!=4||f==7||(f==8||0>=Li?Dr(3):Dr(2)),xc(this);var m=this.g.Z();this.X=m;t:if(_f(this)){var A=Ff(this.g);l="";var U=A.length,H=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Vr(this);var ne="";break t}this.h.i=new a.TextDecoder}for(f=0;f<U;f++)this.h.h=!0,l+=this.h.i.decode(A[f],{stream:!(H&&f==U-1)});A.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=m==200,nb(this.i,this.u,this.A,this.l,this.R,Ft,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Ct=this.g;if((Xe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Xe)){var je=Xe;break t}}je=null}if(m=je)Oi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mc(this,m);else{this.o=!1,this.s=3,Kt(12),ei(this),Vr(this);break e}}if(this.P){m=!0;let vn;for(;!this.J&&this.C<ne.length;)if(vn=rb(this,ne),vn==Rc){Ft==4&&(this.s=4,Kt(14),m=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==gf){this.s=4,Kt(15),Oi(this.i,this.l,ne,"[Invalid Chunk]"),m=!1;break}else Oi(this.i,this.l,vn,null),Mc(this,vn);if(_f(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ne.length!=0||this.h.h||(this.s=1,Kt(16),m=!1),this.o=this.o&&m,!m)Oi(this.i,this.l,ne,"[Invalid Chunked Response]"),ei(this),Vr(this);else if(0<ne.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Fc(Lt),Lt.M=!0,Kt(11))}}else Oi(this.i,this.l,ne,null),Mc(this,ne);Ft==4&&ei(this),this.o&&!this.J&&(Ft==4?Wf(this.j,this):(this.o=!1,sa(this)))}else Tb(this.g),m==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),ei(this),Vr(this)}}}catch{}finally{}};function _f(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rb(l,f){var m=l.C,A=f.indexOf(`
`,m);return A==-1?Rc:(m=Number(f.substring(m,A)),isNaN(m)?gf:(A+=1,A+m>f.length?Rc:(f=f.slice(A,A+m),l.C=A+m,f)))}gs.prototype.cancel=function(){this.J=!0,ei(this)};function sa(l){l.S=Date.now()+l.I,vf(l,l.I)}function vf(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Or(p(l.ba,l),f)}function xc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}gs.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(sb(this.i,this.A),this.L!=2&&(Dr(),Kt(17)),ei(this),this.s=2,Vr(this)):vf(this,this.S-l)};function Vr(l){l.j.G==0||l.J||Wf(l.j,l)}function ei(l){xc(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ms(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Mc(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Dc(m.h,l))){if(!l.K&&Dc(m.h,l)&&m.G==3){try{var A=m.Da.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)da(m),ua(m);else break e;Lc(m),Kt(18)}}else m.za=U[1],0<m.za-m.T&&37500>U[2]&&m.F&&m.v==0&&!m.C&&(m.C=Or(p(m.Za,m),6e3));if(1>=Tf(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ni(m,11)}else if((l.K||m.g==l)&&da(m),!$(f))for(U=m.Da.g.parse(f),f=0;f<U.length;f++){let je=U[f];if(m.T=je[0],je=je[1],m.G==2)if(je[0]=="c"){m.K=je[1],m.ia=je[2];const Lt=je[3];Lt!=null&&(m.la=Lt,m.j.info("VER="+m.la));const Ft=je[4];Ft!=null&&(m.Aa=Ft,m.j.info("SVER="+m.Aa));const Li=je[5];Li!=null&&typeof Li=="number"&&0<Li&&(A=1.5*Li,m.L=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const vn=l.g;if(vn){const pa=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var H=A.h;H.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oc(H,H.h),H.h=null))}if(A.D){const $c=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(A.ya=$c,nt(A.I,A.D,$c))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),A=m;var ne=l;if(A.qa=Gf(A,A.J?A.ia:null,A.W),ne.K){Ef(A.h,ne);var Xe=ne,Ct=A.L;Ct&&(Xe.I=Ct),Xe.B&&(xc(Xe),sa(Xe)),A.g=ne}else zf(A);0<m.i.length&&ha(m)}else je[0]!="stop"&&je[0]!="close"||ni(m,7);else m.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ni(m,7):Vc(m):je[0]!="noop"&&m.l&&m.l.ta(je),m.v=0)}}Dr(4)}catch{}}var ob=class{constructor(l,f){this.g=l,this.map=f}};function wf(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bf(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tf(l){return l.h?1:l.g?l.g.size:0}function Dc(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Oc(l,f){l.g?l.g.add(f):l.h=f}function Ef(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}wf.prototype.cancel=function(){if(this.i=If(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function If(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return E(l.i)}function ab(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],m=l.length,A=0;A<m;A++)f.push(l[A]);return f}f=[],m=0;for(A in l)f[m++]=l[A];return f}function lb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const A in l)f[m++]=A;return f}}}function Af(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=lb(l),A=ab(l),U=A.length,H=0;H<U;H++)f.call(void 0,A[H],m&&m[H],l)}var kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cb(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var A=l[m].indexOf("="),U=null;if(0<=A){var H=l[m].substring(0,A);U=l[m].substring(A+1)}else H=l[m];f(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ti(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ti){this.h=l.h,ia(this,l.j),this.o=l.o,this.g=l.g,ra(this,l.s),this.l=l.l;var f=l.i,m=new $r;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Sf(this,m),this.m=l.m}else l&&(f=String(l).match(kf))?(this.h=!1,ia(this,f[1]||"",!0),this.o=Lr(f[2]||""),this.g=Lr(f[3]||"",!0),ra(this,f[4]),this.l=Lr(f[5]||"",!0),Sf(this,f[6]||"",!0),this.m=Lr(f[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}ti.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Fr(f,Cf,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Fr(f,Cf,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Fr(m,m.charAt(0)=="/"?db:hb,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Fr(m,pb)),l.join("")};function Hn(l){return new ti(l)}function ia(l,f,m){l.j=m?Lr(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function ra(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Sf(l,f,m){f instanceof $r?(l.i=f,mb(l.i,l.h)):(m||(f=Fr(f,fb)),l.i=new $r(f,l.h))}function nt(l,f,m){l.i.set(f,m)}function oa(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Lr(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,ub),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ub(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cf=/[#\/\?@]/g,hb=/[#\?:]/g,db=/[#\?]/g,fb=/[#\?@]/g,pb=/#/g;function $r(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ys(l){l.g||(l.g=new Map,l.h=0,l.i&&cb(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=$r.prototype,t.add=function(l,f){ys(this),this.i=null,l=Ni(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function Rf(l,f){ys(l),f=Ni(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Pf(l,f){return ys(l),f=Ni(l,f),l.g.has(f)}t.forEach=function(l,f){ys(this),this.g.forEach(function(m,A){m.forEach(function(U){l.call(f,U,A,this)},this)},this)},t.na=function(){ys(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let A=0;A<f.length;A++){const U=l[A];for(let H=0;H<U.length;H++)m.push(f[A])}return m},t.V=function(l){ys(this);let f=[];if(typeof l=="string")Pf(this,l)&&(f=f.concat(this.g.get(Ni(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return ys(this),this.i=null,l=Ni(this,l),Pf(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function xf(l,f,m){Rf(l,f),0<m.length&&(l.i=null,l.g.set(Ni(l,f),E(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var A=f[m];const H=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var U=H;ne[A]!==""&&(U+="="+encodeURIComponent(String(ne[A]))),l.push(U)}}return this.i=l.join("&")};function Ni(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function mb(l,f){f&&!l.j&&(ys(l),l.i=null,l.g.forEach(function(m,A){var U=A.toLowerCase();A!=U&&(Rf(this,A),xf(this,U,m))},l)),l.j=f}function gb(l,f){const m=new Nr;if(a.Image){const A=new Image;A.onload=g(_s,m,"TestLoadImage: loaded",!0,f,A),A.onerror=g(_s,m,"TestLoadImage: error",!1,f,A),A.onabort=g(_s,m,"TestLoadImage: abort",!1,f,A),A.ontimeout=g(_s,m,"TestLoadImage: timeout",!1,f,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else f(!1)}function yb(l,f){const m=new Nr,A=new AbortController,U=setTimeout(()=>{A.abort(),_s(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?_s(m,"TestPingServer: ok",!0,f):_s(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(U),_s(m,"TestPingServer: error",!1,f)})}function _s(l,f,m,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(m)}catch{}}function _b(){this.g=new cn}function vb(l,f,m){const A=m||"";try{Af(l,function(U,H){let ne=U;u(U)&&(ne=Mi(U)),f.push(A+H+"="+encodeURIComponent(ne))})}catch(U){throw f.push(A+"type="+encodeURIComponent("_badmap")),U}}function aa(l){this.l=l.Ub||null,this.j=l.eb||!1}v(aa,Di),aa.prototype.g=function(){return new la(this.l,this.j)},aa.prototype.i=(function(l){return function(){return l}})({});function la(l,f){he.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(la,he),t=la.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,jr(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mf(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mf(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ur(this):jr(this),this.readyState==3&&Mf(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ur(this))},t.Qa=function(l){this.g&&(this.response=l,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(l){l.readyState=4,l.l=null,l.j=null,l.v=null,jr(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function jr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Df(l){let f="";return F(l,function(m,A){f+=A,f+=":",f+=m,f+=`\r
`}),f}function Nc(l,f,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=Df(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):nt(l,f,m))}function ut(l){he.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ut,he);var wb=/^https?$/i,bb=["POST","PUT"];t=ut.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cc.g(),this.v=this.o?xr(this.o):xr(Cc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(H){Of(this,H);return}if(l=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)m.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())m.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(H=>H.toLowerCase()=="content-type"),U=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bb,f,void 0))||A||U||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of m)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lf(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Of(this,H)}};function Of(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Nf(l),ca(l)}function Nf(l){l.A||(l.A=!0,be(l,"complete"),be(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,be(this,"complete"),be(this,"abort"),ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vf(this):this.bb())},t.bb=function(){Vf(this)};function Vf(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Wn(l)!=4||l.Z()!=2)){if(l.u&&Wn(l)==4)Ue(l.Ea,0,l);else if(be(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var A;if(A=ne===0){var U=String(l.D).match(kf)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),A=!wb.test(U?U.toLowerCase():"")}m=A}if(m)be(l,"complete"),be(l,"success");else{l.m=6;try{var H=2<Wn(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",Nf(l)}}finally{ca(l)}}}}function ca(l,f){if(l.g){Lf(l);const m=l.g,A=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||be(l,"ready");try{m.onreadystatechange=A}catch{}}}function Lf(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),qt(f)}};function Ff(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Tb(l){const f={};l=(l.g&&2<=Wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if($(l[A]))continue;var m=x(l[A]);const U=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const H=f[U]||[];f[U]=H,H.push(m)}k(f,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function $f(l){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,l),this.cb=Br("retryDelaySeedMs",1e4,l),this.Wa=Br("forwardChannelMaxRetries",2,l),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new wf(l&&l.concurrentRequestLimit),this.Da=new _b,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$f.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,A){Kt(0),this.W=l,this.H=f||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.I=Gf(this,null,this.W),ha(this)};function Vc(l){if(Uf(l),l.G==3){var f=l.U++,m=Hn(l.I);if(nt(m,"SID",l.K),nt(m,"RID",f),nt(m,"TYPE","terminate"),zr(l,m),f=new gs(l,l.j,f),f.L=2,f.v=oa(Hn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Qf(f.j,null),f.g.ea(f.v)),f.F=Date.now(),sa(f)}Kf(l)}function ua(l){l.g&&(Fc(l),l.g.cancel(),l.g=null)}function Uf(l){ua(l),l.u&&(a.clearTimeout(l.u),l.u=null),da(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ha(l){if(!bf(l.h)&&!l.s){l.s=!0;var f=l.Ga;ue||Wt(),le||(ue(),le=!0),Fe.add(f,l),l.B=0}}function Eb(l,f){return Tf(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Or(p(l.Ga,l,f),qf(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new gs(this,this.j,l);let H=this.o;if(this.S&&(H?(H=w(H),I(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Bf(this,U,f),m=Hn(this.I),nt(m,"RID",l),nt(m,"CVER",22),this.D&&nt(m,"X-HTTP-Session-Id",this.D),zr(this,m),H&&(this.O?f="headers="+encodeURIComponent(String(Df(H)))+"&"+f:this.m&&Nc(m,this.m,H)),Oc(this.h,U),this.Ua&&nt(m,"TYPE","init"),this.P?(nt(m,"$req",f),nt(m,"SID","null"),U.T=!0,Pc(U,m,null)):Pc(U,m,f),this.G=2}}else this.G==3&&(l?jf(this,l):this.i.length==0||bf(this.h)||jf(this))};function jf(l,f){var m;f?m=f.l:m=l.U++;const A=Hn(l.I);nt(A,"SID",l.K),nt(A,"RID",m),nt(A,"AID",l.T),zr(l,A),l.m&&l.o&&Nc(A,l.m,l.o),m=new gs(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Bf(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oc(l.h,m),Pc(m,A,f)}function zr(l,f){l.H&&F(l.H,function(m,A){nt(f,A,m)}),l.l&&Af({},function(m,A){nt(f,A,m)})}function Bf(l,f,m){m=Math.min(l.i.length,m);var A=l.l?p(l.l.Na,l.l,l):null;e:{var U=l.i;let H=-1;for(;;){const ne=["count="+m];H==-1?0<m?(H=U[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let Xe=!0;for(let Ct=0;Ct<m;Ct++){let je=U[Ct].g;const Lt=U[Ct].map;if(je-=H,0>je)H=Math.max(0,U[Ct].g-100),Xe=!1;else try{vb(Lt,ne,"req"+je+"_")}catch{A&&A(Lt)}}if(Xe){A=ne.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,A}function zf(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ue||Wt(),le||(ue(),le=!0),Fe.add(f,l),l.v=0}}function Lc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Or(p(l.Fa,l),qf(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Or(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ua(this),Hf(this))};function Fc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Hf(l){l.g=new gs(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Hn(l.qa);nt(f,"RID","rpc"),nt(f,"SID",l.K),nt(f,"AID",l.T),nt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(f,"TO",l.ja),nt(f,"TYPE","xmlhttp"),zr(l,f),l.m&&l.o&&Nc(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=oa(Hn(f)),m.m=null,m.P=!0,yf(m,l)}t.Za=function(){this.C!=null&&(this.C=null,ua(this),Lc(this),Kt(19))};function da(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Wf(l,f){var m=null;if(l.g==f){da(l),Fc(l),l.g=null;var A=2}else if(Dc(l.h,f))m=f.D,Ef(l.h,f),A=1;else return;if(l.G!=0){if(f.o)if(A==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var U=l.B;A=ea(),be(A,new ff(A,m)),ha(l)}else zf(l);else if(U=f.s,U==3||U==0&&0<f.X||!(A==1&&Eb(l,f)||A==2&&Lc(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),U){case 1:ni(l,5);break;case 4:ni(l,10);break;case 3:ni(l,6);break;default:ni(l,2)}}}function qf(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function ni(l,f){if(l.j.info("Error code "+f),f==2){var m=p(l.fb,l),A=l.Xa;const U=!A;A=new ti(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ia(A,"https"),oa(A),U?gb(A.toString(),m):yb(A.toString(),m)}else Kt(2);l.G=0,l.l&&l.l.sa(f),Kf(l),Uf(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Kf(l){if(l.G=0,l.ka=[],l.l){const f=If(l.h);(f.length!=0||l.i.length!=0)&&(D(l.ka,f),D(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function Gf(l,f,m){var A=m instanceof ti?Hn(m):new ti(m);if(A.g!="")f&&(A.g=f+"."+A.g),ra(A,A.s);else{var U=a.location;A=U.protocol,f=f?f+"."+U.hostname:U.hostname,U=+U.port;var H=new ti(null);A&&ia(H,A),f&&(H.g=f),U&&ra(H,U),m&&(H.l=m),A=H}return m=l.D,f=l.ya,m&&f&&nt(A,m,f),nt(A,"VER",l.la),zr(l,A),A}function Qf(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ut(new aa({eb:m})):new ut(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yf(){}t=Yf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fa(){}fa.prototype.g=function(l,f){return new nn(l,f)};function nn(l,f){he.call(this),this.g=new $f(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!$(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!$(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Vi(this)}v(nn,he),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Vc(this.g)},nn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Mi(l),l=m);f.i.push(new ob(f.Ya++,l)),f.G==3&&ha(f)},nn.prototype.N=function(){this.g.l=null,delete this.j,Vc(this.g),delete this.g,nn.aa.N.call(this)};function Jf(l){kc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}v(Jf,kc);function Xf(){Sc.call(this),this.status=1}v(Xf,Sc);function Vi(l){this.g=l}v(Vi,Yf),Vi.prototype.ua=function(){be(this.g,"a")},Vi.prototype.ta=function(l){be(this.g,new Jf(l))},Vi.prototype.sa=function(l){be(this.g,new Xf)},Vi.prototype.ra=function(){be(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,qv=function(){return new fa},Wv=function(){return ea()},Hv=Zs,lh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,ja=ta,pf.COMPLETE="complete",zv=pf,cf.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",he.prototype.listen=he.prototype.K,Xr=cf,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Bv=ut}).apply(typeof Aa<"u"?Aa:typeof self<"u"?self:typeof window<"u"?window:{});const Lm="@firebase/firestore",Fm="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new fd("@firebase/firestore");function Wi(){return ki.logLevel}function ce(t,...e){if(ki.logLevel<=Pe.DEBUG){const n=e.map(gd);ki.debug(`Firestore (${Sr}): ${t}`,...n)}}function ls(t,...e){if(ki.logLevel<=Pe.ERROR){const n=e.map(gd);ki.error(`Firestore (${Sr}): ${t}`,...n)}}function mr(t,...e){if(ki.logLevel<=Pe.WARN){const n=e.map(gd);ki.warn(`Firestore (${Sr}): ${t}`,...n)}}function gd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Kv(t,s,n)}function Kv(t,e,n){let s=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ls(s),new Error(s)}function Ge(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||Kv(e,i,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jt.UNAUTHENTICATED)))}shutdown(){}}class oM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aM{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ns,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=r;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ns)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Gv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class lM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $m{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=r=>{r.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable((()=>s(r)))};const i=r=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((r=>i(r))),setTimeout((()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $m(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $m(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=hM(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function xe(t,e){return t<e?-1:t>e?1:0}function ch(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return fu(i)===fu(r)?xe(i,r):fu(i)?1:-1}return xe(t.length,e.length)}const dM=55296,fM=57343;function fu(t){const e=t.charCodeAt(0);return e>=dM&&e<=fM}function gr(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="__name__";class Mn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Mn.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return xe(e.length,n.length)}static compareSegments(e,n){const s=Mn.isNumericId(e),i=Mn.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):ch(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class tt extends Mn{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const pM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Mn{construct(e,n,s){return new Mt(e,n,s)}static isValidIdentifier(e){return pM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Um}static keyField(){return new Mt([Um])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mM(t,e,n,s){if(e===!0&&s===!0)throw new ae(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jm(t){if(!ge.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bm(t){if(ge.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ec(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function en(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ec(t);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gM(t,e){if(e<=0)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ho(t,e){if(!Yv(t))throw new ae(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new ae(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-62135596800,Hm=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Hm);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zm)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hm}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ho(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:gt("string",rt._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=-1;function yM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Bs(i,ge.empty(),e)}function _M(t){return new Bs(t.readTime,t.key,ko)}class Bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Bs(Ce.min(),ge.empty(),ko)}static max(){return new Bs(Ce.max(),ge.empty(),ko)}}function vM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cr(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==wM)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K(((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):K.reject(n)}static resolve(e){return new K(((n,s)=>{n(e)}))}static reject(e){return new K(((n,s)=>{s(e)}))}static waitFor(e){return new K(((n,s)=>{let i=0,r=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++r,o&&r===i&&n()}),(c=>s(c)))})),o=!0,r===i&&n()}))}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next((i=>i?K.resolve(i):s()));return n}static forEach(e,n){const s=[];return e.forEach(((i,r)=>{s.push(n.call(this,i,r))})),this.waitFor(s)}static mapArray(e,n){return new K(((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let c=0;c<r;c++){const u=c;n(e[u]).next((h=>{o[u]=h,++a,a===r&&s(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new K(((s,i)=>{const r=()=>{e()===!0?n().next((()=>{r()}),i):s()};r()}))}}function TM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function nc(t){return t==null}function wl(t){return t===0&&1/t==-1/0}function EM(t){return typeof t=="number"&&Number.isInteger(t)&&!wl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="";function IM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Wm(e)),e=AM(t.get(n),e);return Wm(e)}function AM(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Jv:n+="";break;default:n+=r}}return n}function Wm(t){return t+Jv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=i??Rt.EMPTY,this.right=r??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new Rt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Km(this.data.getIterator())}getIteratorFrom(e){return new Km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Km{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new vt(Mt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Zv("Invalid base64 string: "+r):r}})(e);return new Ot(n)}static fromUint8Array(e){const n=(function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r})(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const kM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=kM.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="server_timestamp",tw="__type__",nw="__previous_value__",sw="__local_write_time__";function vd(t){return(t?.mapValue?.fields||{})[tw]?.stringValue===ew}function sc(t){const e=t.mapValue.fields[nw];return vd(e)?sc(e):e}function So(t){const e=zs(t.mapValue.fields[sw].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,s,i,r,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const bl="(default)";class Co{constructor(e,n){this.projectId=e,this.database=n||bl}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===bl}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__type__",CM="__max__",Sa={mapValue:{}},rw="__vector__",Tl="value";function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vd(t)?4:PM(t)?9007199254740991:RM(t)?10:11:Ie(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return So(t).isEqual(So(e));case 3:return(function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=zs(i.timestampValue),a=zs(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,r){return Hs(i.bytesValue).isEqual(Hs(r.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,r){return dt(i.geoPointValue.latitude)===dt(r.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(r.geoPointValue.longitude)})(t,e);case 2:return(function(i,r){if("integerValue"in i&&"integerValue"in r)return dt(i.integerValue)===dt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=dt(i.doubleValue),a=dt(r.doubleValue);return o===a?wl(o)===wl(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return gr(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return(function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(qm(o)!==qm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Bn(o[c],a[c])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Ro(t,e){return(t.values||[]).find((n=>Bn(n,e)))!==void 0}function yr(t,e){if(t===e)return 0;const n=Ws(t),s=Ws(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return(function(r,o){const a=dt(r.integerValue||r.doubleValue),c=dt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return Gm(t.timestampValue,e.timestampValue);case 4:return Gm(So(t),So(e));case 5:return ch(t.stringValue,e.stringValue);case 6:return(function(r,o){const a=Hs(r),c=Hs(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(r,o){const a=r.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=xe(a[u],c[u]);if(h!==0)return h}return xe(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(r,o){const a=xe(dt(r.latitude),dt(o.latitude));return a!==0?a:xe(dt(r.longitude),dt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Qm(t.arrayValue,e.arrayValue);case 10:return(function(r,o){const a=r.fields||{},c=o.fields||{},u=a[Tl]?.arrayValue,h=c[Tl]?.arrayValue,d=xe(u?.values?.length||0,h?.values?.length||0);return d!==0?d:Qm(u,h)})(t.mapValue,e.mapValue);case 11:return(function(r,o){if(r===Sa.mapValue&&o===Sa.mapValue)return 0;if(r===Sa.mapValue)return 1;if(o===Sa.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const p=ch(c[d],h[d]);if(p!==0)return p;const g=yr(a[c[d]],u[h[d]]);if(g!==0)return g}return xe(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function Gm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=zs(t),s=zs(e),i=xe(n.seconds,s.seconds);return i!==0?i:xe(n.nanos,s.nanos)}function Qm(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=yr(n[i],s[i]);if(r)return r}return xe(n.length,s.length)}function _r(t){return uh(t)}function uh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=zs(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=uh(r);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${uh(n.fields[o])}`;return i+"}"})(t.mapValue):Ie(61005,{value:t})}function Ba(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(t);return e?16+Ba(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,r)=>i+Ba(r)),0)})(t.arrayValue);case 10:case 11:return(function(s){let i=0;return Ys(s.fields,((r,o)=>{i+=r.length+Ba(o)})),i})(t.mapValue);default:throw Ie(13486,{value:t})}}function Ym(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hh(t){return!!t&&"integerValue"in t}function wd(t){return!!t&&"arrayValue"in t}function Jm(t){return!!t&&"nullValue"in t}function Xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function za(t){return!!t&&"mapValue"in t}function RM(t){return(t?.mapValue?.fields||{})[iw]?.stringValue===rw}function ho(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ho(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ho(t.arrayValue.values[n]);return e}return{...t}}function PM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(n)}setAll(e){let n=Mt.emptyPath(),s={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=ho(o):i.push(a.lastSegment())}));const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];za(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Ys(n,((i,r)=>e[i]=r));for(const i of s)delete e[i]}clone(){return new Xt(ho(this.value))}}function ow(t){const e=[];return Ys(t.fields,((n,s)=>{const i=new Mt([n]);if(za(s)){const r=ow(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)})),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,Ce.min(),Ce.min(),Ce.min(),Xt.empty(),0)}static newFoundDocument(e,n,s,i){return new zt(e,1,n,Ce.min(),s,i,0)}static newNoDocument(e,n){return new zt(e,2,n,Ce.min(),Ce.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Ce.min(),Ce.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.position=e,this.inclusive=n}}function Zm(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=ge.comparator(ge.fromName(o.referenceValue),n.key):s=yr(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function eg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n="asc"){this.field=e,this.dir=n}}function xM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{}class mt extends aw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DM(e,n,s):n==="array-contains"?new VM(e,s):n==="in"?new LM(e,s):n==="not-in"?new FM(e,s):n==="array-contains-any"?new $M(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OM(e,s):new NM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yr(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(yr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new An(e,n)}matches(e){return lw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lw(t){return t.op==="and"}function cw(t){return MM(t)&&lw(t)}function MM(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function dh(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+_r(t.value);if(cw(t))return t.filters.map((e=>dh(e))).join(",");{const e=t.filters.map((n=>dh(n))).join(",");return`${t.op}(${e})`}}function uw(t,e){return t instanceof mt?(function(s,i){return i instanceof mt&&s.op===i.op&&s.field.isEqual(i.field)&&Bn(s.value,i.value)})(t,e):t instanceof An?(function(s,i){return i instanceof An&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((r,o,a)=>r&&uw(o,i.filters[a])),!0):!1})(t,e):void Ie(19439)}function hw(t){return t instanceof mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_r(n.value)}`})(t):t instanceof An?(function(n){return n.op.toString()+" {"+n.getFilters().map(hw).join(" ,")+"}"})(t):"Filter"}class DM extends mt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class OM extends mt{constructor(e,n){super(e,"in",n),this.keys=dw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NM extends mt{constructor(e,n){super(e,"not-in",n),this.keys=dw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dw(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class VM extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wd(n)&&Ro(n.arrayValue,this.value)}}class LM extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ro(this.value.arrayValue,n)}}class FM extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ro(this.value.arrayValue,n)}}class $M extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ro(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Te=null}}function tg(t,e=null,n=[],s=[],i=null,r=null,o=null){return new UM(t,e,n,s,i,r,o)}function bd(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(r){return r.field.canonicalString()+r.dir})(s))).join(","),nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_r(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_r(s))).join(",")),e.Te=n}return e.Te}function Td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eg(t.startAt,e.startAt)&&eg(t.endAt,e.endAt)}function fh(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jM(t,e,n,s,i,r,o,a){return new Wo(t,e,n,s,i,r,o,a)}function ic(t){return new Wo(t)}function ng(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fw(t){return t.collectionGroup!==null}function fo(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Mt.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Il(r,s))})),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Il(Mt.keyField(),s))}return e.Ie}function Nn(t){const e=Re(t);return e.Ee||(e.Ee=BM(e,fo(t))),e.Ee}function BM(t,e){if(t.limitType==="F")return tg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const r=i.dir==="desc"?"asc":"desc";return new Il(i.field,r)}));const n=t.endAt?new El(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new El(t.startAt.position,t.startAt.inclusive):null;return tg(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ph(t,e){const n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Al(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rc(t,e){return Td(Nn(t),Nn(e))&&t.limitType===e.limitType}function pw(t){return`${bd(Nn(t))}|lt:${t.limitType}`}function qi(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>hw(i))).join(", ")}]`),nc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>_r(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>_r(i))).join(",")),`Target(${s})`})(Nn(t))}; limitType=${t.limitType})`}function oc(t,e){return e.isFoundDocument()&&(function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):ge.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)})(t,e)&&(function(s,i){for(const r of fo(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(o,a,c){const u=Zm(o,a,c);return o.inclusive?u<=0:u<0})(s.startAt,fo(s),i)||s.endAt&&!(function(o,a,c){const u=Zm(o,a,c);return o.inclusive?u>=0:u>0})(s.endAt,fo(s),i))})(t,e)}function zM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mw(t){return(e,n)=>{let s=!1;for(const i of fo(t)){const r=HM(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function HM(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(r,o,a){const c=o.data.field(r),u=a.data.field(r);return c!==null&&u!==null?yr(c,u):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,((n,s)=>{for(const[i,r]of s)e(i,r)}))}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new lt(ge.comparator);function cs(){return WM}const gw=new lt(ge.comparator);function Zr(...t){let e=gw;for(const n of t)e=e.insert(n.key,n);return e}function yw(t){let e=gw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function pi(){return po()}function _w(){return po()}function po(){return new Ri((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qM=new lt(ge.comparator),KM=new vt(ge.comparator);function Me(...t){let e=KM;for(const n of t)e=e.add(n);return e}const GM=new vt(xe);function QM(){return GM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(e)?"-0":e}}function vw(t){return{integerValue:""+t}}function YM(t,e){return EM(e)?vw(e):Ed(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this._=void 0}}function JM(t,e,n){return t instanceof Po?(function(i,r){const o={fields:{[tw]:{stringValue:ew},[sw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&vd(r)&&(r=sc(r)),r&&(o.fields[nw]=r),{mapValue:o}})(n,e):t instanceof xo?bw(t,e):t instanceof Mo?Tw(t,e):(function(i,r){const o=ww(i,r),a=sg(o)+sg(i.Ae);return hh(o)&&hh(i.Ae)?vw(a):Ed(i.serializer,a)})(t,e)}function XM(t,e,n){return t instanceof xo?bw(t,e):t instanceof Mo?Tw(t,e):n}function ww(t,e){return t instanceof kl?(function(s){return hh(s)||(function(r){return!!r&&"doubleValue"in r})(s)})(e)?e:{integerValue:0}:null}class Po extends ac{}class xo extends ac{constructor(e){super(),this.elements=e}}function bw(t,e){const n=Ew(e);for(const s of t.elements)n.some((i=>Bn(i,s)))||n.push(s);return{arrayValue:{values:n}}}class Mo extends ac{constructor(e){super(),this.elements=e}}function Tw(t,e){let n=Ew(e);for(const s of t.elements)n=n.filter((i=>!Bn(i,s)));return{arrayValue:{values:n}}}class kl extends ac{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sg(t){return dt(t.integerValue||t.doubleValue)}function Ew(t){return wd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.field=e,this.transform=n}}function eD(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof xo&&i instanceof xo||s instanceof Mo&&i instanceof Mo?gr(s.elements,i.elements,Bn):s instanceof kl&&i instanceof kl?Bn(s.Ae,i.Ae):s instanceof Po&&i instanceof Po})(t.transform,e.transform)}class tD{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ha(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lc{}function Iw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Id(t.key,gn.none()):new qo(t.key,t.data,gn.none());{const n=t.data,s=Xt.empty();let i=new vt(Mt.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Js(t.key,s,new rn(i.toArray()),gn.none())}}function nD(t,e,n){t instanceof qo?(function(i,r,o){const a=i.value.clone(),c=rg(i.fieldTransforms,r,o.transformResults);a.setAll(c),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Js?(function(i,r,o){if(!Ha(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=rg(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(Aw(i)),c.setAll(a),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function mo(t,e,n,s){return t instanceof qo?(function(r,o,a,c){if(!Ha(r.precondition,o))return a;const u=r.value.clone(),h=og(r.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,s):t instanceof Js?(function(r,o,a,c){if(!Ha(r.precondition,o))return a;const u=og(r.fieldTransforms,c,o),h=o.data;return h.setAll(Aw(r)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map((d=>d.field)))})(t,e,n,s):(function(r,o,a){return Ha(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function sD(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=ww(s.transform,i||null);r!=null&&(n===null&&(n=Xt.empty()),n.set(s.field,r))}return n||null}function ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&gr(s,i,((r,o)=>eD(r,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qo extends lc{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Js extends lc{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function rg(t,e,n){const s=new Map;Ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,XM(o,a,n[i]))}return s}function og(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,JM(r,o,e))}return s}class Id extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&nD(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_w();return this.mutations.forEach((i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const c=Iw(o,a);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,((n,s)=>ig(n,s)))&&gr(this.baseMutations,e.baseMutations,((n,s)=>ig(n,s)))}}class Ad{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=(function(){return qM})();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Ad(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,De;function lD(t){switch(t){case q.OK:return Ie(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function kw(t){if(t===void 0)return ls("GRPC error has no .code"),q.UNKNOWN;switch(t){case pt.OK:return q.OK;case pt.CANCELLED:return q.CANCELLED;case pt.UNKNOWN:return q.UNKNOWN;case pt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case pt.INTERNAL:return q.INTERNAL;case pt.UNAVAILABLE:return q.UNAVAILABLE;case pt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case pt.NOT_FOUND:return q.NOT_FOUND;case pt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case pt.ABORTED:return q.ABORTED;case pt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case pt.DATA_LOSS:return q.DATA_LOSS;default:return Ie(39323,{code:t})}}(De=pt||(pt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Fs([4294967295,4294967295],0);function ag(t){const e=cD().encode(t),n=new jv;return n.update(e),new Uint8Array(n.digest())}function lg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Fs([n,s],0),new Fs([i,r],0)]}class kd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eo(`Invalid padding: ${n}`);if(s<0)throw new eo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(Fs.fromNumber(s)));return i.compare(uD)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ag(e),[s,i]=lg(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new kd(r,i,n);return s.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=ag(e),[s,i]=lg(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cc(Ce.min(),i,new lt(xe),cs(),Me())}}class Ko{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ko(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class Sw{constructor(e,n){this.targetId=e,this.Ce=n}}class Cw{constructor(e,n,s=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class cg{constructor(){this.ve=0,this.Fe=ug(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ie(38017,{changeType:r})}})),new Ko(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ug()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hD{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Ca(),this.He=Ca(),this.Ye=new lt(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(fh(r))if(s===0){const o=new ge(r.path);this.et(n,o,zt.newNoDocument(o,Ce.min()))}else Ge(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=Hs(s).toUint8Array()}catch(c){if(c instanceof Zv)return mr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kd(o,i,r)}catch(c){return mr(c instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach((r=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.et(n,r,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((r,o)=>{const a=this.ot(o);if(a){if(r.current&&fh(a.target)){const c=new ge(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,zt.newNoDocument(c,e))}r.Be&&(n.set(o,r.ke()),r.qe())}}));let s=Me();this.He.forEach(((r,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(s=s.add(r))})),this.je.forEach(((r,o)=>o.setReadTime(e)));const i=new cc(e,n,this.Ye,this.je,s);return this.je=cs(),this.Je=Ca(),this.He=Ca(),this.Ye=new lt(xe),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ca(){return new lt(ge.comparator)}function ug(){return new lt(ge.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class mD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mh(t,e){return t.useProto3Json||nc(e)?e:{value:e}}function Sl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gD(t,e){return Sl(t,e.toTimestamp())}function Vn(t){return Ge(!!t,49232),Ce.fromTimestamp((function(n){const s=zs(n);return new rt(s.seconds,s.nanos)})(t))}function Sd(t,e){return gh(t,e).canonicalString()}function gh(t,e){const n=(function(i){return new tt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Pw(t){const e=tt.fromString(t);return Ge(Nw(e),10190,{key:e.toString()}),e}function yh(t,e){return Sd(t.databaseId,e.path)}function pu(t,e){const n=Pw(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Mw(n))}function xw(t,e){return Sd(t.databaseId,e)}function yD(t){const e=Pw(t);return e.length===4?tt.emptyPath():Mw(e)}function _h(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mw(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hg(t,e,n){return{name:yh(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ie(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=(function(u,h){return u.useProto3Json?(Ge(h===void 0||typeof h=="string",58123),Ot.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ot.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?q.UNKNOWN:kw(u.code);return new ae(h,u.message||"")})(o);n=new Cw(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=pu(t,s.document.name),r=Vn(s.document.updateTime),o=s.document.createTime?Vn(s.document.createTime):Ce.min(),a=new Xt({mapValue:{fields:s.document.fields}}),c=zt.newFoundDocument(i,r,o,a),u=s.targetIds||[],h=s.removedTargetIds||[];n=new Wa(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=pu(t,s.document),r=s.readTime?Vn(s.readTime):Ce.min(),o=zt.newNoDocument(i,r),a=s.removedTargetIds||[];n=new Wa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=pu(t,s.document),r=s.removedTargetIds||[];n=new Wa([],r,i,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new aD(i,r),a=s.targetId;n=new Sw(a,o)}}return n}function vD(t,e){let n;if(e instanceof qo)n={update:hg(t,e.key,e.value)};else if(e instanceof Id)n={delete:yh(t,e.key)};else if(e instanceof Js)n={update:hg(t,e.key,e.data),updateMask:CD(e.fieldMask)};else{if(!(e instanceof iD))return Ie(16599,{Vt:e.type});n={verify:yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(r,o){const a=o.transform;if(a instanceof Po)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ie(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,r){return r.updateTime!==void 0?{updateTime:gD(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ie(27497)})(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map((n=>(function(i,r){let o=i.updateTime?Vn(i.updateTime):Vn(r);return o.isEqual(Ce.min())&&(o=Vn(r)),new tD(o,i.transformResults||[])})(n,e)))):[]}function bD(t,e){return{documents:[xw(t,e.path)]}}function TD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xw(t,i);const r=(function(u){if(u.length!==0)return Ow(An.create(u,"and"))})(e.filters);r&&(n.structuredQuery.where=r);const o=(function(u){if(u.length!==0)return u.map((h=>(function(p){return{field:Ki(p.field),direction:AD(p.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function ED(t){let e=yD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Ge(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=(function(d){const p=Dw(d);return p instanceof An&&cw(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((p=>(function(v){return new Il(Gi(v.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(p)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let p;return p=typeof d=="object"?d.value:d,nc(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(d){const p=!!d.before,g=d.values||[];return new El(g,p)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const p=!d.before,g=d.values||[];return new El(g,p)})(n.endAt)),jM(e,i,o,r,a,"F",c,u)}function ID(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Gi(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Gi(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gi(n.unaryFilter.field);return mt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gi(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mt.create(Gi(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return An.create(n.compositeFilter.filters.map((s=>Dw(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function AD(t){return dD[t]}function kD(t){return fD[t]}function SD(t){return pD[t]}function Ki(t){return{fieldPath:t.canonicalString()}}function Gi(t){return Mt.fromServerFormat(t.fieldPath)}function Ow(t){return t instanceof mt?(function(n){if(n.op==="=="){if(Xm(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xm(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ki(n.field),op:kD(n.op),value:n.value}}})(t):t instanceof An?(function(n){const s=n.getFilters().map((i=>Ow(i)));return s.length===1?s[0]:{compositeFilter:{op:SD(n.op),filters:s}}})(t):Ie(54877,{filter:t})}function CD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,s,i,r=Ce.min(),o=Ce.min(),a=Ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.yt=e}}function PD(t){const e=ED({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Al(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Cn=new MD}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Bs.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class MD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new vt(tt.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(Vw,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vr(0)}static cr(){return new vr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LruGarbageCollector",DD=1048576;function pg([t,e],[n,s]){const i=xe(t,n);return i===0?xe(e,s):i}class OD{constructor(e){this.Ir=e,this.buffer=new vt(pg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ND{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(fg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rr(n)?ce(fg,"Ignoring IndexedDB error during garbage collection: ",n):await Cr(n)}await this.Vr(3e5)}))}}class VD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return K.resolve(tc.ce);const s=new OD(n);return this.mr.forEachTarget(e,(i=>s.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>s.Ar(i))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(dg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,r,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i)))).next((d=>(s=d,a=Date.now(),this.removeTargets(e,s,n)))).next((d=>(r=d,c=Date.now(),this.removeOrphanedDocuments(e,s)))).next((d=>(u=Date.now(),Wi()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:d}))))}}function LD(t,e){return new VD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Ri((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&mo(s.mutation,i,rn.empty(),rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const i=pi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((r=>{let o=Zr();return r.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=pi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const i=[];return s.forEach((r=>{n.has(r)||i.push(r)})),this.documentOverlayCache.getOverlays(e,i).next((r=>{r.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,s,i){let r=cs();const o=po(),a=(function(){return po()})();return n.forEach(((c,u)=>{const h=s.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Js)?r=r.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),mo(h.mutation,u,h.mutation.getFieldMask(),rt.now())):o.set(u.key,rn.empty())})),this.recalculateAndSaveOverlays(e,r).next((c=>(c.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>a.set(u,new $D(h,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const s=po();let i=new lt(((o,a)=>o-a)),r=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||rn.empty();h=a.applyToLocalView(u,h),s.set(c,h);const d=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,d)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,d=_w();h.forEach((p=>{if(!r.has(p)){const g=Iw(n.get(p),s.get(p));g!==null&&d.set(p,g),r=r.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return K.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):K.resolve(pi());let a=ko,c=r;return o.next((u=>K.forEach(u,((h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next((p=>{c=c.insert(h,p)}))))).next((()=>this.populateOverlays(e,u,r))).next((()=>this.computeViews(e,c,u,Me()))).next((h=>({batchId:a,changes:yw(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let i=Zr();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Zr();return this.indexManager.getCollectionParents(e,r).next((a=>K.forEach(a,(c=>{const u=(function(d,p){return new Wo(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next((h=>{h.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i)))).next((o=>{r.forEach(((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,zt.newInvalidDocument(h)))}));let a=Zr();return o.forEach(((c,u)=>{const h=r.get(c);h!==void 0&&mo(h.mutation,u,rn.empty(),rt.now()),oc(n,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}})(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:Vn(i.readTime)}})(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new lt(ge.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=pi();return K.forEach(n,(i=>this.getOverlay(e,i).next((r=>{r!==null&&s.set(i,r)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,r)=>{this.St(e,n,r)})),K.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach((r=>this.overlays=this.overlays.remove(r))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const i=pi(),r=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new lt(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=r.get(u.largestBatchId);h===null&&(h=pi(),r=r.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=pi(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=i)););return K.resolve(a)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new oD(n,s));let r=this.qr.get(n);r===void 0&&(r=Me(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.Qr=new vt(It.$r),this.Ur=new vt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new It(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new It(n,e),i=new It(n,e+1),r=[];return this.Ur.forEachInRange([s,i],(o=>{this.Gr(o),r.push(o.key)})),r}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new It(n,e),i=new It(n,e+1);let r=Me();return this.Ur.forEachInRange([s,i],(o=>{r=r.add(o.key)})),r}containsKey(e){const n=new It(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(It.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rD(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new It(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return K.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],(o=>{const a=this.Xr(o.Yr);r.push(a)})),K.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(xe);return n.forEach((i=>{const r=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],(a=>{s=s.add(a.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;ge.isDocumentKey(r)||(r=r.child(""));const o=new It(new ge(r),0);let a=new vt(xe);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)}),o),K.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((s=>{const i=this.Xr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(n.mutations,(i=>{const r=new It(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new It(n,0),i=this.Zr.firstAfterOrEqual(s);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.ri=e,this.docs=(function(){return new lt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let s=cs();return n.forEach((i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():zt.newInvalidDocument(i))})),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=cs();const o=n.path,a=new ge(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vM(_M(h),s)<=0||(i.has(h.key)||oc(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return K.resolve(r)}getAllFromCollectionGroup(e,n,s,i){Ie(9500)}ii(e,n){return K.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qD(this)}getSize(e){return K.resolve(this.size)}}class qD extends FD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)})),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.persistence=e,this.si=new Ri((n=>bd(n)),Td),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Cd,this.targetCount=0,this.ai=vr.ur()}forEachTarget(e,n){return this.si.forEach(((s,i)=>n(i))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vr(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),K.waitFor(r).next((()=>i))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach((o=>{r.push(i.markPotentiallyOrphaned(e,o))})),K.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.ui={},this.overlays={},this.ci=new tc(0),this.li=!1,this.li=!0,this.hi=new zD,this.referenceDelegate=e(this),this.Pi=new KD(this),this.indexManager=new xD,this.remoteDocumentCache=(function(i){return new WD(i)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RD(n),this.Ii=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new HD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const i=new GD(this.ci.next());return this.referenceDelegate.Ei(),s(i).next((r=>this.referenceDelegate.di(i).next((()=>r)))).toPromise().then((r=>(i.raiseOnCommittedEvent(),r)))}Ai(e,n){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class GD extends bM{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ri=new Cd,this.Vi=null}static mi(e){return new Rd(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((r=>this.fi.add(r.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const i=ge.fromPath(s);return this.gi(e,i).next((r=>{r||n.removeEntry(i,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cl{constructor(e,n){this.persistence=e,this.pi=new Ri((s=>IM(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=LD(this,n)}static mi(e,n){return new Cl(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((i=>s+i))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return K.forEach(this.pi,((s,i)=>this.br(e,s,i).next((r=>r?K.resolve():n(i)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(s++,r.removeEntry(o,Ce.min()))})))).next((()=>r.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ba(e.data.value)),n}br(e,n,s){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return K.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=Me(),i=Me();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Pd(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jP()?8:TM(Ht())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ys(e,n).next((o=>{r.result=o})).next((()=>{if(!r.result)return this.ws(e,n,i,s).next((o=>{r.result=o}))})).next((()=>{if(r.result)return;const o=new QD;return this.Ss(e,n,o).next((a=>{if(r.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>r.result))}bs(e,n,s,i){return s.documentReadCount<this.fs?(Wi()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Wi()<=Pe.DEBUG&&ce("QueryEngine","Query:",qi(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Wi()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):K.resolve())}ys(e,n){if(ng(n))return K.resolve(null);let s=Nn(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Al(n,null,"F"),s=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((r=>{const o=Me(...r);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,s).next((c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Al(n,null,"F")):this.vs(e,u,n,c)}))))})))))}ws(e,n,s,i){return ng(n)||i.isEqual(Ce.min())?K.resolve(null):this.ps.getDocuments(e,s).next((r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?K.resolve(null):(Wi()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qi(n)),this.vs(e,o,n,yM(i,ko)).next((a=>a)))}))}Ds(e,n){let s=new vt(mw(e));return n.forEach(((i,r)=>{oc(e,r)&&(s=s.add(r))})),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return Wi()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",qi(n)),this.ps.getDocumentsMatchingQuery(e,n,Bs.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next((r=>(n.forEach((o=>{r=r.insert(o.key,o)})),r)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",JD=3e8;class XD{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lt(xe),this.xs=new Ri((r=>bd(r)),Td),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZD(t,e,n,s){return new XD(t,e,n,s)}async function Fw(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((r=>{const o=[],a=[];let c=Me();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of r){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function eO(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,h){const d=u.batch,p=d.keys();let g=K.resolve();return p.forEach((v=>{g=g.next((()=>h.getEntry(c,v))).next((E=>{const D=u.docVersions.get(v);Ge(D!==null,48541),E.version.compareTo(D)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))}))})),g.next((()=>a.mutationQueue.removeMutationBatch(c,d)))})(n,s,e,r).next((()=>r.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(a){let c=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function $w(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tO(t,e){const n=Re(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(r,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(r,h.addedDocuments,d))));let g=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Ot.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),i=i.insert(d,g),(function(E,D,L){return E.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=JD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(p,g,h)&&a.push(n.Pi.updateTargetData(r,g))}));let c=cs(),u=Me();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))})),a.push(nO(r,o,e.documentUpdates).next((h=>{c=h.ks,u=h.qs}))),!s.isEqual(Ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(r).next((d=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s)));a.push(h)}return K.waitFor(a).next((()=>o.apply(r))).next((()=>n.localDocuments.getLocalViewOfDocuments(r,c,u))).next((()=>c))})).then((r=>(n.Ms=i,r)))}function nO(t,e,n){let s=Me(),i=Me();return n.forEach((r=>s=s.add(r))),e.getEntries(t,s).next((r=>{let o=cs();return n.forEach(((a,c)=>{const u=r.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ce.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ce(xd,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function sO(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_d),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function iO(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Pi.getTargetData(s,e).next((r=>r?(i=r,K.resolve(i)):n.Pi.allocateTargetId(s).next((o=>(i=new Ds(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function vh(t,e,n){const s=Re(t),i=s.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,(o=>s.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rr(o))throw o;ce(xd,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function mg(t,e,n){const s=Re(t);let i=Ce.min(),r=Me();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,h){const d=Re(c),p=d.xs.get(h);return p!==void 0?K.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,h)})(s,o,Nn(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{r=c}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?r:Me()))).next((a=>(rO(s,zM(e),a),{documents:a,Qs:r})))))}function rO(t,e,n){let s=t.Os.get(e)||Ce.min();n.forEach(((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)})),t.Os.set(e,s)}class gg{constructor(){this.activeTargetIds=QM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.Mo=new gg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="ConnectivityMonitor";class _g{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(yg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(yg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function wh(){return Ra===null?Ra=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===bl?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,r){const o=wh(),a=this.zo(e,n.toUriEncodedString());ce(mu,`Sending RPC '${e}' ${o}:`,a,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,r);const{host:u}=new URL(a),h=Ar(u);return this.Jo(e,a,c,s,h).then((d=>(ce(mu,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw mr(mu,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",s),d}))}Ho(e,n,s,i,r,o){return this.Go(e,n,s,i,r)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,r)=>e[r]=i)),s&&s.headers.forEach(((i,r)=>e[r]=i))}zo(e,n){const s=lO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class hO extends cO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=wh();return new Promise(((a,c)=>{const u=new Bv;u.setWithCredentials(!0),u.listenOnce(zv.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case ja.NO_ERROR:const d=u.getResponseJson();ce($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case ja.TIMEOUT:ce($t,`RPC '${e}' ${o} timed out`),c(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const p=u.getStatus();if(ce($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const E=(function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf($)>=0?$:q.UNKNOWN})(v.status);c(new ae(E,v.message))}else c(new ae(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae(q.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ce($t,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);ce($t,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,s,15)}))}T_(e,n,s){const i=wh(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qv(),a=Wv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");ce($t,`Creating RPC '${e}' stream ${i}: ${h}`,c);const d=o.createWebChannel(h,c);this.I_(d);let p=!1,g=!1;const v=new uO({Yo:D=>{g?ce($t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(ce($t,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ce($t,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},Zo:()=>d.close()}),E=(D,L,$)=>{D.listen(L,(C=>{try{$(C)}catch(T){setTimeout((()=>{throw T}),0)}}))};return E(d,Xr.EventType.OPEN,(()=>{g||(ce($t,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),E(d,Xr.EventType.CLOSE,(()=>{g||(g=!0,ce($t,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(d))})),E(d,Xr.EventType.ERROR,(D=>{g||(g=!0,mr($t,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),v.a_(new ae(q.UNAVAILABLE,"The operation could not be completed")))})),E(d,Xr.EventType.MESSAGE,(D=>{if(!g){const L=D.data[0];Ge(!!L,16349);const $=L,C=$?.error||$[0]?.error;if(C){ce($t,`RPC '${e}' stream ${i} received error:`,C);const T=C.status;let P=(function(w){const y=pt[w];if(y!==void 0)return kw(y)})(T),F=C.message;P===void 0&&(P=q.INTERNAL,F="Unknown error status: "+T+" with message "+C.message),g=!0,v.a_(new ae(P,F)),d.close()}else ce($t,`RPC '${e}' stream ${i} received:`,L),v.u_(L)}})),E(a,Hv.STAT_EVENT,(D=>{D.stat===lh.PROXY?ce($t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===lh.NOPROXY&&ce($t,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){return new mD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="PersistentStream";class jw{constructor(e,n,s,i,r,o,a,c){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===n&&this.G_(s,i)}),(s=>{e((()=>{const i=new ae(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(vg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(vg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dO extends jw{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_D(this.serializer,e),s=(function(r){if(!("targetChange"in r))return Ce.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Vn(o.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=_h(this.serializer),n.addTarget=(function(r,o){let a;const c=o.target;if(a=fh(c)?{documents:bD(r,c)}:{query:TD(r,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Rw(r,o.resumeToken);const u=mh(r,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Sl(r,o.snapshotVersion.toTimestamp());const u=mh(r,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const s=ID(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=_h(this.serializer),n.removeTarget=e,this.q_(n)}}class fO extends jw{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wD(e.writeResults,e.commitTime),s=Vn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=_h(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class mO extends pO{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.Go(e,gh(n,s),i,r,o))).catch((r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae(q.UNKNOWN,r.toString())}))}Ho(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,gh(n,s),i,o,a,r))).catch((o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(q.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="RemoteStore";class yO{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{Pi(this)&&(ce(Si,"Restarting streams for network reachability change."),await(async function(c){const u=Re(c);u.Ea.add(4),await Go(u),u.Ra.set("Unknown"),u.Ea.delete(4),await hc(u)})(this))}))})),this.Ra=new gO(s,i)}}async function hc(t){if(Pi(t))for(const e of t.da)await e(!0)}async function Go(t){for(const e of t.da)await e(!1)}function Bw(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nd(n)?Od(n):Pr(n).O_()&&Dd(n,e))}function Md(t,e){const n=Re(t),s=Pr(n);n.Ia.delete(e),s.O_()&&zw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Pi(n)&&n.Ra.set("Unknown"))}function Dd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pr(t).Y_(e)}function zw(t,e){t.Va.Ue(e),Pr(t).Z_(e)}function Od(t){t.Va=new hD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pr(t).start(),t.Ra.ua()}function Nd(t){return Pi(t)&&!Pr(t).x_()&&t.Ia.size>0}function Pi(t){return Re(t).Ea.size===0}function Hw(t){t.Va=void 0}async function _O(t){t.Ra.set("Online")}async function vO(t){t.Ia.forEach(((e,n)=>{Dd(t,e)}))}async function wO(t,e){Hw(t),Nd(t)?(t.Ra.ha(e),Od(t)):t.Ra.set("Unknown")}async function bO(t,e,n){if(t.Ra.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await(async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(s){ce(Si,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rl(t,s)}else if(e instanceof Wa?t.Va.Ze(e):e instanceof Sw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await $w(t.localStore);n.compareTo(s)>=0&&await(function(r,o){const a=r.Va.Tt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ia.get(u);h&&r.Ia.set(u,h.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const h=r.Ia.get(c);if(!h)return;r.Ia.set(c,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),zw(r,c);const d=new Ds(h.target,c,u,h.sequenceNumber);Dd(r,d)})),r.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(s){ce(Si,"Failed to raise snapshot:",s),await Rl(t,s)}}async function Rl(t,e,n){if(!Rr(e))throw e;t.Ea.add(1),await Go(t),t.Ra.set("Offline"),n||(n=()=>$w(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Si,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hc(t)}))}function Ww(t,e){return e().catch((n=>Rl(t,n,e)))}async function dc(t){const e=Re(t),n=qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;TO(e);)try{const i=await sO(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,EO(e,i)}catch(i){await Rl(e,i)}qw(e)&&Kw(e)}function TO(t){return Pi(t)&&t.Ta.length<10}function EO(t,e){t.Ta.push(e);const n=qs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qw(t){return Pi(t)&&!qs(t).x_()&&t.Ta.length>0}function Kw(t){qs(t).start()}async function IO(t){qs(t).ra()}async function AO(t){const e=qs(t);for(const n of t.Ta)e.ea(n.mutations)}async function kO(t,e,n){const s=t.Ta.shift(),i=Ad.from(s,e,n);await Ww(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dc(t)}async function SO(t,e){e&&qs(t).X_&&await(async function(s,i){if((function(o){return lD(o)&&o!==q.ABORTED})(i.code)){const r=s.Ta.shift();qs(s).B_(),await Ww(s,(()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i))),await dc(s)}})(t,e),qw(t)&&Kw(t)}async function wg(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ce(Si,"RemoteStore received new credentials");const s=Pi(n);n.Ea.add(3),await Go(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hc(n)}async function CO(t,e){const n=Re(t);e?(n.Ea.delete(2),await hc(n)):e||(n.Ea.add(2),await Go(n),n.Ra.set("Unknown"))}function Pr(t){return t.ma||(t.ma=(function(n,s,i){const r=Re(n);return r.sa(),new dO(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_O.bind(null,t),t_:vO.bind(null,t),r_:wO.bind(null,t),H_:bO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Nd(t)?Od(t):t.Ra.set("Unknown")):(await t.ma.stop(),Hw(t))}))),t.ma}function qs(t){return t.fa||(t.fa=(function(n,s,i){const r=Re(n);return r.sa(),new fO(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:IO.bind(null,t),r_:SO.bind(null,t),ta:AO.bind(null,t),na:kO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await dc(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Si,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new Vd(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(t,e){if(ls("AsyncQueue",`${e}: ${t}`),Rr(t))return new ae(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{static emptySet(e){return new rr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Zr(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new rr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.ga=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wr{constructor(e,n,s,i,r,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new wr(e,n,rr.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PO{constructor(){this.queries=Tg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Re(n),r=i.queries;i.queries=Tg(),r.forEach(((o,a)=>{for(const c of a.Sa)c.onError(s)}))})(this,new ae(q.ABORTED,"Firestore shutting down"))}}function Tg(){return new Ri((t=>pw(t)),rc)}async function Fd(t,e){const n=Re(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new RO,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ld(o,`Initialization of query '${qi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&Ud(n)}async function $d(t,e){const n=Re(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xO(t,e){const n=Re(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Fa(i)&&(s=!0);o.wa=i}}s&&Ud(n)}function MO(t,e,n){const s=Re(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Ud(t){t.Ca.forEach((e=>{e.next()}))}var bh,Eg;(Eg=bh||(bh={})).Ma="default",Eg.Cache="cache";class jd{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new wr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.key=e}}class Qw{constructor(e){this.key=e}}class DO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=mw(e),this.tu=new rr(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new bg,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,d)=>{const p=i.get(h),g=oc(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let D=!1;p&&g?p.data.isEqual(g.data)?v!==E&&(s.track({type:3,doc:g}),D=!0):this.su(p,g)||(s.track({type:2,doc:g}),D=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),D=!0):p&&!g&&(s.track({type:1,doc:p}),D=!0,(c||u)&&(a=!0)),D&&(g?(o=o.add(g),r=E?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:a,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,v){const E=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:D})}};return E(g)-E(v)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(s),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new wr(this.query,e.tu,r,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Qw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bd="SyncEngine";class OO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NO{constructor(e){this.key=e,this.hu=!1}}class VO{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ri((a=>pw(a)),rc),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ge.comparator),this.Au=new Map,this.Ru=new Cd,this.Vu={},this.mu=new Map,this.fu=vr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(t,e,n=!0){const s=t0(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await Yw(s,e,n,!0),i}async function FO(t,e){const n=t0(t);await Yw(n,e,!0,!1)}async function Yw(t,e,n,s){const i=await iO(t.localStore,Nn(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await $O(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Bw(t.remoteStore,i),a}async function $O(t,e,n,s,i){t.pu=(d,p,g)=>(async function(E,D,L,$){let C=D.view.ru(L);C.Cs&&(C=await mg(E.localStore,D.query,!1).then((({documents:k})=>D.view.ru(k,C))));const T=$&&$.targetChanges.get(D.targetId),P=$&&$.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(C,E.isPrimaryClient,T,P);return Ag(E,D.targetId,F.au),F.snapshot})(t,d,p,g);const r=await mg(t.localStore,e,!0),o=new DO(e,r.Qs),a=o.ru(r.documents),c=Ko.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Ag(t,n,u.au);const h=new OO(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function UO(t,e,n){const s=Re(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter((o=>!rc(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await vh(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Md(s.remoteStore,i.targetId),Th(s,i.targetId)})).catch(Cr)):(Th(s,i.targetId),await vh(s.localStore,i.targetId,!0))}async function jO(t,e){const n=Re(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Md(n.remoteStore,s.targetId))}async function BO(t,e,n){const s=QO(t);try{const i=await(function(o,a){const c=Re(o),u=rt.now(),h=a.reduce(((g,v)=>g.add(v.key)),Me());let d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let v=cs(),E=Me();return c.Ns.getEntries(g,h).next((D=>{v=D,v.forEach(((L,$)=>{$.isValidDocument()||(E=E.add(L))}))})).next((()=>c.localDocuments.getOverlayedDocuments(g,v))).next((D=>{d=D;const L=[];for(const $ of a){const C=sD($,d.get($.key).overlayedDocument);C!=null&&L.push(new Js($.key,C,ow(C.value.mapValue),gn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,L,a)})).next((D=>{p=D;const L=D.applyToLocalDocumentSet(d,E);return c.documentOverlayCache.saveOverlays(g,D.batchId,L)}))})).then((()=>({batchId:p.batchId,changes:yw(d)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new lt(xe)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u})(s,i.batchId,n),await Qo(s,i.changes),await dc(s.remoteStore)}catch(i){const r=Ld(i,"Failed to persist write");n.reject(r)}}async function Jw(t,e){const n=Re(t);try{const s=await tO(n.localStore,e);e.targetChanges.forEach(((i,r)=>{const o=n.Au.get(r);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ge(o.hu,14607):i.removedDocuments.size>0&&(Ge(o.hu,42227),o.hu=!1))})),await Qo(n,s,e)}catch(s){await Cr(s)}}function Ig(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach(((r,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=Re(o);c.onlineState=a;let u=!1;c.queries.forEach(((h,d)=>{for(const p of d.Sa)p.va(a)&&(u=!0)})),u&&Ud(c)})(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let o=new lt(ge.comparator);o=o.insert(r,zt.newNoDocument(r,Ce.min()));const a=Me().add(r),c=new cc(Ce.min(),new Map,new lt(xe),o,a);await Jw(s,c),s.du=s.du.remove(r),s.Au.delete(e),zd(s)}else await vh(s.localStore,e,!1).then((()=>Th(s,e,n))).catch(Cr)}async function HO(t,e){const n=Re(t),s=e.batch.batchId;try{const i=await eO(n.localStore,e);Zw(n,s,null),Xw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qo(n,i)}catch(i){await Cr(i)}}async function WO(t,e,n){const s=Re(t);try{const i=await(function(o,a){const c=Re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next((d=>(Ge(d!==null,37113),h=d.keys(),c.mutationQueue.removeMutationBatch(u,d)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>c.localDocuments.getDocuments(u,h)))}))})(s.localStore,e);Zw(s,e,n),Xw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qo(s,i)}catch(i){await Cr(i)}}function Xw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Zw(t,e,n){const s=Re(t);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function Th(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||e0(t,s)}))}function e0(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Md(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zd(t))}function Ag(t,e,n){for(const s of n)s instanceof Gw?(t.Ru.addReference(s.key,e),qO(t,s)):s instanceof Qw?(ce(Bd,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||e0(t,s.key)):Ie(19791,{wu:s})}function qO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ce(Bd,"New document in limbo: "+n),t.Eu.add(s),zd(t))}function zd(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(tt.fromString(e)),s=t.fu.next();t.Au.set(s,new NO(n)),t.du=t.du.insert(n,s),Bw(t.remoteStore,new Ds(Nn(ic(n.path)),s,"TargetPurposeLimboResolution",tc.ce))}}async function Qo(t,e,n){const s=Re(t),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((a,c)=>{o.push(s.pu(c,e,n).then((u=>{if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Pd.As(c.targetId,u);r.push(h)}})))})),await Promise.all(o),s.Pu.H_(i),await(async function(c,u){const h=Re(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>K.forEach(u,(p=>K.forEach(p.Es,(g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g))).next((()=>K.forEach(p.ds,(g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))))))}catch(d){if(!Rr(d))throw d;ce(xd,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const g=h.Ms.get(p),v=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(p,E)}}})(s.localStore,r))}async function KO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ce(Bd,"User change. New user:",e.toKey());const s=await Fw(n.localStore,e);n.currentUser=e,(function(r,o){r.mu.forEach((a=>{a.forEach((c=>{c.reject(new ae(q.CANCELLED,o))}))})),r.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qo(n,s.Ls)}}function GO(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let i=Me();const r=n.Iu.get(e);if(!r)return i;for(const o of r){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function t0(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zO.bind(null,e),e.Pu.H_=xO.bind(null,e.eventManager),e.Pu.yu=MO.bind(null,e.eventManager),e}function QO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WO.bind(null,e),e}class Pl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZD(this.persistence,new YD,e.initialUser,this.serializer)}Cu(e){return new Lw(Rd.mi,this.serializer)}Du(e){return new oO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pl.provider={build:()=>new Pl};class YO extends Pl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Cl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ND(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Lw((s=>Cl.mi(s,n)),this.serializer)}}class Eh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ig(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PO})()}createDatastore(e){const n=uc(e.databaseInfo.databaseId),s=(function(r){return new hO(r)})(e.databaseInfo);return(function(r,o,a,c){return new mO(r,o,a,c)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,r,o,a){return new yO(s,i,r,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ig(this.syncEngine,n,0)),(function(){return _g.v()?new _g:new aO})())}createSyncEngine(e,n){return(function(i,r,o,a,c,u,h){const d=new VO(i,r,o,a,c,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(Si,"RemoteStore shutting down."),s.Ea.add(5),await Go(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eh.provider={build:()=>new Eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class JO{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,(async o=>{ce(Ks,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(ce(Ks,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ld(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function yu(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await Fw(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function kg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XO(t);ce(Ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>wg(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>wg(e.remoteStore,i))),t._onlineComponents=e}async function XO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Ks,"Using user provided OfflineComponentProvider");try{await yu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await yu(t,new Pl)}}else ce(Ks,"Using default OfflineComponentProvider"),await yu(t,new YO(void 0));return t._offlineComponents}async function n0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Ks,"Using user provided OnlineComponentProvider"),await kg(t,t._uninitializedComponentsProvider._online)):(ce(Ks,"Using default OnlineComponentProvider"),await kg(t,new Eh))),t._onlineComponents}function ZO(t){return n0(t).then((e=>e.syncEngine))}async function xl(t){const e=await n0(t),n=e.eventManager;return n.onListen=LO.bind(null,e.syncEngine),n.onUnlisten=UO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jO.bind(null,e.syncEngine),n}function e4(t,e,n={}){const s=new ns;return t.asyncQueue.enqueueAndForget((async()=>(function(r,o,a,c,u){const h=new Hd({next:p=>{h.Nu(),o.enqueueAndForget((()=>$d(r,d)));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ae(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new ae(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new jd(ic(a.path),h,{includeMetadataChanges:!0,qa:!0});return Fd(r,d)})(await xl(t),t.asyncQueue,e,n,s))),s.promise}function t4(t,e,n={}){const s=new ns;return t.asyncQueue.enqueueAndForget((async()=>(function(r,o,a,c,u){const h=new Hd({next:p=>{h.Nu(),o.enqueueAndForget((()=>$d(r,d))),p.fromCache&&c.source==="server"?u.reject(new ae(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new jd(a,h,{includeMetadataChanges:!0,qa:!0});return Fd(r,d)})(await xl(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firestore.googleapis.com",Cg=!0;class Rg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=Cg}else this.host=e.host,this.ssl=e.ssl??Cg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rM;switch(s.type){case"firstParty":return new cM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Sg.get(n);s&&(ce("ComponentProvider","Removing Datastore"),Sg.delete(n),s.terminate())})(this),Promise.resolve()}}function n4(t,e,n,s={}){t=en(t,fc);const i=Ar(e),r=t._getSettings(),o={...r,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Dv(`https://${a}`),Ov("Firestore",!0)),r.host!==i0&&r.host!==a&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:a,ssl:i,emulatorOptions:s};if(!Ii(c,o)&&(t._setSettings(c),s.mockUserToken)){let u,h;if(typeof s.mockUserToken=="string")u=s.mockUserToken,h=jt.MOCK_USER;else{u=MP(s.mockUserToken,t._app?.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jt(d)}t._authCredentials=new oM(new Gv(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ho(n,ht._jsonSchema))return new ht(e,s||null,new ge(tt.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:gt("string",ht._jsonSchemaVersion),referencePath:gt("string")};class $s extends Xs{constructor(e,n,s){super(e,n,ic(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ge(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Dn(t,e,...n){if(t=bt(t),Qv("collection","path",e),t instanceof fc){const s=tt.fromString(e,...n);return Bm(s),new $s(t,null,s)}{if(!(t instanceof ht||t instanceof $s))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(tt.fromString(e,...n));return Bm(s),new $s(t.firestore,null,s)}}function Ln(t,e,...n){if(t=bt(t),arguments.length===1&&(e=yd.newId()),Qv("doc","path",e),t instanceof fc){const s=tt.fromString(e,...n);return jm(s),new ht(t,null,new ge(s))}{if(!(t instanceof ht||t instanceof $s))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(tt.fromString(e,...n));return jm(s),new ht(t.firestore,t instanceof $s?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="AsyncQueue";class xg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uw(this,"async_queue_retry"),this._c=()=>{const s=gu();s&&ce(Pg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=gu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rr(e))throw e;ce(Pg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",Mg(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Vd.createAndSchedule(this,e,n,s,(r=>this.hc(r)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:Mg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Mg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1})(t,["next","error","complete"])}class us extends fc{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new xg,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xg(e),this._firestoreClient=void 0,await e}}}function s4(t,e){const n=typeof t=="object"?t:Fv(),s=typeof t=="string"?t:bl,i=md(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=PP("firestore");r&&n4(i,...r)}return i}function pc(t){if(t._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i4(t),t._firestoreClient}function i4(t){const e=t._freezeSettings(),n=(function(i,r,o,a){return new SM(i,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,s0(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(Ot.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ho(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:gt("string",pn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Ho(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:gt("string",Fn._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ho(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $n(e.vectorValues);throw new ae(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:gt("string",$n._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class o4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new qo(e,this.data,n,this.fieldTransforms)}}class r0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class Wd{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ml(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(o0(this.Ac)&&r4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uc(e)}Cc(e,n,s,i=!1){return new Wd({Ac:e,methodName:n,Dc:s,path:Mt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yc(t){const e=t._freezeSettings(),n=uc(t._databaseId);return new a4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a0(t,e,n,s,i,r={}){const o=t.Cc(r.merge||r.mergeFields?2:0,e,n,i);Kd("Data must be an object, but it was:",o,s);const a=l0(s,o);let c,u;if(r.merge)c=new rn(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const p=Ih(e,d,n);if(!o.contains(p))throw new ae(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);u0(h,p)||h.push(p)}c=new rn(h),u=o.fieldTransforms.filter((d=>c.covers(d.field)))}else c=null,u=o.fieldTransforms;return new o4(new Xt(a),c,u)}class _c extends gc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _c}}class qd extends gc{_toFieldTransform(e){return new ZM(e.path,new Po)}isEqual(e){return e instanceof qd}}function l4(t,e,n,s){const i=t.Cc(1,e,n);Kd("Data must be an object, but it was:",i,s);const r=[],o=Xt.empty();Ys(s,((c,u)=>{const h=Gd(e,c,n);u=bt(u);const d=i.yc(h);if(u instanceof _c)r.push(h);else{const p=Yo(u,d);p!=null&&(r.push(h),o.set(h,p))}}));const a=new rn(r);return new r0(o,a,i.fieldTransforms)}function c4(t,e,n,s,i,r){const o=t.Cc(1,e,n),a=[Ih(e,s,n)],c=[i];if(r.length%2!=0)throw new ae(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)a.push(Ih(e,r[p])),c.push(r[p+1]);const u=[],h=Xt.empty();for(let p=a.length-1;p>=0;--p)if(!u0(u,a[p])){const g=a[p];let v=c[p];v=bt(v);const E=o.yc(g);if(v instanceof _c)u.push(g);else{const D=Yo(v,E);D!=null&&(u.push(g),h.set(g,D))}}const d=new rn(u);return new r0(h,d,o.fieldTransforms)}function u4(t,e,n,s=!1){return Yo(n,t.Cc(s?4:3,e))}function Yo(t,e){if(c0(t=bt(t)))return Kd("Unsupported field value:",e,t),l0(t,e);if(t instanceof gc)return(function(s,i){if(!o0(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,i){const r=[];let o=0;for(const a of s){let c=Yo(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}})(t,e)}return(function(s,i){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YM(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=rt.fromDate(s);return{timestampValue:Sl(i.serializer,r)}}if(s instanceof rt){const r=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sl(i.serializer,r)}}if(s instanceof Fn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pn)return{bytesValue:Rw(i.serializer,s._byteString)};if(s instanceof ht){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Sd(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof $n)return(function(o,a){return{mapValue:{fields:{[iw]:{stringValue:rw},[Tl]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ed(a.serializer,u)}))}}}}}})(s,i);throw i.Sc(`Unsupported field value: ${ec(s)}`)})(t,e)}function l0(t,e){const n={};return Xv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,((s,i)=>{const r=Yo(i,e.mc(s));r!=null&&(n[s]=r)})),{mapValue:{fields:n}}}function c0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Fn||t instanceof pn||t instanceof ht||t instanceof gc||t instanceof $n)}function Kd(t,e,n){if(!c0(n)||!Yv(n)){const s=ec(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Ih(t,e,n){if((e=bt(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Gd(t,e);throw Ml("Field path arguments must be of type string or ",t,!1,void 0,n)}const h4=new RegExp("[~\\*/\\[\\]]");function Gd(t,e,n){if(e.search(h4)>=0)throw Ml(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mc(...e.split("."))._internalPath}catch{throw Ml(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ml(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new ae(q.INVALID_ARGUMENT,a+t+c)}function u0(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d4 extends h0{data(){return super.data()}}function Qd(t,e){return typeof e=="string"?Gd(t,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yd{}class f0 extends Yd{}function Ss(t,e,...n){let s=[];e instanceof Yd&&s.push(e),s=s.concat(n),(function(r){const o=r.filter((c=>c instanceof Jd)).length,a=r.filter((c=>c instanceof vc)).length;if(o>1||o>0&&a>0)throw new ae(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)t=i._apply(t);return t}class vc extends f0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vc(e,n,s)}_apply(e){const n=this._parse(e);return p0(e._query,n),new Xs(e.firestore,e.converter,ph(e._query,n))}_parse(e){const n=yc(e.firestore);return(function(r,o,a,c,u,h,d){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ae(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ng(d,h);const v=[];for(const E of d)v.push(Og(c,r,E));p={arrayValue:{values:v}}}else p=Og(c,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ng(d,h),p=u4(a,o,d,h==="in"||h==="not-in");return mt.create(u,h,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cs(t,e,n){const s=e,i=Qd("where",t);return vc._create(i,s,n)}class Jd extends Yd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jd(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,r){let o=i;const a=r.getFlattenedFilters();for(const c of a)p0(o,c),o=ph(o,c)})(e._query,n),new Xs(e.firestore,e.converter,ph(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xd extends f0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Xd(e,n,s)}_apply(e){return new Xs(e.firestore,e.converter,Al(e._query,this._limit,this._limitType))}}function qa(t){return gM("limit",t),Xd._create("limit",t,"F")}function Og(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new ae(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&n.indexOf("/")!==-1)throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ym(t,new ge(s))}if(n instanceof ht)return Ym(t,n._key);throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ec(n)}.`)}function Ng(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p0(t,e){const n=(function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f4{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ys(e,((i,r)=>{s[i]=this.convertValue(r,n)})),s}convertVectorValue(e){const n=e.fields?.[Tl].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new $n(n)}convertGeoPoint(e){return new Fn(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const n=zs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(Nw(s),9688,{name:e});const i=new Co(s.get(1),s.get(3)),r=new ge(s.popFirst(5));return i.isEqual(n)||ls(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class to{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wi extends h0{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:gt("string",wi._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Ka extends wi{data(e={}){return super.data(e)}}class bi{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ka(this._firestore,this._userDataWriter,s.key,s,new to(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new Ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>r||a.type!==3)).map((a=>{const c=new Ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:p4(a.type),doc:c,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach((r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){t=en(t,ht);const e=en(t.firestore,us);return e4(pc(e),t._key).then((n=>_0(e,t,n)))}bi._jsonSchemaVersion="firestore/querySnapshot/1.0",bi._jsonSchema={type:gt("string",bi._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class Zd extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function g4(t){t=en(t,Xs);const e=en(t.firestore,us),n=pc(e),s=new Zd(e);return d0(t._query),t4(n,t._query).then((i=>new bi(e,s,t,i)))}function g0(t,e,n){t=en(t,ht);const s=en(t.firestore,us),i=m0(t.converter,e,n);return wc(s,[a0(yc(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gn.none())])}function Do(t,e,n,...s){t=en(t,ht);const i=en(t.firestore,us),r=yc(i);let o;return o=typeof(e=bt(e))=="string"||e instanceof mc?c4(r,"updateDoc",t._key,e,n,s):l4(r,"updateDoc",t._key,e),wc(i,[o.toMutation(t._key,gn.exists(!0))])}function y4(t){return wc(en(t.firestore,us),[new Id(t._key,gn.none())])}function y0(t,e){const n=en(t.firestore,us),s=Ln(t),i=m0(t.converter,e);return wc(n,[a0(yc(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,gn.exists(!1))]).then((()=>s))}function di(t,...e){t=bt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dg(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Dg(e[s])){const c=e[s];e[s]=c.next?.bind(c),e[s+1]=c.error?.bind(c),e[s+2]=c.complete?.bind(c)}let r,o,a;if(t instanceof ht)o=en(t.firestore,us),a=ic(t._key.path),r={next:c=>{e[s]&&e[s](_0(o,t,c))},error:e[s+1],complete:e[s+2]};else{const c=en(t,Xs);o=en(c.firestore,us),a=c._query;const u=new Zd(o);r={next:h=>{e[s]&&e[s](new bi(o,u,c,h))},error:e[s+1],complete:e[s+2]},d0(t._query)}return(function(u,h,d,p){const g=new Hd(p),v=new jd(h,g,d);return u.asyncQueue.enqueueAndForget((async()=>Fd(await xl(u),v))),()=>{g.Nu(),u.asyncQueue.enqueueAndForget((async()=>$d(await xl(u),v)))}})(pc(o),a,i,r)}function wc(t,e){return(function(s,i){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>BO(await ZO(s),i,r))),r.promise})(pc(t),e)}function _0(t,e,n){const s=n.docs.get(e._key),i=new Zd(t);return new wi(t,i,e._key,s,new to(n.hasPendingWrites,n.fromCache),e.converter)}function zn(){return new qd("serverTimestamp")}(function(e,n=!0){(function(i){Sr=i})(kr),pr(new Ai("firestore",((s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new us(new aM(s.getProvider("auth-internal")),new uM(o,s.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(u.options.projectId,h)})(o,i),o);return r={useFetchStreams:n,...r},a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),Ls(Lm,Fm,e),Ls(Lm,Fm,"esm2020")})();function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _4=v0,w0=new Bo("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new fd("@firebase/auth");function v4(t,...e){Dl.logLevel<=Pe.WARN&&Dl.warn(`Auth (${kr}): ${t}`,...e)}function Ga(t,...e){Dl.logLevel<=Pe.ERROR&&Dl.error(`Auth (${kr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,...e){throw ef(t,...e)}function Un(t,...e){return ef(t,...e)}function b0(t,e,n){const s={..._4(),[e]:n};return new Bo("auth","Firebase",s).create(e,{appName:t.name})}function Us(t){return b0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ef(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return w0.create(t,...e)}function ke(t,e,...n){if(!t)throw ef(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ga(e),new Error(e)}function ds(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(){return typeof self<"u"&&self.location?.href||""}function w4(){return Vg()==="http:"||Vg()==="https:"}function Vg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w4()||FP()||"connection"in navigator)?navigator.onLine:!0}function T4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=NP()||$P()}get(){return b4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A4=new Jo(3e4,6e4);function bc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xi(t,e,n,s,i={}){return E0(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=zo({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...r};return LP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ar(t.emulatorConfig.host)&&(u.credentials="include"),T0.fetch()(await A0(t,t.config.apiHost,n,a),u)})}async function E0(t,e,n){t._canInitEmulator=!1;const s={...E4,...e};try{const i=new k4(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Pa(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pa(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Pa(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Pa(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw b0(t,h,u);hs(t,h)}}catch(i){if(i instanceof ps)throw i;hs(t,"network-request-failed",{message:String(i)})}}async function I0(t,e,n,s,i={}){const r=await xi(t,e,n,s,i);return"mfaPendingCredential"in r&&hs(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function A0(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?tf(t.config,i):`${t.config.apiScheme}://${i}`;return I4.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Un(this.auth,"network-request-failed")),A4.get())})}}function Pa(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Un(t,e,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return xi(t,"POST","/v1/accounts:delete",e)}async function Ol(t,e){return xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C4(t,e=!1){const n=bt(t),s=await n.getIdToken(e),i=nf(s);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r?.sign_in_provider;return{claims:i,token:s,authTime:go(_u(i.auth_time)),issuedAtTime:go(_u(i.iat)),expirationTime:go(_u(i.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}}function _u(t){return Number(t)*1e3}function nf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ga("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rv(n);return i?JSON.parse(i):(Ga("Failed to decode base64 JWT payload"),null)}catch(i){return Ga("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lg(t){const e=nf(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function br(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ps&&R4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){const e=t.auth,n=await t.getIdToken(),s=await br(t,Ol(e,{idToken:n}));ke(s?.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=i.providerUserInfo?.length?k0(i.providerUserInfo):[],o=M4(t.providerData,r),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,u=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function x4(t){const e=bt(t);await Nl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M4(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function k0(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){const n=await E0(t,{},async()=>{const s=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await A0(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:s};return t.emulatorConfig&&Ar(t.emulatorConfig.host)&&(c.credentials="include"),T0.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O4(t,e){return xi(t,"POST","/v2/accounts:revokeToken",bc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=Lg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await D4(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new or;return s&&(ke(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ke(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new or,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new P4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await br(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C4(this,e)}reload(){return x4(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await br(this,S4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:g,providerData:v,stsTokenManager:E}=n;ke(d&&E,e,"internal-error");const D=or.fromJSON(this.name,E);ke(typeof d=="string",e,"internal-error"),ws(s,e.name),ws(i,e.name),ke(typeof p=="boolean",e,"internal-error"),ke(typeof g=="boolean",e,"internal-error"),ws(r,e.name),ws(o,e.name),ws(a,e.name),ws(c,e.name),ws(u,e.name),ws(h,e.name);const L=new bn({uid:d,auth:e,email:i,emailVerified:p,displayName:s,isAnonymous:g,photoURL:o,phoneNumber:r,tenantId:a,stsTokenManager:D,createdAt:u,lastLoginAt:h});return v&&Array.isArray(v)&&(L.providerData=v.map($=>({...$}))),c&&(L._redirectEventId=c),L}static async _fromIdTokenResponse(e,n,s=!1){const i=new or;i.updateFromServerResponse(n);const r=new bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Nl(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?k0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!r?.length,a=new or;a.updateFromIdToken(s);const c=new bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map;function Zn(t){ds(t instanceof Function,"Expected a class definition");let e=Fg.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S0.type="NONE";const $g=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e,n){return`firebase:${t}:${e}:${n}`}class ar{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Qa(this.userKey,i.apiKey,r),this.fullPersistenceKey=Qa("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ol(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ar(Zn($g),e,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=i[0]||Zn($g);const o=Qa(s,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const p=await Ol(e,{idToken:h}).catch(()=>{});if(!p)break;d=await bn._fromGetAccountInfoResponse(e,p,h)}else d=bn._fromJSON(e,h);u!==r&&(a=d),r=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new ar(r,e,s):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new ar(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(O0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||P0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function C0(t=Ht()){return/firefox\//i.test(t)}function R0(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P0(t=Ht()){return/crios\//i.test(t)}function x0(t=Ht()){return/iemobile/i.test(t)}function M0(t=Ht()){return/android/i.test(t)}function D0(t=Ht()){return/blackberry/i.test(t)}function O0(t=Ht()){return/webos/i.test(t)}function sf(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N4(t=Ht()){return sf(t)&&!!window.navigator?.standalone}function V4(){return UP()&&document.documentMode===10}function N0(t=Ht()){return sf(t)||M0(t)||O0(t)||D0(t)||/windows phone/i.test(t)||x0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e=[]){let n;switch(t){case"Browser":n=Ug(Ht());break;case"Worker":n=`${Ug(Ht())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const c=e(r);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e={}){return xi(t,"GET","/v2/passwordPolicy",bc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=6;class U4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jg(this),this.idTokenSubscription=new jg(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ar.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ol(this,{idToken:e}),s=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,o=s?._redirectEventId,a=await this.tryRedirectSignIn(e);(!r||r===o)&&a?.user&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(r){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Us(this));const n=e?bt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),n=new U4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await O4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await ar.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&v4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Tc(t){return bt(t)}class jg{constructor(e){this.auth=e,this.observer=null,this.addObserver=GP(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(t){rf=t}function z4(t){return rf.loadJS(t)}function H4(){return rf.gapiScript}function W4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){const n=md(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ii(r,e??{}))return i;hs(i,"already-initialized")}return n.initialize({options:e})}function K4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function G4(t,e,n){const s=Tc(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=L0(e),{host:o,port:a}=Q4(e),c=a===null?"":`:${a}`,u={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(Ii(u,s.config.emulator)&&Ii(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Ar(o)?(Dv(`${r}//${o}${c}`),Ov("Auth",!0)):Y4()}function L0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q4(t){const e=L0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Bg(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Bg(o)}}}function Bg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(t,e){return I0(t,"POST","/v1/accounts:signInWithIdp",bc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="http://localhost";class Ci extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new Ci(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lr(e,n)}buildRequest(){const e={requestUri:J4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Xo{constructor(){super("facebook.com")}static credential(e){return Ci._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ci._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ps.credential(n,s)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Xo{constructor(){super("github.com")}static credential(e){return Ci._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Xo{constructor(){super("twitter.com")}static credential(e,n){return Ci._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return I0(t,"POST","/v1/accounts:signUp",bc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await bn._fromIdTokenResponse(e,s,i),o=zg(s);return new Gs({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=zg(s);return new Gs({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function zg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t){if(wn(t.app))return Promise.reject(Us(t));const e=Tc(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Gs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await X4(e,{returnSecureToken:!0}),s=await Gs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends ps{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Vl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Vl(e,n,s,i)}}function U0(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Vl._fromErrorAndOperation(t,r,e,s):r})}async function eN(t,e,n=!1){const s=await br(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e,n=!1){const{auth:s}=t;if(wn(s.app))return Promise.reject(Us(s));const i="reauthenticate";try{const r=await br(t,U0(s,i,e,t),n);ke(r.idToken,s,"internal-error");const o=nf(r.idToken);ke(o,s,"internal-error");const{sub:a}=o;return ke(t.uid===a,s,"user-mismatch"),Gs._forOperation(t,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&hs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e,n=!1){if(wn(t.app))return Promise.reject(Us(t));const s="signIn",i=await U0(t,s,e),r=await Gs._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e){return xi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=bt(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await br(s,sN(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function rN(t,e,n,s){return bt(t).onIdTokenChanged(e,n,s)}function oN(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function j0(t,e,n,s){return bt(t).onAuthStateChanged(e,n,s)}function aN(t){return bt(t).signOut()}const Ll="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e3,cN=10;class z0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);V4()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cN):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z0.type="LOCAL";const uN=z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H0.type="SESSION";const W0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Ec(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,r)),c=await hN(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ec.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,c)=>{const u=of("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(p.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function fN(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function gN(){return q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firebaseLocalStorageDb",yN=1,Fl="firebaseLocalStorage",G0="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ic(t,e){return t.transaction([Fl],e?"readwrite":"readonly").objectStore(Fl)}function _N(){const t=indexedDB.deleteDatabase(K0);return new Zo(t).toPromise()}function Sh(){const t=indexedDB.open(K0,yN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Fl,{keyPath:G0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Fl)?e(s):(s.close(),await _N(),e(await Sh()))})})}async function Hg(t,e,n){const s=Ic(t,!0).put({[G0]:e,value:n});return new Zo(s).toPromise()}async function vN(t,e){const n=Ic(t,!1).get(e),s=await new Zo(n).toPromise();return s===void 0?null:s.value}function Wg(t,e){const n=Ic(t,!0).delete(e);return new Zo(n).toPromise()}const wN=800,bN=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ec._getInstance(gN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sh();return await Hg(e,Ll,"1"),await Wg(e,Ll),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hg(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Ic(i,!1).getAll();return new Zo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const TN=Q0;new Jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){return e?Zn(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IN(t){return nN(t.auth,new af(t),t.bypassAuthState)}function AN(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),tN(n,new af(t),t.bypassAuthState)}async function kN(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),eN(n,new af(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IN;case"linkViaPopup":case"linkViaRedirect":return kN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:hs(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Jo(2e3,1e4);class Ji extends Y0{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="pendingRedirect",Ya=new Map;class RN extends Y0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ya.get(this.auth._key());if(!e){try{const s=await PN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ya.set(this.auth._key(),e)}return this.bypassAuthState||Ya.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PN(t,e){const n=DN(e),s=MN(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function xN(t,e){Ya.set(t._key(),e)}function MN(t){return Zn(t._redirectPersistence)}function DN(t){return Qa(CN,t.config.apiKey,t.name)}async function ON(t,e,n=!1){if(wn(t.app))return Promise.reject(Us(t));const s=Tc(t),i=EN(s,e),o=await new RN(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=600*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!J0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Un(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NN&&this.cachedEventUids.clear(),this.cachedEventUids.has(qg(e))}saveEventToCache(e){this.cachedEventUids.add(qg(e)),this.lastProcessedEventTime=Date.now()}}function qg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e={}){return xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UN=/^https?/;async function jN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FN(t);for(const n of e)try{if(BN(n))return}catch{}hs(t,"unauthorized-domain")}function BN(t){const e=Ah(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!UN.test(n))return!1;if($N.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Jo(3e4,6e4);function Kg(){const t=jn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HN(t){return new Promise((e,n)=>{function s(){Kg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kg(),n(Un(t,"network-request-failed"))},timeout:zN.get()})}if(jn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(jn().gapi?.load)s();else{const i=W4("iframefcb");return jn()[i]=()=>{gapi.load?s():n(Un(t,"network-request-failed"))},z4(`${H4()}?onload=${i}`).catch(r=>n(r))}}).catch(e=>{throw Ja=null,e})}let Ja=null;function WN(t){return Ja=Ja||HN(t),Ja}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Jo(5e3,15e3),KN="__/auth/iframe",GN="emulator/auth/iframe",QN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tf(e,GN):`https://${t.config.authDomain}/${KN}`,s={apiKey:e.apiKey,appName:t.name,v:kr},i=YN.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${zo(s).slice(1)}`}async function XN(t){const e=await WN(t),n=jn().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:JN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QN,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),a=jn().setTimeout(()=>{r(o)},qN.get());function c(){jn().clearTimeout(a),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eV=500,tV=600,nV="_blank",sV="http://localhost";class Gg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iV(t,e,n,s=eV,i=tV){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c={...ZN,width:s.toString(),height:i.toString(),top:r,left:o},u=Ht().toLowerCase();n&&(a=P0(u)?nV:n),C0(u)&&(e=e||sV,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(N4(u)&&a!=="_self")return rV(e||"",a),new Gg(null);const d=window.open(e||"",a,h);ke(d,t,"popup-blocked");try{d.focus()}catch{}return new Gg(d)}function rV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="__/auth/handler",aV="emulator/auth/handler",lV=encodeURIComponent("fac");async function Qg(t,e,n,s,i,r){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:kr,eventId:i};if(e instanceof $0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Xo){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${lV}=${encodeURIComponent(c)}`:"";return`${cV(t)}?${zo(a).slice(1)}${u}`}function cV({config:t}){return t.emulator?tf(t,aV):`https://${t.authDomain}/${oV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="webStorageSupport";class uV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=ON,this._overrideRedirectResult=xN}async _openPopup(e,n,s,i){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const r=await Qg(e,n,s,Ah(),i);return iV(e,r,of())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Qg(e,n,s,Ah(),i);return fN(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ds(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await XN(e),s=new VN(e);return n.register("authEvent",i=>(ke(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vu,{type:vu},i=>{const r=i?.[0]?.[vu];r!==void 0&&n(!!r),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N0()||R0()||sf()}}const hV=uV;var Yg="@firebase/auth",Jg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pV(t){pr(new Ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(t)},u=new j4(s,i,r,c);return K4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pr(new Ai("auth-internal",e=>{const n=Tc(e.getProvider("auth").getImmediate());return(s=>new dV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(Yg,Jg,fV(t)),Ls(Yg,Jg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=300,gV=Mv("authIdTokenMaxAge")||mV;let Xg=null;const yV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gV)return;const i=n?.token;Xg!==i&&(Xg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _V(t=Fv()){const e=md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q4(t,{popupRedirectResolver:hV,persistence:[TN,uN,W0]}),s=Mv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=yV(r.toString());oN(n,o,()=>o(n.currentUser)),rN(n,a=>o(a))}}const i=Pv("auth");return i&&G4(n,`http://${i}`),n}function vV(){return document.getElementsByTagName("head")?.[0]??document}B4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Un("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",vV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pV("Browser");var wV="firebase",bV="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(wV,bV,"app");const TV={apiKey:"AIzaSyA2rWTDIF2Y9xfT-BH5SsQ6sjTJ-LNNE-E",authDomain:"webintosh-chat.firebaseapp.com",projectId:"webintosh-chat",storageBucket:"webintosh-chat.firebasestorage.app",messagingSenderId:"921735878847",appId:"1:921735878847:web:faebe9d4a8b53ef0a44e0a",measurementId:"G-3C2N0XP48K"},X0=Lv(TV),_t=s4(X0),Ac=_V(X0),EV=[{id:"general",name:"general",description:"General discussion"},{id:"design",name:"design",description:"Design and UI/UX"},{id:"gaming",name:"gaming",description:"Gaming chat"},{id:"music",name:"music",description:"Music and audio"},{id:"random",name:"random",description:"Random topics"},{id:"tech",name:"tech",description:"Technology discussion"}],IV=["😊","😂","❤️","👍","😎","🤔","😭","🎉","🔥","💯"],Bi=t=>t?t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"?",Z0=t=>{if(!t)return"";const e=t.toDate(),s=new Date().getTime()-e.getTime(),i=Math.floor(s/6e4);return i<1?"just now":i<60?`${i}m ago`:i<1440?`${Math.floor(i/60)}h ago`:e.toLocaleDateString()},Zg=t=>t?Z0(t):"offline",ey=()=>{const t=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZijYIG2m98OScTgwOUqzn4");t.volume=.3,t.play().catch(()=>{})},AV=async t=>{const e=await Z4(Ac);return await iN(e.user,{displayName:t.trim()}),await g0(Ln(_t,"users",e.user.uid),{displayName:t.trim(),lastSeen:zn(),online:!0}),e.user},kV=async t=>{await Do(Ln(_t,"users",t),{online:!1,lastSeen:zn()}),await aN(Ac)},ty=async(t,e,n,s="message")=>{const i={text:n.trim(),userId:t.uid,userName:t.displayName||"Anonymous",timestamp:zn(),channelId:e,type:s};console.log("Sending channel message:",i);try{const r=await y0(Dn(_t,"messages"),i);console.log("Message sent with ID:",r.id)}catch(r){throw console.error("Error sending message:",r),r}},ny=async(t,e,n,s="message")=>{await y0(Dn(_t,"messages"),{text:n.trim(),userId:t.uid,userName:t.displayName||"Anonymous",timestamp:zn(),conversationId:e,type:s}),await Do(Ln(_t,"directMessages",e),{lastMessage:n.trim(),lastMessageTime:zn()})},SV=async(t,e)=>{const n=[t.uid,e.uid].sort().join("_"),s=Ln(_t,"directMessages",n);return await g0(s,{participants:[t.uid,e.uid],participantNames:{[t.uid]:t.displayName,[e.uid]:e.displayName},createdAt:zn(),lastMessage:null,lastMessageTime:zn()},{merge:!0}),n},CV=async t=>{await Do(Ln(_t,"users",t),{lastSeen:zn(),online:!0})},zi=X([]),Qr=X([]),RV=3,lf=()=>{const t=c=>{const u={id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,duration:5e3,sound:!0,type:"info",...c};return Qr.value.push(u),e(),u.sound&&i(u.type),u.duration&&u.duration>0&&setTimeout(()=>{n(u.id)},u.duration),u.id},e=()=>{for(;Qr.value.length>0&&zi.value.length<RV;){const c=Qr.value.shift();c&&zi.value.push(c)}},n=c=>{const u=zi.value.findIndex(h=>h.id===c);u!==-1&&(zi.value.splice(u,1),e())},s=()=>{zi.value=[],Qr.value=[]},i=c=>{let u="";switch(c){case"message":u="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZijYIG2m98OScTgwOUqzn4";break;case"error":u="data:audio/wav;base64,UklGRi4CAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQoCAADw/wAA8P8AAPD/AADw/wAA8P8AAPD/AADw/wAA8P8AAPD/AADw/wAA";break;default:u="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQg8AAIQ+AAACABAAZGF0YQoGAADa2trd3d3g4ODj4+Pm5ubo6Ojq6urr6+vs7Ozs7Ozr6+vq6uro6Ojm5ubj4+Pg4ODd3d3a2tra2tra2tra2tra2tra2tra2tra2tra";break}if(u){const h=new Audio(u);h.volume=.4,h.play().catch(()=>{})}},r=(c,u,h="info")=>t({title:c,message:u,type:h}),o=(c,u,h,d="yahooMessenger")=>{const p=h?`${c} in #${h}`:c;return t({title:p,message:u,type:"message",icon:"/icons/apps/yahooMessenger.png",duration:4e3,appId:d})},a=()=>(console.log("[Notifications] Testing notification system..."),t({title:"Test Notification",message:"This is a test. If you see this, notifications are working!",type:"info",duration:5e3}));return{notifications:vo(zi),notificationQueue:vo(Qr),showNotification:t,dismissNotification:n,clearAllNotifications:s,notify:r,notifyMessage:o,testNotification:a}},bs=X(null),xa=new Set,sy=new Map;let Yr=null;const wu=X(!1);let iy=!1;const eb=()=>{const{notifyMessage:t}=lf(),e=o=>{console.log("[GlobalChat] App open state changed:",o),wu.value=o,o&&xa.clear()},n=()=>{iy||(iy=!0,console.log("[GlobalChat] Initializing global listeners"),j0(Ac,o=>{console.log("[GlobalChat] Auth state changed:",o?.displayName||"null"),bs.value=o,o?setTimeout(()=>{s(),i()},2e3):r()}))},s=()=>{console.log("[GlobalChat] Skipping channel listeners - notifications disabled for channels")},i=()=>{if(!bs.value||Yr)return;console.log("[GlobalChat] Starting DM listeners for user:",bs.value.displayName);const o=Date.now(),a=Ss(Dn(_t,"directMessages"),Cs("participants","array-contains",bs.value.uid));Yr=di(a,c=>{c.docs.forEach(u=>{const h=u.id,d=Ss(Dn(_t,"messages"),Cs("conversationId","==",h),qa(50));di(d,p=>{bs.value&&p.docChanges().forEach(g=>{if(g.type==="added"){const v={id:g.doc.id,...g.doc.data()};if(xa.has(v.id))return;xa.add(v.id);const E=v.timestamp?.toMillis()||0,D=E>o&&Date.now()-E<1e4;console.log("[GlobalChat] DM detected:",{from:v.userName,isAppOpen:wu.value,isFromSelf:v.userId===bs.value.uid,isNewMessage:D,messageAge:E?`${(Date.now()-E)/1e3}s ago`:"no timestamp"}),!wu.value&&v.userId!==bs.value.uid&&D&&(console.log("[GlobalChat] 🔔 Showing DM notification from:",v.userName,":",v.text),t(v.userName,v.text,void 0,"yahooMessenger"))}})})})})},r=()=>{sy.forEach(o=>o()),sy.clear(),Yr&&(Yr(),Yr=null),xa.clear()};return kn(()=>{r()}),{initializeGlobalListeners:n,setAppOpen:e,stopAllListeners:r,currentUser:vo(bs)}},PV=async t=>{try{const e=Ss(Dn(_t,"messages"),Cs("channelId","==",t)),n=await g4(e),s=n.docs.map(i=>y4(Ln(_t,"messages",i.id)));return await Promise.all(s),console.log(`✅ Cleared ${n.size} messages from channel: ${t}`),n.size}catch(e){throw console.error("Error clearing channel:",e),e}},xV={class:"yahoo-messenger"},MV={key:0,class:"login-screen"},DV={class:"login-box"},OV=["disabled"],NV={key:1,class:"chat-interface"},VV={class:"sidebar"},LV={class:"user-info"},FV={class:"user-avatar"},$V={class:"user-details"},UV={class:"username"},jV={class:"chat-mode-toggle"},BV={key:0,class:"channels-list"},zV=["onClick"],HV={class:"channel-name"},WV={key:0,class:"unread-badge"},qV={key:1,class:"direct-messages-list"},KV={class:"section-header"},GV=["onClick"],QV={class:"dm-avatar"},YV={class:"dm-info"},JV={class:"dm-name"},XV={class:"online-users"},ZV={class:"section-header"},eL={class:"user-avatar small"},tL={class:"user-name"},nL={class:"chat-area"},sL={class:"chat-header"},iL={class:"chat-title"},rL={class:"chat-description"},oL={class:"dm-header-avatar"},aL={class:"chat-title"},lL={key:2,class:"chat-title"},cL={key:0,class:"no-selection"},uL={key:1,class:"loading"},hL={key:2},dL={class:"message-avatar"},fL={class:"message-content"},pL={class:"message-header"},mL={class:"message-author"},gL={class:"message-time"},yL={key:0,class:"message-input-container"},_L={class:"emoticons"},vL=["onClick"],wL={class:"input-row"},bL=["placeholder"],TL=["disabled"],EL={class:"user-list"},IL=["onClick"],AL={class:"user-avatar"},kL=ct({__name:"index",setup(t){const e=X(null),n=X(""),s=X("channels"),i=X(null),r=X(null),o=X(""),a=X([]),c=X([]),u=X([]),h=X(!1),d=X(!1),p=X(),g=EV,v=X({}),E=X({}),{notifyMessage:D}=lf(),{setAppOpen:L}=eb(),$=new Set;let C=null,T=null,P=null,F=null;const k=Le(()=>c.value.filter(N=>N.uid!==e.value?.uid&&!u.value.some(V=>V.otherUserId===N.uid))),w=async()=>{if(n.value.trim())try{await AV(n.value),Nt()}catch(N){console.error("Login error:",N);let V="Failed to sign in. ";N.code==="permission-denied"?V+="Firebase permissions error. Please check Firestore rules.":N.code==="unavailable"?V+="Firebase is unavailable. Check your internet connection.":V+=N.message||"Please try again.",alert(V)}},y=async()=>{e.value&&(await kV(e.value.uid),He())},I=N=>{i.value=N,r.value=null,v.value[N.id]=0,E.value[N.id]=Date.now(),S(N.id)},x=N=>{r.value=N,i.value=null,ye(N.id)},R=async N=>{if(!e.value)return;const V=await SV(e.value,N),z={id:V,otherUser:N.displayName,otherUserId:N.uid,online:!0};u.value.push(z),r.value=z,i.value=null,d.value=!1,ye(V)},S=N=>{C&&C(),h.value=!0;const V=Ss(Dn(_t,"messages"),Cs("channelId","==",N),qa(100));C=di(V,z=>{console.log(`Received ${z.docs.length} messages for channel ${N}`);const we=z.docs.map(se=>{const $e=se.data();return console.log("Message data:",$e),{id:se.id,...$e}});we.sort((se,$e)=>{const Qe=se.timestamp?.toMillis()||0,M=$e.timestamp?.toMillis()||0;return Qe-M}),!h.value&&e.value&&we.forEach(se=>{if(!$.has(se.id)&&se.userId!==e.value.uid){if(i.value?.id!==N){v.value[N]||(v.value[N]=0);const $e=se.timestamp?.toMillis()||Date.now(),Qe=E.value[N]||0;$e>Qe&&v.value[N]++}$.add(se.id)}}),we.forEach(se=>$.add(se.id)),a.value=we,h.value=!1,We()},z=>{console.error("Error loading channel messages:",z),h.value=!1,z.code==="permission-denied"?alert("Permission denied. Please check Firebase security rules."):z.code==="failed-precondition"&&alert("Firebase index required. Check console for index creation link.")})},ye=N=>{C&&C(),h.value=!0;const V=Ss(Dn(_t,"messages"),Cs("conversationId","==",N),qa(100));C=di(V,z=>{const we=z.docs.map(se=>({id:se.id,...se.data()}));we.sort((se,$e)=>{const Qe=se.timestamp?.toMillis()||0,M=$e.timestamp?.toMillis()||0;return Qe-M}),!h.value&&e.value&&we.forEach(se=>{!$.has(se.id)&&se.userId!==e.value.uid&&(D(se.userName,se.text,void 0,"yahooMessenger"),$.add(se.id))}),we.forEach(se=>$.add(se.id)),a.value=we,h.value=!1,We()},z=>{console.error("Error loading direct messages:",z),h.value=!1})},Se=async()=>{if(!o.value.trim()||!e.value)return;const N=o.value.trim();o.value="";try{i.value?(console.log("Sending to channel:",i.value.id),await ty(e.value,i.value.id,N)):r.value&&(console.log("Sending DM to:",r.value.id),await ny(e.value,r.value.id,N)),ey()}catch(V){console.error("Failed to send message:",V),alert("Failed to send message. Check console for details."),o.value=N}},ie=async()=>{if(!e.value)return;const N="🐝 BUZZ! 🐝";i.value?await ty(e.value,i.value.id,N,"buzz"):r.value&&await ny(e.value,r.value.id,N,"buzz"),ey();const V=document.querySelector(".chat-area");V&&(V.classList.add("buzz-shake"),setTimeout(()=>{V.classList.remove("buzz-shake")},500))},ue=N=>{o.value+=N},le=async()=>{if(i.value&&confirm(`Clear all messages in #${i.value.name}?`))try{const N=await PV(i.value.id);a.value=[],alert(`Cleared ${N} messages from #${i.value.name}`)}catch(N){console.error("Failed to clear channel:",N),alert("Failed to clear messages. Check console for details.")}},Fe=()=>{const N=Ss(Dn(_t,"users"),Cs("online","==",!0));T=di(N,V=>{c.value=V.docs.map(z=>({uid:z.id,...z.data()})).filter(z=>z.uid!==e.value?.uid)})},Wt=async()=>{if(!e.value)return;const N=Ss(Dn(_t,"directMessages"),Cs("participants","array-contains",e.value.uid));P=di(N,async V=>{const z=[];for(const we of V.docs){const se=we.data(),$e=se.participants.find(B=>B!==e.value.uid),Qe=se.participantNames[$e],O=(await m4(Ln(_t,"users",$e))).data();z.push({id:we.id,otherUser:Qe,otherUserId:$e,lastMessage:se.lastMessage,lastSeen:O?.lastSeen,online:O?.online||!1})}u.value=z})},Nt=()=>{e.value&&(F=kv(async()=>{e.value&&await CV(e.value.uid)},3e4))},He=()=>{C&&C(),T&&T(),P&&P(),F&&clearInterval(F)},We=()=>{os(()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)})},Ne=()=>{g.forEach(N=>{if(i.value?.id===N.id)return;const V=Ss(Dn(_t,"messages"),Cs("channelId","==",N.id),qa(50));di(V,z=>{if(!e.value)return;const we=z.docs.map(Qe=>({id:Qe.id,...Qe.data()})),se=E.value[N.id]||0;let $e=0;we.forEach(Qe=>{const M=Qe.timestamp?.toMillis()||0;Qe.userId!==e.value.uid&&M>se&&$e++}),v.value[N.id]=$e})})},_e=()=>{const{register:N}=rS();N("yahooMessenger.signOut",()=>{y()}),N("yahooMessenger.newMessage",()=>{d.value=!0}),N("yahooMessenger.joinChannel",()=>{g[0]&&I(g[0])}),N("yahooMessenger.switchChannel",V=>{const z=g.find(we=>we.id===V.channel);z&&I(z)}),N("yahooMessenger.showDirectMessages",()=>{s.value="direct"}),N("yahooMessenger.clearChat",()=>{le()}),N("yahooMessenger.setStatus",V=>{console.log("Set status to:",V.status)}),N("yahooMessenger.sendBuzz",()=>{ie()}),N("yahooMessenger.insertEmoticon",V=>{ue(V.emoticon)}),N("yahooMessenger.toggleSounds",()=>{console.log("Toggle sounds")}),N("yahooMessenger.toggleNotifications",()=>{console.log("Toggle notifications")}),N("yahooMessenger.toggleSidebar",()=>{console.log("Toggle sidebar")}),N("yahooMessenger.toggleOnlineUsers",()=>{console.log("Toggle online users")}),N("yahooMessenger.showAbout",()=>{console.log("Show about")})};return tn(()=>{_e(),os(()=>{L(!0)}),j0(Ac,N=>{e.value=N,N&&(Fe(),Wt(),Ne(),g[0]&&I(g[0]))})}),kn(()=>{L(!1),He(),e.value&&Do(Ln(_t,"users",e.value.uid),{online:!1,lastSeen:zn()}).catch(()=>{})}),on(()=>e.value,async(N,V)=>{V&&!N&&await Do(Ln(_t,"users",V.uid),{online:!1,lastSeen:zn()}).catch(()=>{})}),(N,V)=>(j(),W("div",xV,[e.value?(j(),W("div",NV,[_("div",VV,[_("div",LV,[_("div",FV,Q(me(Bi)(e.value.displayName||"")),1),_("div",$V,[_("div",UV,Q(e.value.displayName),1),V[11]||(V[11]=_("div",{class:"status-indicator online"},"Online",-1))]),_("button",{onClick:y,class:"logout-btn",title:"Sign Out"},V[12]||(V[12]=[_("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[_("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),_("polyline",{points:"16 17 21 12 16 7"}),_("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1)]))]),_("div",jV,[_("button",{onClick:V[1]||(V[1]=z=>s.value="channels"),class:Ee({active:s.value==="channels"})}," Channels ",2),_("button",{onClick:V[2]||(V[2]=z=>s.value="direct"),class:Ee({active:s.value==="direct"})}," Direct Messages ",2)]),s.value==="channels"?(j(),W("div",BV,[V[14]||(V[14]=_("div",{class:"section-header"},"CHANNELS",-1)),(j(!0),W(pe,null,Oe(me(g),z=>(j(),W("div",{key:z.id,onClick:we=>I(z),class:Ee(["channel-item",{active:i.value?.id===z.id}])},[V[13]||(V[13]=_("span",{class:"channel-icon"},"#",-1)),_("span",HV,Q(z.name),1),(v.value[z.id]??0)>0?(j(),W("span",WV,Q(v.value[z.id]),1)):Ye("",!0)],10,zV))),128))])):(j(),W("div",qV,[_("div",KV,[V[15]||(V[15]=fi(" DIRECT MESSAGES ",-1)),_("button",{onClick:V[3]||(V[3]=z=>d.value=!0),class:"add-dm-btn"},"+")]),(j(!0),W(pe,null,Oe(u.value,z=>(j(),W("div",{key:z.id,onClick:we=>x(z),class:Ee(["dm-item",{active:r.value?.id===z.id}])},[_("div",QV,Q(me(Bi)(z.otherUser)),1),_("div",YV,[_("div",JV,Q(z.otherUser),1),_("div",{class:Ee(["dm-status",{online:z.online}])},Q(z.online?"Online":me(Zg)(z.lastSeen||null)),3)])],10,GV))),128))])),_("div",XV,[_("div",ZV,"ONLINE NOW ("+Q(c.value.length)+")",1),(j(!0),W(pe,null,Oe(c.value,z=>(j(),W("div",{key:z.uid,class:"online-user"},[_("div",eL,Q(me(Bi)(z.displayName)),1),_("span",tL,Q(z.displayName),1)]))),128))])]),_("div",nL,[_("div",sL,[s.value==="channels"&&i.value?(j(),W(pe,{key:0},[V[16]||(V[16]=_("span",{class:"channel-icon"},"#",-1)),_("span",iL,Q(i.value.name),1),_("span",rL,Q(i.value.description),1)],64)):s.value==="direct"&&r.value?(j(),W(pe,{key:1},[_("div",oL,Q(me(Bi)(r.value.otherUser)),1),_("span",aL,Q(r.value.otherUser),1),_("span",{class:Ee(["chat-status",{online:r.value.online}])},Q(r.value.online?"Online":"Last seen "+me(Zg)(r.value.lastSeen||null)),3)],64)):(j(),W("span",lL,"Select a conversation"))]),_("div",{ref_key:"messagesContainer",ref:p,class:"messages-container"},[!i.value&&!r.value?(j(),W("div",cL,V[17]||(V[17]=[_("img",{src:Im,alt:"Yahoo Messenger",class:"watermark"},null,-1),_("p",null,"Select a channel or start a direct message",-1)]))):h.value?(j(),W("div",uL," Loading messages... ")):(j(),W("div",hL,[(j(!0),W(pe,null,Oe(a.value,z=>(j(),W("div",{key:z.id,class:"message"},[_("div",dL,Q(me(Bi)(z.userName)),1),_("div",fL,[_("div",pL,[_("span",mL,Q(z.userName),1),_("span",gL,Q(me(Z0)(z.timestamp)),1)]),_("div",{class:Ee(["message-text",{buzz:z.type==="buzz"}])},Q(z.text),3)])]))),128))]))],512),i.value||r.value?(j(),W("div",yL,[_("div",_L,[(j(!0),W(pe,null,Oe(me(IV),z=>(j(),W("button",{key:z,onClick:we=>ue(z),class:"emoji-btn"},Q(z),9,vL))),128))]),_("div",wL,[_("button",{onClick:ie,class:"buzz-btn",title:"Send BUZZ!"}," BUZZ! "),dn(_("input",{"onUpdate:modelValue":V[4]||(V[4]=z=>o.value=z),onKeyup:ul(Se,["enter"]),placeholder:`Message ${s.value==="channels"?"#"+i.value?.name:r.value?.otherUser}`,class:"message-input"},null,40,bL),[[vi,o.value]]),_("button",{onClick:Se,disabled:!o.value.trim(),class:"send-btn"}," Send ",8,TL)])])):Ye("",!0)])])):(j(),W("div",MV,[_("div",DV,[V[8]||(V[8]=_("img",{src:Im,alt:"Yahoo Messenger",class:"logo"},null,-1)),V[9]||(V[9]=_("h2",null,"Yahoo! Messenger",-1)),V[10]||(V[10]=_("p",null,"Enter your name to join",-1)),dn(_("input",{"onUpdate:modelValue":V[0]||(V[0]=z=>n.value=z),onKeyup:ul(w,["enter"]),placeholder:"Your name",class:"username-input"},null,544),[[vi,n.value]]),_("button",{onClick:w,disabled:!n.value.trim(),class:"login-btn"}," Sign In ",8,OV)])])),d.value?(j(),W("div",{key:2,class:"modal-overlay",onClick:V[7]||(V[7]=z=>d.value=!1)},[_("div",{class:"modal",onClick:V[6]||(V[6]=qe(()=>{},["stop"]))},[V[18]||(V[18]=_("h3",null,"Start Direct Message",-1)),V[19]||(V[19]=_("p",null,"Select a user to message:",-1)),_("div",EL,[(j(!0),W(pe,null,Oe(k.value,z=>(j(),W("div",{key:z.uid,onClick:we=>R(z),class:"user-option"},[_("div",AL,Q(me(Bi)(z.displayName)),1),_("span",null,Q(z.displayName),1)],8,IL))),128))]),_("button",{onClick:V[5]||(V[5]=z=>d.value=!1),class:"cancel-btn"},"Cancel")])])):Ye("",!0)]))}}),SL=Object.assign(Tt(kL,[["__scopeId","data-v-ed6bab8e"]]),{__name:"AppsYahooMessenger"}),CL={class:"os-window-controls"},RL=["disabled"],PL={class:"os-window-title"},xL={class:"os-window-content"},ML={key:1},DL=ct({name:"OsWindow",__name:"Window",props:{win:{}},setup(t){const e=t,n=st();Kh("window",e.win);const s=Le(()=>({position:"absolute",left:e.win.rect.x+"px",top:e.win.rect.y-n.menuBarHeight+"px",width:e.win.rect.width+"px",height:e.win.rect.height+"px",zIndex:e.win.zIndex})),i=Le(()=>n.focusedId===e.win.id);function r(h){n.closeMenu(),n.startDrag(e.win.id,h.clientX,h.clientY)}function o(h,d){n.closeMenu(),n.startResize(e.win.id,h,d.clientX,d.clientY)}function a(){e.win.maximizable!==!1&&n.toggleMaximize(e.win.id)}function c(){e.win.maximizable!==!1&&n.toggleMaximize(e.win.id)}function u(){n.closeMenu(),n.bringToFront(e.win.id)}return(h,d)=>{const p=lC,g=wC,v=FC,E=dR,D=t2,L=j2,$=bP,C=SL;return j(),W("div",{class:Ee(["os-window",{active:i.value,inactive:!i.value}]),style:At(s.value),onMousedown:qe(u,["stop"])},[_("div",{class:"os-window-header",onMousedown:qe(r,["stop"]),onDblclick:qe(a,["stop"])},[_("div",CL,[h.win.closable?(j(),W("button",{key:0,class:"os-window-control close",onClick:d[0]||(d[0]=qe(T=>me(n).closeWindow(h.win.id),["stop"])),"aria-label":"Close"})):Ye("",!0),h.win.minimizable!==!1?(j(),W("button",{key:1,class:"os-window-control minimize",onClick:d[1]||(d[1]=qe(T=>me(n).toggleMinimize(h.win.id),["stop"])),"aria-label":"Minimize"})):Ye("",!0),h.win.resizable!==!1?(j(),W("button",{key:2,class:Ee(["os-window-control maximize",{disabled:h.win.maximizable===!1}]),onClick:qe(c,["stop"]),"aria-label":"Maximize",disabled:h.win.maximizable===!1},null,10,RL)):Ye("",!0)]),_("div",PL,Q(h.win.title),1)],32),_("div",{class:"resize-handle handle-n",onMousedown:d[2]||(d[2]=qe(T=>o("n",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-s",onMousedown:d[3]||(d[3]=qe(T=>o("s",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-e",onMousedown:d[4]||(d[4]=qe(T=>o("e",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-w",onMousedown:d[5]||(d[5]=qe(T=>o("w",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-ne",onMousedown:d[6]||(d[6]=qe(T=>o("ne",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-nw",onMousedown:d[7]||(d[7]=qe(T=>o("nw",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-se",onMousedown:d[8]||(d[8]=qe(T=>o("se",T),["stop"]))},null,32),_("div",{class:"resize-handle handle-sw",onMousedown:d[9]||(d[9]=qe(T=>o("sw",T),["stop"]))},null,32),_("div",xL,[OT(h.$slots,"default",{},()=>[h.win.kind==="app"||h.win.kind==="system"?(j(),W(pe,{key:0},[h.win.appId==="finder"?(j(),it(p,{key:0})):h.win.appId==="textedit"?(j(),it(g,{key:1,"window-id":h.win.id},null,8,["window-id"])):h.win.appId==="shortcuts"?(j(),it(v,{key:2})):h.win.appId==="about"?(j(),it(E,{key:3})):h.win.appId==="settings"?(j(),it(D,{key:4})):h.win.appId==="typingtest"?(j(),it(L,{key:5})):h.win.appId==="keystation"?(j(),it($,{key:6})):h.win.appId==="yahoomessenger"?(j(),it(C,{key:7})):Ye("",!0)],64)):(j(),W("p",ML,"This is a window body (id: "+Q(h.win.id)+")",1))])])],38)}}}),OL=Object.assign(Tt(DL,[["__scopeId","data-v-1da10268"]]),{__name:"OsWindow"}),NL={class:"wm-root"},VL={class:"debug"},LL=ct({name:"OsWindowManager",__name:"WindowManager",setup(t){const e=st(),{isModifierPressed:n}=Av();function s(u){e.resizeTo(u.clientX,u.clientY),e.dragTo(u.clientX,u.clientY)}function i(){e.endDrag()}let r;function o(){r&&window.clearTimeout(r),r=window.setTimeout(()=>{e.realignAllToBounds()},100)}function a(){const u=e.orderedWindows;if(u.length===0)return;const h=e.focusedId??null,d=h!=null?u.findIndex(g=>g.id===h):-1,p=u[(d+1)%u.length];p&&e.bringToFront(p.id)}function c(u){if(u.key==="Escape"){e.endDrag(),e.closeMenu(),u.preventDefault();return}if(n(u))switch(u.key.toLowerCase()){case"n":{const p=e.focused?.appId??null;p==="textedit"?xn("app.newDocument",{appId:p}):p?xn("app.newWindow",{appId:p}):xn("os.openWindow"),u.preventDefault();return}case"w":{xn("os.closeFocused"),u.preventDefault();return}case"m":{xn("os.minimizeFocused"),u.preventDefault();return}case"z":{xn("view.toggleZoom"),u.preventDefault();return}case"/":{xn("system.showShortcuts"),u.preventDefault();return}case"`":{a(),u.preventDefault();return}}if(u.metaKey||u.ctrlKey)switch(u.key.toLowerCase()){case"m":{const d=e.focused;d&&e.toggleMinimize(d.id),u.preventDefault();break}case"w":{const d=e.focused;d&&e.closeWindow(d.id),u.preventDefault();break}case"`":{a(),u.preventDefault();break}}}return tn(()=>{th(),window.addEventListener("mousemove",s),window.addEventListener("mouseup",i),window.addEventListener("keydown",c),window.addEventListener("resize",o)}),kn(()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",i),window.removeEventListener("keydown",c),window.removeEventListener("resize",o)}),(u,h)=>(j(),W("div",NL,[_("div",VL,"Windows: "+Q(me(e).windows.length),1),(j(!0),W(pe,null,Oe(me(e).orderedWindows,d=>(j(),it(OL,{key:d.id,win:d},null,8,["win"]))),128))]))}}),FL=Object.assign(Tt(LL,[["__scopeId","data-v-2cd040b4"]]),{__name:"OsWindowManager"}),$L={class:"dock-item"},UL=["title"],jL=["src","alt"],BL={key:1,class:"dock-icon-emoji","aria-hidden":"true"},zL={key:2,class:"count-badge","aria-hidden":"true"},HL={class:"sr-only"},WL=ct({name:"OsDockItem",__name:"DockItem",props:{id:{},title:{},icon:{},emoji:{},running:{type:Boolean,default:!1},minimized:{type:Boolean,default:!1},minimizedCount:{default:0}},emits:["launch","context","drag-start","drag-over","drop"],setup(t){const e=X(!1),n=Le(()=>ks(t.icon));return(s,i)=>(j(),W("li",$L,[_("button",{class:"dock-button",onClick:i[1]||(i[1]=r=>s.$emit("launch")),onContextmenu:i[2]||(i[2]=qe(r=>s.$emit("context",r),["prevent"])),title:s.title,"aria-haspopup":"true",draggable:"true",onDragstart:i[3]||(i[3]=r=>s.$emit("drag-start",{id:s.id,ev:r})),onDragover:i[4]||(i[4]=qe(r=>s.$emit("drag-over",{id:s.id,ev:r}),["prevent"])),onDrop:i[5]||(i[5]=qe(r=>s.$emit("drop",{id:s.id,ev:r}),["prevent"]))},[n.value&&!e.value?(j(),W("img",{key:0,src:n.value,alt:s.title,class:"dock-icon-svg","aria-hidden":"true",onError:i[0]||(i[0]=r=>e.value=!0)},null,40,jL)):(j(),W("span",BL,Q(s.emoji||"🗂️"),1)),s.minimizedCount&&s.minimizedCount>1?(j(),W("span",zL,Q(s.minimizedCount),1)):Ye("",!0),s.running?(j(),W("span",{key:3,class:Ee(["running-dot",{hidden:s.minimized}]),"aria-hidden":"true"},null,2)):Ye("",!0),_("span",HL,Q(s.title),1)],40,UL)]))}}),qL=Object.assign(Tt(WL,[["__scopeId","data-v-80346c13"]]),{__name:"OsDockItem"}),KL={class:"os-dock","aria-label":"Dock"},GL=ct({name:"OsDock",__name:"Dock",setup(t){const e=yt(),n=st(),s=Le(()=>{const d=new Map;for(const v of n.windows){if(!v.appId||!v.minimized)continue;const E=d.get(v.appId)??{count:0};E.count++,d.set(v.appId,E)}const p=Array.from(d.keys());return(typeof e.orderMinimizedAppIds=="function"?e.orderMinimizedAppIds(p):p).map(v=>{const E=e.registry[v],D=d.get(v)?.count??0;return E?{id:v,title:E.title,icon:E.icon,emoji:E.emoji??"🗂️",minimizedCount:D}:null}).filter(v=>v!==null)});function i(d){const g=n.windows.filter(v=>v.appId===d&&v.minimized).sort((v,E)=>E.zIndex-v.zIndex)[0];g&&n.restoreWindow(g.id)}function r(d,p){const g=n.windows.filter(w=>w.appId===d&&w.minimized).map(w=>({id:w.id,title:w.title})),v=e.registry[d]?.title,E=TS(d,g,v),D=p?.clientX??Math.round(window.innerWidth/2),L=p?.clientY??Math.round(window.innerHeight/2),$=240,C=240,T=Math.max(8,window.innerWidth-$-8),P=Math.min(D,T),k=window.innerHeight-L<C+20?Math.max(8,L-C):L;n.openContext(P,k,E)}const o=X(null);function a(d){o.value=d.id;const p=d.ev.dataTransfer;p&&(p.setData("text/plain",d.id),p.effectAllowed="move",p.dropEffect="move")}function c(d){const p=d.ev.dataTransfer;p&&(p.dropEffect="move")}function u(d){const p=o.value,g=d.id;p&&e.moveInMinOrder(p,g??null),o.value=null}function h(d){const g=d.dataTransfer?.getData("text/plain")||"";g&&typeof g=="string"&&e.moveInMinOrder(g,null),o.value=null}return(d,p)=>{const g=qL;return j(),W("nav",KL,[_("ul",{class:"dock-list",onDragover:p[0]||(p[0]=qe(()=>{},["prevent"])),onDrop:qe(h,["prevent"])},[(j(!0),W(pe,null,Oe(s.value,v=>(j(),it(g,{key:v.id,id:v.id,title:v.title,icon:v.icon,emoji:v.emoji,"minimized-count":v.minimizedCount,onLaunch:E=>i(v.id),onContext:E=>r(v.id,E),onDragStart:a,onDragOver:c,onDrop:u},null,8,["id","title","icon","emoji","minimized-count","onLaunch","onContext"]))),128))],32)])}}}),QL=Object.assign(Tt(GL,[["__scopeId","data-v-b2d98d9c"]]),{__name:"OsDock"}),YL=ct({name:"OsContextMenu",__name:"ContextMenu",props:{sections:{},origin:{},z:{},closeOnExecute:{type:Boolean}},emits:["executed","request-close"],setup(t,{emit:e}){const n=t,s=e,i=Le(()=>{const c=[];return n.sections.forEach((u,h)=>{h>0&&c.push({id:`separator-${h}`,label:"---",role:"separator"}),c.push(...u.entries)}),c});function r(){s("request-close")}function o(c){s("executed",c),n.closeOnExecute!==!1&&s("request-close")}function a(c){c.key==="Escape"&&(c.preventDefault(),s("request-close"))}return tn(()=>{window.addEventListener("keydown",a)}),kn(()=>{window.removeEventListener("keydown",a)}),(c,u)=>(j(),it($y,{to:"body"},[_("div",{class:"cm-overlay",role:"presentation",onClick:r},[_("div",{class:"cm-root",onClick:u[0]||(u[0]=qe(()=>{},["stop"]))},[ze(Iv,{entries:i.value,origin:c.origin,z:c.z,onExecuted:o},null,8,["entries","origin","z"])])])]))}}),JL=Object.assign(Tt(YL,[["__scopeId","data-v-2c990f8b"]]),{__name:"OsContextMenu"}),XL={class:"notifications-container"},ZL=["onClick"],e6=["src"],t6={key:1,class:"notification-icon-default"},n6={key:0,viewBox:"0 0 24 24",fill:"currentColor"},s6={key:1,viewBox:"0 0 24 24",fill:"currentColor"},i6={key:2,viewBox:"0 0 24 24",fill:"currentColor"},r6={key:3,viewBox:"0 0 24 24",fill:"currentColor"},o6={class:"notification-content"},a6={class:"notification-title"},l6={class:"notification-message"},c6={key:0,class:"notification-actions"},u6=["onClick"],h6=["onClick"],d6=ct({__name:"Notifications",setup(t){const{notifications:e,dismissNotification:n}=lf(),s=st(),i=o=>{if(o.appId){const a=s.windows.find(c=>c.appId===o.appId);a?s.focusWindow(a.id):s.openApp(o.appId)}},r=(o,a)=>{a.action(),n(o.id)};return(o,a)=>(j(),it($y,{to:"body"},[_("div",XL,[ze(J1,{name:"notification",tag:"div"},{default:zh(()=>[(j(!0),W(pe,null,Oe(me(e),c=>(j(),W("div",{key:c.id,class:Ee(["notification",`notification-${c.type}`]),onClick:u=>i(c)},[c.icon?(j(),W("img",{key:0,src:c.icon,class:"notification-icon",alt:""},null,8,e6)):(j(),W("div",t6,[c.type==="success"?(j(),W("svg",n6,a[0]||(a[0]=[_("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},null,-1)]))):c.type==="error"?(j(),W("svg",s6,a[1]||(a[1]=[_("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},null,-1)]))):c.type==="warning"?(j(),W("svg",i6,a[2]||(a[2]=[_("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},null,-1)]))):(j(),W("svg",r6,a[3]||(a[3]=[_("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1)])))])),_("div",o6,[_("div",a6,Q(c.title),1),_("div",l6,Q(c.message),1),c.actions?(j(),W("div",c6,[(j(!0),W(pe,null,Oe(c.actions,(u,h)=>(j(),W("button",{key:h,onClick:qe(d=>r(c,u),["stop"]),class:"notification-action"},Q(u.label),9,u6))),128))])):Ye("",!0)]),_("button",{onClick:qe(u=>me(n)(c.id),["stop"]),class:"notification-close","aria-label":"Close notification"},a[4]||(a[4]=[_("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[_("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,h6)],10,ZL))),128))]),_:1})])]))}}),f6=Object.assign(Tt(d6,[["__scopeId","data-v-9f0b19b2"]]),{__name:"OsNotifications"}),p6={class:"os-root"},m6={class:"os-desktop-area"},g6=ct({name:"AppRoot",__name:"app",setup(t){const e=st(),n=yt(),s=Le(()=>e.wallpaper?e.wallpaper.startsWith("url(")||e.wallpaper.includes("gradient")?{background:e.wallpaper,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:e.wallpaper}:{});return tn(()=>{th(),e.loadSession(),e.initTheme();const{initializeGlobalListeners:i}=eb();i(),n.loadIconPositions(),n.loadIconLayout(),n.registerApps([{id:"finder",title:"Finder",icon:"icons/system/finder.png",emoji:"🗂️",kind:"system"},{id:"textedit",title:"TextEdit",icon:"icons/apps/textEdit.png",emoji:"📝",kind:"app"},{id:"shortcuts",title:"Shortcuts",icon:"icons/system/shortcuts.png",emoji:"⌨️",kind:"system",showOnDesktop:!1},{id:"about",title:"About Webintosh",icon:"icons/system/about.svg",emoji:"ℹ️",kind:"system",defaultRect:{x:100,y:80,width:400,height:600},showOnDesktop:!1},{id:"settings",title:"System Settings",icon:"icons/system/settings.png",emoji:"⚙️",kind:"system",defaultRect:{x:100,y:80,width:900,height:600}},{id:"typingtest",title:"Typing Test 2000",icon:"icons/apps/typingTest.png",emoji:"⌨️",kind:"app",defaultRect:{x:100,y:80,width:900,height:620}},{id:"keystation",title:"KeyStation",icon:"icons/apps/keyStation.png",emoji:"🎹",kind:"app",defaultRect:{x:100,y:80,width:960,height:600}},{id:"yahoomessenger",title:"Yahoo! Messenger",icon:"icons/apps/yahooMessenger.png",emoji:"Yahoo!",kind:"app",defaultRect:{x:100,y:80,width:960,height:600}}]),n.loadMinOrder(),th()}),(i,r)=>{const o=DS,a=HS,c=FL,u=QL,h=JL,d=f6;return j(),W("div",p6,[_("div",{class:Ee(["os-wallpaper",{"has-wallpaper":!!me(e).wallpaper}]),style:At(s.value)},null,6),ze(o),_("main",m6,[ze(a),ze(c),ze(u),me(e).menu.openType==="context"&&me(e).menu.contextTemplate&&me(e).menu.contextPos?(j(),it(h,{key:0,sections:me(e).menu.contextTemplate.sections,origin:me(e).menu.contextPos,z:3e3,onExecuted:r[0]||(r[0]=p=>me(e).closeMenu()),onRequestClose:r[1]||(r[1]=p=>me(e).closeMenu())},null,8,["sections","origin"])):Ye("",!0),ze(d)])])}}}),y6={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const s=Number(n.statusCode||500),i=s===404,r=n.statusMessage??(i?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=i?Ru(()=>Yu(()=>import("./B7ZsNCFf.js"),__vite__mapDeps([0,1]),import.meta.url)):Ru(()=>Yu(()=>import("./B0nhcZ-f.js"),__vite__mapDeps([2,3]),import.meta.url));return(d,p)=>(j(),it(me(h),Db(v_({statusCode:me(s),statusMessage:me(r),description:me(o),stack:me(a)})),null,16))}},_6={key:0},ry={__name:"nuxt-root",setup(t){const e=()=>null,n=ft(),s=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",s);js().beforeEach(u)}const i=!1;Kh(K_,G_()),n.hooks.callHookWith(u=>u.map(h=>h()),"vue:setup");const r=rd(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;qy((u,h,d)=>{if(n.hooks.callHook("vue:error",u,h,d).catch(p=>console.error("[nuxt] Error in `vue:error` hook",p)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(NI(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>DI(u)),!1});const c=!1;return(u,h)=>(j(),it(c1,{onResolve:me(s)},{default:zh(()=>[me(o)?(j(),W("div",_6)):me(r)?(j(),it(me(y6),{key:1,error:me(r)},null,8,["error"])):me(c)?(j(),it(me(e),{key:2,context:me(c)},null,8,["context"])):me(i)?(j(),it(DT(me(i)),{key:3})):(j(),it(me(g6),{key:4}))]),_:1},8,["onResolve"]))}};let oy;{let t;oy=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),s=n?cE(ry):lE(ry),i=gI({vueApp:s});async function r(o){await i.callHook("app:error",o),i.payload.error||=od(o)}s.config.errorHandler=r,i.hook("app:suspense:resolve",()=>{s.config.errorHandler===r&&(s.config.errorHandler=void 0)}),!n&&Wp.id&&i.hook("app:suspense:resolve",()=>{document.getElementById(Wp.id)?.remove()});try{await vI(i,sS)}catch(o){r(o)}try{await i.hooks.callHook("app:created",s),await i.hooks.callHook("app:beforeMount",s),s.mount(fI),await i.hooks.callHook("app:mounted",s),await os()}catch(o){r(o)}return s},t=oy().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Q as A,ze as B,zh as C,fi as D,av as E,b6 as F,T6 as G,on as H,uk as I,E6 as J,Tt as _,ft as a,ud as b,am as c,ct as d,qh as e,w6 as f,MT as g,Lu as h,MI as i,Le as j,Er as k,Ql as l,fr as m,xI as n,tn as o,ed as p,td as q,X as r,Au as s,v6 as t,js as u,wA as v,Bu as w,W as x,j as y,_ as z};
