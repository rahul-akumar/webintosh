---
title: macOS-like Dock restore and resize fixes
version: 0.1.1
date: 2025-08-16
description: Restore minimized windows by Dock click, improved focus management, and north/west resize math fix; test suite updated accordingly.
---

This release summarizes additions and changes since 0.1.0.

Added
- Focus management helper [focusTopMost()](stores/os.ts:109) and integration in [loadSession()](stores/os.ts:88), [closeWindow()](stores/os.ts:169), and [minimizeWindow()](stores/os.ts:315) to maintain a valid focused window.
- Desktop click now clears focus in [onDesktopClick()](app/components/os/Desktop.vue:16) for OS-like behavior.
- Snap tuning knob [snapThreshold](types/os.ts:61) with default initialization in [state](stores/os.ts:45). Snapping UX will land in a subsequent release.

Changed
- macOS-like minimize/restore via Dock: Clicking a Dock icon now focuses the topmost visible window or restores the topmost minimized window of that app via [launchOrFocus()](stores/apps.ts:83).
- Removed the separate Shelf from the app layout; minimized windows are restored directly from the Dock. See [App layout](app/app.vue:5).
- End-to-end tests updated to assert Dock-driven restore flows in [window-management.spec.ts](tests/e2e/window-management.spec.ts:108,121).

Fixed
- Resizing from the North/West edges could “slide” the window in the opposite direction after hitting minimum size. The resize math now anchors the opposite edge and recomputes x/y after clamping width/height. See [resizeTo()](stores/os.ts:243).

Removed
- Shelf overlay removed from the layout (superseded by Dock behavior). The component [Shelf.vue](app/components/os/Shelf.vue:1) remains in the repository but is unused and may be deleted in a future cleanup.

Notes
- Running indicator on Dock items already reflects minimized-only state (dimmed dot) in [DockItem.vue](app/components/os/DockItem.vue:60).
- Future: implement edge/half-screen snapping leveraging [snapThreshold](types/os.ts:61).